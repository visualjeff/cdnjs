/*! shepherd 0.4.0 */
(function(){var t,e,n,o,i,s,r,h,l,a,p,u,f,c,d,g,m={}.hasOwnProperty,v=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},b=[].slice;null==window.Tether&&(window.Tether={}),a=function(t){var e,n,o,i,s;if(n=getComputedStyle(t).position,"fixed"===n)return t;for(o=void 0,e=t;e=e.parentNode;){try{i=getComputedStyle(e)}catch(r){}if(null==i)return e;if(/(auto|scroll)/.test(i.overflow+i["overflow-y"]+i["overflow-x"])&&("absolute"!==n||"relative"===(s=i.position)||"absolute"===s||"fixed"===s))return e}return document.body},c=function(){var t;return t=0,function(){return t++}}(),g={},l=function(t){var e,o,s,r,h;if(s=t._tetherZeroElement,null==s&&(s=t.createElement("div"),s.setAttribute("data-tether-id",c()),i(s.style,{top:0,left:0,position:"absolute"}),t.body.appendChild(s),t._tetherZeroElement=s),e=s.getAttribute("data-tether-id"),null==g[e]){g[e]={},h=s.getBoundingClientRect();for(o in h)r=h[o],g[e][o]=r;n(function(){return g[e]=void 0})}return g[e]},u=null,r=function(t){var e,n,o,i,s,r,h;t===document?(n=document,t=document.documentElement):n=t.ownerDocument,o=n.documentElement,e={},h=t.getBoundingClientRect();for(i in h)r=h[i],e[i]=r;return s=l(n),e.top-=s.top,e.left-=s.left,e.top=e.top-o.clientTop,e.left=e.left-o.clientLeft,e.right=n.body.clientWidth-e.width-e.left,e.bottom=n.body.clientHeight-e.height-e.top,e},h=function(t){return t.offsetParent||document.documentElement},i=function(t){var e,n,o,i,s,r,h;for(null==t&&(t={}),e=[],Array.prototype.push.apply(e,arguments),h=e.slice(1),s=0,r=h.length;r>s;s++)if(o=h[s])for(n in o)m.call(o,n)&&(i=o[n],t[n]=i);return t},f=function(t,e){var n,o,i,s,r;if(null!=t.classList){for(s=e.split(" "),r=[],o=0,i=s.length;i>o;o++)n=s[o],r.push(t.classList.remove(n));return r}return t.className=t.className.replace(new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi")," ")},e=function(t,e){var n,o,i,s,r;if(null!=t.classList){for(s=e.split(" "),r=[],o=0,i=s.length;i>o;o++)n=s[o],r.push(t.classList.add(n));return r}return f(t,e),t.className+=" "+e},p=function(t,e){return null!=t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},d=function(t,n,o){var i,s,r,h,l,a;for(s=0,h=o.length;h>s;s++)i=o[s],v.call(n,i)<0&&p(t,i)&&f(t,i);for(a=[],r=0,l=n.length;l>r;r++)i=n[r],a.push(p(t,i)?void 0:e(t,i));return a},o=[],n=function(t){return o.push(t)},s=function(){var t,e;for(e=[];t=o.pop();)e.push(t());return e},t=function(){function t(){}return t.prototype.on=function(t,e,n,o){var i;return null==o&&(o=!1),null==this.bindings&&(this.bindings={}),null==(i=this.bindings)[t]&&(i[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:o})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,o,i;if(null!=(null!=(o=this.bindings)?o[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,i=[];n<this.bindings[t].length;)i.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return i}},t.prototype.trigger=function(){var t,e,n,o,i,s,r,h,l;if(n=arguments[0],t=2<=arguments.length?b.call(arguments,1):[],null!=(r=this.bindings)?r[n]:void 0){for(i=0,l=[];i<this.bindings[n].length;)h=this.bindings[n][i],o=h.handler,e=h.ctx,s=h.once,o.apply(null!=e?e:this,t),l.push(s?this.bindings[n].splice(i,1):i++);return l}},t}(),Tether.Utils={getScrollParent:a,getBounds:r,getOffsetParent:h,extend:i,addClass:e,removeClass:f,hasClass:p,updateClasses:d,defer:n,flush:s,uniqueId:c,Evented:t}}).call(this),function(){var t,e,n,o,i,s,r,h,l,a,p,u,f,c,d,g,m,v,b,y,w,C,T,O,x,S,E,A=[].slice,M=function(t,e){return function(){return t.apply(e,arguments)}};if("undefined"==typeof Tether||null===Tether)throw new Error("You must include the utils.js file before tether.js");E=Tether.Utils,c=E.getScrollParent,d=E.getSize,f=E.getOuterSize,p=E.getBounds,u=E.getOffsetParent,l=E.extend,o=E.addClass,w=E.removeClass,O=E.updateClasses,h=E.defer,a=E.flush,x=function(t,e,n){return null==n&&(n=1),t+n>=e&&e>=t-n},T=function(){var t,e,n,o,i;for(t=document.createElement("div"),i=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0,o=i.length;o>n;n++)if(e=i[n],void 0!==t.style[e])return e}(),C=[],y=function(){var t,e,n;for(e=0,n=C.length;n>e;e++)t=C[e],t.position(!1);return a()},g=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance?"function"==typeof performance.now?performance.now():void 0:void 0)?t:+new Date},function(){var t,e,n,o,i,s,r,h,l;for(e=null,n=null,o=null,i=function(){if(null!=n&&n>16)return n=Math.min(n-16,250),void(o=setTimeout(i,250));if(!(null!=e&&g()-e<10))return null!=o&&(clearTimeout(o),o=null),e=g(),y(),n=g()-e},h=["resize","scroll"],l=[],s=0,r=h.length;r>s;s++)t=h[s],l.push(window.addEventListener(t,i));return l}(),t={center:"center",left:"right",right:"left"},e={middle:"middle",top:"bottom",bottom:"top"},n={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},r=function(n,o){var i,s;return i=n.left,s=n.top,"auto"===i&&(i=t[o.left]),"auto"===s&&(s=e[o.top]),{left:i,top:s}},s=function(t){var e,o;return{left:null!=(e=n[t.left])?e:t.left,top:null!=(o=n[t.top])?o:t.top}},i=function(){var t,e,n,o,i,s,r;for(e=1<=arguments.length?A.call(arguments,0):[],n={top:0,left:0},i=0,s=e.length;s>i;i++)r=e[i],o=r.top,t=r.left,"string"==typeof o&&(o=parseFloat(o,10)),"string"==typeof t&&(t=parseFloat(t,10)),n.top+=o,n.left+=t;return n},m=function(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t},v=b=function(t){var e,n,o;return o=t.split(" "),n=o[0],e=o[1],{top:n,left:e}},S=function(){function t(t){this.position=M(this.position,this);var e,n,o,i,s;for(C.push(this),this.history=[],this.setOptions(t,!1),i=Tether.modules,n=0,o=i.length;o>n;n++)e=i[n],null!=(s=e.initialize)&&s.call(this);this.position()}return t.modules=[],t.prototype.getClass=function(t){var e,n;return(null!=(e=this.options.classes)?e[t]:void 0)?this.options.classes[t]:(null!=(n=this.options.classes)?n[t]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+t:t:""},t.prototype.setOptions=function(t,e){var n,i,s,r,h,a;for(this.options=t,null==e&&(e=!0),n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=l(n,this.options),h=this.options,this.element=h.element,this.target=h.target,this.targetModifier=h.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),a=["element","target"],s=0,r=a.length;r>s;s++){if(i=a[s],null==this[i])throw new Error("Tether Error: Both element and target must be defined");null!=this[i].jquery?this[i]=this[i][0]:"string"==typeof this[i]&&(this[i]=document.querySelector(this[i]))}if(o(this.element,this.getClass("element")),o(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");return this.targetAttachment=v(this.options.targetAttachment),this.attachment=v(this.options.attachment),this.offset=b(this.options.offset),this.targetOffset=b(this.options.targetOffset),null!=this.scrollParent&&this.disable(),this.scrollParent="scroll-handle"===this.targetModifier?this.target:c(this.target),this.options.enabled!==!1?this.enable(e):void 0},t.prototype.getTargetBounds=function(){var t,e,n,o,i,s,r,h,l;if(null==this.targetModifier)return p(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(t=p(this.target),i={height:t.height,width:t.width,top:t.top,left:t.left},i.height=Math.min(i.height,t.height-(pageYOffset-t.top)),i.height=Math.min(i.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,t.width-(pageXOffset-t.left)),i.width=Math.min(i.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i);case"scroll-handle":return l=this.target,l===document.body?(l=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=p(l),h=getComputedStyle(l),n=l.scrollWidth>l.clientWidth||"scroll"===[h.overflow,h.overflowX]||this.target!==document.body,s=0,n&&(s=15),o=t.height-parseFloat(h.borderTopWidth)-parseFloat(h.borderBottomWidth)-s,i={width:15,height:.975*o*(o/l.scrollHeight),left:t.left+t.width-parseFloat(h.borderLeftWidth)-15},e=0,408>o&&this.target===document.body&&(e=-11e-5*Math.pow(o,2)-.00727*o+22.58),this.target!==document.body&&(i.height=Math.max(i.height,24)),r=l.scrollTop/(l.scrollHeight-o),i.top=r*(o-i.height-e)+t.top+parseFloat(h.borderTopWidth),this.target===document.body&&(i.height=Math.max(i.height,24)),i}},t.prototype.clearCache=function(){return this._cache={}},t.prototype.cache=function(t,e){return null==this._cache&&(this._cache={}),null==this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]},t.prototype.enable=function(t){return null==t&&(t=!0),o(this.target,this.getClass("enabled")),o(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),t?this.position():void 0},t.prototype.disable=function(){return w(this.target,this.getClass("enabled")),w(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent?this.scrollParent.removeEventListener("scroll",this.position):void 0},t.prototype.destroy=function(){var t,e,n,o,i;for(this.disable(),i=[],t=n=0,o=C.length;o>n;t=++n){if(e=C[t],e===this){C.splice(t,1);break}i.push(void 0)}return i},t.prototype.updateAttachClasses=function(t,e){var n,o,i,s,r,l,a,p,u,f=this;for(null==t&&(t=this.attachment),null==e&&(e=this.targetAttachment),s=["left","top","bottom","right","middle","center"],(null!=(u=this._addAttachClasses)?u.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),n=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],t.top&&n.push(""+this.getClass("element-attached")+"-"+t.top),t.left&&n.push(""+this.getClass("element-attached")+"-"+t.left),e.top&&n.push(""+this.getClass("target-attached")+"-"+e.top),e.left&&n.push(""+this.getClass("target-attached")+"-"+e.left),o=[],r=0,a=s.length;a>r;r++)i=s[r],o.push(""+this.getClass("element-attached")+"-"+i);for(l=0,p=s.length;p>l;l++)i=s[l],o.push(""+this.getClass("target-attached")+"-"+i);return h(function(){return null!=f._addAttachClasses?(O(f.element,f._addAttachClasses,o),O(f.target,f._addAttachClasses,o),f._addAttachClasses=void 0):void 0})},t.prototype.position=function(t){var e,n,o,h,l,f,c,d,g,v,b,y,w,C,T,O,x,S,E,A,M,_,B,P,L,z,F,W,H,Y,N,X,k=this;if(null==t&&(t=!0),this.enabled){for(this.clearCache(),E=r(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,E),e=this.cache("element-bounds",function(){return p(k.element)}),P=e.width,o=e.height,0===P&&0===o&&null!=this.lastSize?(H=this.lastSize,P=H.width,o=H.height):this.lastSize={width:P,height:o},_=M=this.cache("target-bounds",function(){return k.getTargetBounds()}),g=m(s(this.attachment),{width:P,height:o}),A=m(s(E),_),l=m(this.offset,{width:P,height:o}),f=m(this.targetOffset,_),g=i(g,l),A=i(A,f),h=M.left+A.left-g.left,B=M.top+A.top-g.top,Y=Tether.modules,L=0,F=Y.length;F>L;L++)if(c=Y[L],T=c.position.call(this,{left:h,top:B,targetAttachment:E,targetPos:M,elementPos:e,offset:g,targetOffset:A,manualOffset:l,manualTargetOffset:f}),null!=T&&"object"==typeof T){if(T===!1)return!1;B=T.top,h=T.left}if(d={page:{top:B,bottom:document.body.scrollHeight-B-o,left:h,right:document.body.scrollWidth-h-P},viewport:{top:B-pageYOffset,bottom:pageYOffset-B-o+innerHeight,left:h-pageXOffset,right:pageXOffset-h-P+innerWidth}},(null!=(N=this.options.optimizations)?N.moveElement:void 0)!==!1&&null==this.targetModifier){for(b=this.cache("target-offsetparent",function(){return u(k.target)}),C=this.cache("target-offsetparent-bounds",function(){return p(b)}),w=getComputedStyle(b),n=getComputedStyle(this.element),y=C,v={},X=["top","left","bottom","right"],z=0,W=X.length;W>z;z++)S=X[z],v[S]=parseFloat(w["border-"+S+"-width"]);C.right=document.body.scrollWidth-C.left-y.width+v.right,C.bottom=document.body.scrollHeight-C.top-y.height+v.bottom,d.page.top>=C.top+v.top&&d.page.bottom>=C.bottom&&d.page.left>=C.left+v.left&&d.page.right>=C.right&&(x=b.scrollTop,O=b.scrollLeft,d.offset={top:d.page.top-C.top+x-v.top,left:d.page.left-C.left+O-v.left})}return this.move(d),this.history.unshift(d),this.history.length>3&&this.history.pop(),t&&a(),!0}},t.prototype.move=function(t){var e,n,o,i,s,r,a,p,f,c,d,g,m,v,b,y,w,C=this;if(null!=this.element.parentNode){p={};for(c in t){p[c]={};for(i in t[c]){for(o=!1,y=this.history,v=0,b=y.length;b>v;v++)if(a=y[v],!x(null!=(w=a[c])?w[i]:void 0,t[c][i])){o=!0;break}o||(p[c][i]=!0)}}e={top:"",left:"",right:"",bottom:""},f=function(t,n){var o,i,s;return(null!=(s=C.options.optimizations)?s.gpu:void 0)===!1?(t.top?e.top=""+n.top+"px":e.bottom=""+n.bottom+"px",t.left?e.left=""+n.left+"px":e.right=""+n.right+"px"):(t.top?(e.top=0,i=n.top):(e.bottom=0,i=-n.bottom),t.left?(e.left=0,o=n.left):(e.right=0,o=-n.right),e[T]="translateX("+Math.round(o)+"px) translateY("+Math.round(i)+"px)","msTransform"!==T?e[T]+=" translateZ(0)":void 0)},s=!1,(p.page.top||p.page.bottom)&&(p.page.left||p.page.right)?(e.position="absolute",f(p.page,t.page)):(p.viewport.top||p.viewport.bottom)&&(p.viewport.left||p.viewport.right)?(e.position="fixed",f(p.viewport,t.viewport)):null!=p.offset&&p.offset.top&&p.offset.left?(e.position="absolute",r=this.cache("target-offsetparent",function(){return u(C.target)}),u(this.element)!==r&&h(function(){return C.element.parentNode.removeChild(C.element),r.appendChild(C.element)}),f(p.offset,t.offset),s=!0):(e.position="absolute",f({top:!0,left:!0},t.page)),s||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),m={},g=!1;for(i in e)d=e[i],n=this.element.style[i],""===n||""===d||"top"!==i&&"left"!==i&&"bottom"!==i&&"right"!==i||(n=parseFloat(n),d=parseFloat(d)),n!==d&&(g=!0,m[i]=e[i]);return g?h(function(){return l(C.element.style,m)}):void 0}},t}(),Tether.position=y,window.Tether=l(S,Tether)}.call(this),function(){var t,e,n,o,i,s,r,h,l,a,p=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};a=Tether.Utils,r=a.getOuterSize,s=a.getBounds,h=a.getSize,o=a.extend,l=a.updateClasses,n=a.defer,e={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle"},t=["left","top","right","bottom"],i=function(e,n){var o,i,r,h,l,a,p;if("scrollParent"===n?n=e.scrollParent:"window"===n&&(n=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),n===document&&(n=n.documentElement),null!=n.nodeType)for(i=h=s(n),l=getComputedStyle(n),n=[i.left,i.top,h.width+i.left,h.height+i.top],o=a=0,p=t.length;p>a;o=++a)r=t[o],"top"===r||"left"===r?n[o]+=parseFloat(l["border-"+r+"-width"]):n[o]-=parseFloat(l["border-"+r+"-width"]);return n},Tether.modules.push({position:function(e){var r,h,a,u,f,c,d,g,m,v,b,y,w,C,T,O,x,S,E,A,M,_,B,P,L,z,F,W,H,Y,N,X,k,j,q,U,I,R,D,Z,$,V,G,J,K,Q,te,ee=this;if(z=e.top,b=e.left,M=e.targetAttachment,!this.options.constraints)return!0;for(S=function(e){var n,o,i,s;for(ee.removeClass(e),s=[],o=0,i=t.length;i>o;o++)n=t[o],s.push(ee.removeClass(""+e+"-"+n));return s},Z=this.cache("element-bounds",function(){return s(ee.element)}),v=Z.height,F=Z.width,0===F&&0===v&&null!=this.lastSize&&($=this.lastSize,F=$.width,v=$.height),B=this.cache("target-bounds",function(){return ee.getTargetBounds()}),_=B.height,P=B.width,A={},m={},h=[this.getClass("pinned"),this.getClass("out-of-bounds")],V=this.options.constraints,W=0,X=V.length;X>W;W++)g=V[W],g.outOfBoundsClass&&h.push(g.outOfBoundsClass),g.pinnedClass&&h.push(g.pinnedClass);for(H=0,k=h.length;k>H;H++)for(d=h[H],G=["left","top","right","bottom"],Y=0,j=G.length;j>Y;Y++)E=G[Y],h.push(""+d+"-"+E);for(r=[],A=o({},M),m=o({},this.attachment),J=this.options.constraints,N=0,q=J.length;q>N;N++){if(g=J[N],L=g.to,a=g.attachment,T=g.pin,null==a&&(a=""),p.call(a," ")>=0?(K=a.split(" "),c=K[0],f=K[1]):f=c=a,u=i(this,L),("target"===c||"both"===c)&&(z<u[1]&&"top"===A.top&&(z+=_,A.top="bottom"),z+v>u[3]&&"bottom"===A.top&&(z-=_,A.top="top")),"together"===c&&(z<u[1]&&"top"===A.top&&("bottom"===m.top?(z+=_,A.top="bottom",z+=v,m.top="top"):"top"===m.top&&(z+=_,A.top="bottom",z-=v,m.top="bottom")),z+v>u[3]&&"bottom"===A.top&&("top"===m.top?(z-=_,A.top="top",z-=v,m.top="bottom"):"bottom"===m.top&&(z-=_,A.top="top",z+=v,m.top="top"))),("target"===f||"both"===f)&&(b<u[0]&&"left"===A.left&&(b+=P,A.left="right"),b+F>u[2]&&"right"===A.left&&(b-=P,A.left="left")),"together"===f&&(b<u[0]&&"left"===A.left?"right"===m.left?(b+=P,A.left="right",b+=F,m.left="left"):"left"===m.left&&(b+=P,A.left="right",b-=F,m.left="right"):b+F>u[2]&&"right"===A.left&&("left"===m.left?(b-=P,A.left="left",b-=F,m.left="right"):"right"===m.left&&(b-=P,A.left="left",b+=F,m.left="left"))),("element"===c||"both"===c)&&(z<u[1]&&"bottom"===m.top&&(z+=v,m.top="top"),z+v>u[3]&&"top"===m.top&&(z-=v,m.top="bottom")),("element"===f||"both"===f)&&(b<u[0]&&"right"===m.left&&(b+=F,m.left="left"),b+F>u[2]&&"left"===m.left&&(b-=F,m.left="right")),"string"==typeof T?T=function(){var t,e,n,o;for(n=T.split(","),o=[],e=0,t=n.length;t>e;e++)C=n[e],o.push(C.trim());return o}():T===!0&&(T=["top","left","right","bottom"]),T||(T=[]),O=[],y=[],z<u[1]&&(p.call(T,"top")>=0?(z=u[1],O.push("top")):y.push("top")),z+v>u[3]&&(p.call(T,"bottom")>=0?(z=u[3]-v,O.push("bottom")):y.push("bottom")),b<u[0]&&(p.call(T,"left")>=0?(b=u[0],O.push("left")):y.push("left")),b+F>u[2]&&(p.call(T,"right")>=0?(b=u[2]-F,O.push("right")):y.push("right")),O.length)for(x=null!=(Q=this.options.pinnedClass)?Q:this.getClass("pinned"),r.push(x),R=0,U=O.length;U>R;R++)E=O[R],r.push(""+x+"-"+E);if(y.length)for(w=null!=(te=this.options.outOfBoundsClass)?te:this.getClass("out-of-bounds"),r.push(w),D=0,I=y.length;I>D;D++)E=y[D],r.push(""+w+"-"+E);(p.call(O,"left")>=0||p.call(O,"right")>=0)&&(m.left=A.left=!1),(p.call(O,"top")>=0||p.call(O,"bottom")>=0)&&(m.top=A.top=!1),(A.top!==M.top||A.left!==M.left||m.top!==this.attachment.top||m.left!==this.attachment.left)&&this.updateAttachClasses(m,A)}return n(function(){return l(ee.target,r,h),l(ee.element,r,h)}),{top:z,left:b}}})}.call(this),function(){var t,e,n,o;o=Tether.Utils,e=o.getBounds,n=o.updateClasses,t=o.defer,Tether.modules.push({position:function(o){var i,s,r,h,l,a,p,u,f,c,d,g,m,v,b,y,w,C,T,O,x,S,E,A,M,_=this;if(d=o.top,a=o.left,x=this.cache("element-bounds",function(){return e(_.element)}),l=x.height,g=x.width,c=this.getTargetBounds(),h=d+l,p=a+g,i=[],d<=c.bottom&&h>=c.top)for(S=["left","right"],m=0,w=S.length;w>m;m++)u=S[m],((E=c[u])===a||E===p)&&i.push(u);if(a<=c.right&&p>=c.left)for(A=["top","bottom"],v=0,C=A.length;C>v;v++)u=A[v],((M=c[u])===d||M===h)&&i.push(u);for(r=[],s=[],f=["left","top","right","bottom"],r.push(this.getClass("abutted")),b=0,T=f.length;T>b;b++)u=f[b],r.push(""+this.getClass("abutted")+"-"+u);for(i.length&&s.push(this.getClass("abutted")),y=0,O=i.length;O>y;y++)u=i[y],s.push(""+this.getClass("abutted")+"-"+u);return t(function(){return n(_.target,s,r),n(_.element,s,r)}),!0}})}.call(this),function(){Tether.modules.push({position:function(t){var e,n,o,i,s,r,h;return r=t.top,e=t.left,this.options.shift?(n=function(t){return"function"==typeof t?t.call(this,{top:r,left:e}):t},o=n(this.options.shift),"string"==typeof o?(o=o.split(" "),o[1]||(o[1]=o[0]),s=o[0],i=o[1],s=parseFloat(s,10),i=parseFloat(i,10)):(h=[o.top,o.left],s=h[0],i=h[1]),r+=s,e+=i,{top:r,left:e}):void 0}})}.call(this),function(){var t,e,n,o,i,s,r,h,l,a,p,u,f,c,d=function(t,e){return function(){return t.apply(e,arguments)}},g={}.hasOwnProperty,m=function(t,e){function n(){this.constructor=t}for(var o in e)g.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=Tether.Utils,h=c.extend,u=c.removeClass,s=c.addClass,e=c.Evented,l=c.getBounds,f=c.uniqueId,t={top:"top center",left:"middle right",right:"middle left",bottom:"bottom center"},r=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.children[0]},a=function(t,e){var n,o,i,s,r;return n=null!=(o=null!=(i=null!=(s=null!=(r=t.matches)?r:t.matchesSelector)?s:t.webkitMatchesSelector)?i:t.mozMatchesSelector)?o:t.oMatchesSelector,n.call(t,e)},p=function(t,e){var n,o,i,s,r,h;if(null==t)return t;if("object"==typeof t)return t;for(s=t.split(" "),s.length>e.length&&(s[0]=s.slice(0,+(s.length-e.length)+1||9e9).join(" "),s.splice(1,s.length-e.length)),o={},n=r=0,h=e.length;h>r;n=++r)i=e[n],o[i]=s[n];return o},o=function(e){function n(t,e){this.tour=t,this.destroy=d(this.destroy,this),this.scrollTo=d(this.scrollTo,this),this.complete=d(this.complete,this),this.cancel=d(this.cancel,this),this.isOpen=d(this.isOpen,this),this.hide=d(this.hide,this),this.show=d(this.show,this),this.setOptions(e)}return m(n,e),n.prototype.setOptions=function(t){var e,n,o,i;if(this.options=null!=t?t:{},this.destroy(),this.id=this.options.id||this.id||"step-"+f(),this.options.when){i=this.options.when;for(e in i)n=i[e],this.on(e,n,this)}return null!=(o=this.options).buttons?(o=this.options).buttons:o.buttons=[{text:"Next",action:this.tour.next}]},n.prototype.getTour=function(){return this.tour},n.prototype.bindAdvance=function(){var t,e,n,o,i=this;return o=p(this.options.advanceOn,["selector","event"]),t=o.event,n=o.selector,e=function(t){if(i.isOpen())if(null!=n){if(a(t.target,n))return i.tour.next()}else if(i.el&&t.target===i.el)return i.tour.next()},document.body.addEventListener(t,e),this.on("destroy",function(){return document.body.removeEventListener(t,e)})},n.prototype.getAttachTo=function(){var t;if(t=p(this.options.attachTo,["element","on"]),null==t&&(t={}),"string"==typeof t.element&&(t.element=document.querySelector(t.element),null==t.element))throw new Error("Shepherd step's attachTo was not found in the page");return t},n.prototype.setupTether=function(){var e,n,o;if("undefined"==typeof Tether||null===Tether)throw new Error("Using the attachment feature of Shepherd requires the Tether library");return n=this.getAttachTo(),e=t[n.on||"right"],null==n.element&&(n.element="viewport",e="middle center"),o={classPrefix:"shepherd",element:this.el,constraints:[{to:"window",pin:!0,attachment:"together"}],target:n.element,offset:n.offset||"0 0",attachment:e},this.tether=new Tether(h(o,this.options.tetherOptions))},n.prototype.show=function(){var t,e=this;return null==this.el&&this.render(),s(this.el,"shepherd-open"),null!=(t=this.tether)&&t.enable(),this.options.scrollTo&&setTimeout(function(){return e.scrollTo()}),this.trigger("show")},n.prototype.hide=function(){var t;return u(this.el,"shepherd-open"),null!=(t=this.tether)&&t.disable(),this.trigger("hide")},n.prototype.isOpen=function(){return hasClass(this.el,"shepherd-open")},n.prototype.cancel=function(){return this.hide(),this.trigger("cancel")},n.prototype.complete=function(){return this.hide(),this.trigger("complete")},n.prototype.scrollTo=function(){var t;return t=this.getAttachTo().element,null!=t?t.scrollIntoView():void 0},n.prototype.destroy=function(){var t;return null!=this.el&&(document.body.removeChild(this.el),delete this.el),null!=(t=this.tether)&&t.destroy(),this.trigger("destroy")},n.prototype.render=function(){var t,e,n,o,i,s,h,l,a,p,u,f,c,d,g,m;if(null!=this.el&&this.destroy(),this.el=r("<div class='shepherd-step "+(null!=(d=this.options.classes)?d:"")+"' data-id='"+this.id+"'></div>"),o=document.createElement("div"),o.className="shepherd-content",this.el.appendChild(o),null!=this.options.title&&(s=document.createElement("header"),s.innerHTML="<h3 class='shepherd-title'>"+this.options.title+"</h3>",this.el.className+=" shepherd-has-title",o.appendChild(s)),null!=this.options.text){for(a=r("<div class='shepherd-text'></div>"),l=this.options.text,"string"==typeof l&&(l=[l]),p=0,f=l.length;f>p;p++)h=l[p],a.innerHTML+="<p>"+h+"</p>";o.appendChild(a)}if(i=document.createElement("footer"),this.options.buttons){for(e=r("<ul class='shepherd-buttons'></ul>"),g=this.options.buttons,u=0,c=g.length;c>u;u++)n=g[u],t=r("<li><a class='shepherd-button "+(null!=(m=n.classes)?m:"")+"'>"+n.text+"</a>"),e.appendChild(t),this.bindButtonEvents(n,t.querySelector("a"));i.appendChild(e)}return o.appendChild(i),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn?this.bindAdvance():void 0},n.prototype.bindButtonEvents=function(t,e){var n,o,i,s,r=this;null==t.events&&(t.events={}),null!=t.action&&(t.events.click=t.action),s=t.events;for(n in s)o=s[n],"string"==typeof o&&(i=o,o=function(){return r.tour.show(i)}),e.addEventListener(n,o);return this.on("destroy",function(){var i,s;i=t.events,s=[];for(n in i)o=i[n],s.push(e.removeEventListener(n,o));return s})},n}(e),i=function(t){function e(t){var e,o,i,s,r,h=this;for(this.options=null!=t?t:{},this.hide=d(this.hide,this),this.cancel=d(this.cancel,this),this.back=d(this.back,this),this.next=d(this.next,this),this.steps=null!=(s=this.options.steps)?s:[],r=["complete","cancel","hide","start","show"],o=0,i=r.length;i>o;o++)e=r[o],this.on(e,function(t){return null==t&&(t={}),t.tour=h,n.trigger(e,t)})}return m(e,t),e.prototype.addStep=function(t,e){var n;return null==e&&(e=t),e instanceof o?e.tour=this:(("string"==(n=typeof t)||"number"===n)&&(e.id=t.toString()),e=h({},this.options.defaults,e),e=new o(this,e)),this.steps.push(e),e},e.prototype.getById=function(t){var e,n,o,i;for(i=this.steps,n=0,o=i.length;o>n;n++)if(e=i[n],e.id===t)return e},e.prototype.getCurrentStep=function(){return this.currentStep},e.prototype.next=function(){var t;return t=this.steps.indexOf(this.currentStep),t===this.steps.length-1?(this.hide(t),this.trigger("complete"),this.done()):this.show(t+1)},e.prototype.back=function(){var t;return t=this.steps.indexOf(this.currentStep),this.show(t-1)},e.prototype.cancel=function(){var t;return null!=(t=this.currentStep)&&t.cancel(),this.trigger("cancel"),this.done()},e.prototype.hide=function(){var t;return null!=(t=this.currentStep)&&t.hide(),this.trigger("hide"),this.done()},e.prototype.done=function(){return n.activeTour=null},e.prototype.show=function(t){var e;return null==t&&(t=0),this.currentStep&&this.currentStep.hide(),n.activeTour=this,e="string"==typeof t?this.getById(t):this.steps[t],e?(this.trigger("show",{step:e,previous:this.currentStep}),this.currentStep=e,e.show()):void 0},e.prototype.start=function(){return this.trigger("start"),this.currentStep=null,this.next()},e}(e),n=new e,h(n,{Tour:i,Step:o}),window.Shepherd=n}.call(this);