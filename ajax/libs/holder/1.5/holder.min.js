var Holder=Holder||{};!function(e,t){function n(e,t){var n="complete",a="readystatechange",r=!1,i=r,o=!0,d=e.document,l=d.documentElement,s=d.addEventListener?"addEventListener":"attachEvent",u=d.addEventListener?"removeEventListener":"detachEvent",c=d.addEventListener?"":"on",h=function(o){(o.type!=a||d.readyState==n)&&(("load"==o.type?e:d)[u](c+o.type,h,r),!i&&(i=!0)&&t.call(e,null))},m=function(){try{l.doScroll("left")}catch(e){return void setTimeout(m,50)}h("poll")};if(d.readyState==n)t.call(e,"lazy");else{if(d.createEventObject&&l.doScroll){try{o=!e.frameElement}catch(g){}o&&m()}d[s](c+"DOMContentLoaded",h,r),d[s](c+a,h,r),e[s](c+"load",h,r)}}function a(e){e=e.match(/^(\W)?(.*)/);var t=document["getElement"+(e[1]?"#"==e[1]?"ById":"sByClassName":"sByTagName")](e[2]),n=[];return null!=t&&(n=t.length?t:0==t.length?t:[t]),n}function r(e,t){var n={};for(var a in e)n[a]=e[a];for(var r in t)n[r]=t[r];return n}function o(e,t,n){var a=[t,e].sort(),r=Math.round(a[1]/16),i=(Math.round(a[0]/16),Math.max(n.size,r));return i}function d(e,t,n){var a=o(t.width,t.height,n);g.width=t.width,g.height=t.height,e.textAlign="center",e.textBaseline="middle",e.fillStyle=n.background,e.fillRect(0,0,t.width,t.height),e.fillStyle=n.foreground,e.font="bold "+a+"px sans-serif";var r=n.text?n.text:t.width+"x"+t.height;return Math.round(e.measureText(r).width)/t.width>1&&(a=Math.max(minFactor,n.size)),e.font="bold "+a+"px sans-serif",e.fillText(r,t.width/2,t.height/2,t.width),g.toDataURL("image/png")}function l(e,t,n,a){var i=n.dimensions,o=n.theme,l=n.text,s=i.width+"x"+i.height;o=l?r(o,{text:l}):o,"image"==e?(t.setAttribute("data-src",a),t.setAttribute("alt",l?l:o.text?o.text+" ["+s+"]":s),t.style.width=i.width+"px",t.style.height=i.height+"px",t.style.backgroundColor=o.background,m||t.setAttribute("src",d(f,i,o))):m||(t.style.backgroundImage="url("+d(f,i,o)+")")}function s(e,t){var n=t.dimensions,a=t.theme,i=t.text,o=n.width+"x"+n.height;a=i?r(a,{text:i}):a;var d=document.createElement("table");d.setAttribute("cellspacing",0),d.setAttribute("cellpadding",0),d.setAttribute("border",0);document.createElement("tr").appendChild(document.createElement("td").appendChild(document.createTextNode(a.text)));d.style.backgroundColor=a.background,d.style.color=a.foreground,d.className=e.className+" holderjs-fluid",d.style.width=t.dimensions.width+(t.dimensions.width.indexOf("%")>0?"":"px"),d.style.height=t.dimensions.height+(t.dimensions.height.indexOf("%")>0?"":"px"),d.id=e.id;var l=document.createDocumentFragment(),s=document.createElement("tbody"),c=document.createElement("tr"),h=document.createElement("td");c.appendChild(h),s.appendChild(c),l.appendChild(s),a.text?(h.appendChild(document.createTextNode(a.text)),d.appendChild(l)):(h.appendChild(document.createTextNode(o)),d.appendChild(l),p.push(d),setTimeout(u,0)),e.parentNode.replaceChild(d,e)}function u(){for(i in p){var e=p[i],t=e.getElementsByTagName("td")[0].firstChild;t.data=e.offsetWidth+"x"+e.offsetHeight}}function c(t,n){var a={theme:x.themes.gray},r=!1;for(sl=t.length,j=0;sl>j;j++){var i=t[j];e.flags.dimensions.match(i)?(r=!0,a.dimensions=e.flags.dimensions.output(i)):e.flags.fluid.match(i)?(r=!0,a.dimensions=e.flags.fluid.output(i),a.fluid=!0):e.flags.colors.match(i)?a.theme=e.flags.colors.output(i):n.themes[i]?a.theme=n.themes[i]:e.flags.text.match(i)&&(a.text=e.flags.text.output(i))}return r?a:!1}var h=!1,m=!1,g=document.createElement("canvas");if(document.getElementsByClassName||(document.getElementsByClassName=function(e){var t,n,a,r=document,i=[];if(r.querySelectorAll)return r.querySelectorAll("."+e);if(r.evaluate)for(n=".//*[contains(concat(' ', @class, ' '), ' "+e+" ')]",t=r.evaluate(n,r,null,0,null);a=t.iterateNext();)i.push(a);else for(t=r.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+e+"(\\s|$)"),a=0;a<t.length;a++)n.test(t[a].className)&&i.push(t[a]);return i}),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this}),g.getContext)if(g.toDataURL("image/png").indexOf("data:image/png")<0)m=!0;else var f=g.getContext("2d");else m=!0;var p=[],x={domain:"holder.js",images:"img",elements:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;border-collapse:collapse;border:0;vertical-align:middle;margin:0}"};e.flags={dimensions:{regex:/(\d+)x(\d+)/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},fluid:{regex:/([0-9%]+)x([0-9%]+)/,output:function(e){var t=this.regex.exec(e);return{width:t[1],height:t[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{size:x.themes.gray.size,foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1]}}};for(var v in e.flags)e.flags[v].match=function(e){return e.match(this.regex)};e.add_theme=function(t,n){return null!=t&&null!=n&&(x.themes[t]=n),e},e.add_image=function(t,n){var r=a(n);if(r.length)for(var i=0,o=r.length;o>i;i++){var d=document.createElement("img");d.setAttribute("data-src",t),r[i].appendChild(d)}return e},e.run=function(t){var n=r(x,t),i=a(n.images),o=a(n.elements),d=[];for(g=0,m=i.length;m>g;g++)d.push(i[g]);var u=document.createElement("style");u.type="text/css",u.styleSheet?u.styleSheet.cssText=n.stylesheet:u.textContent=n.stylesheet,document.getElementsByTagName("head")[0].appendChild(u);for(var h=new RegExp(n.domain+'/(.*?)"?\\)'),m=o.length,g=0;m>g;g++){var f=window.getComputedStyle(o[g],null).getPropertyValue("background-image"),p=f.match(h);if(p){var v=c(p[1].split("/"),n);v&&l("background",o[g],v,f)}}for(var m=d.length,g=0;m>g;g++){var f=d[g].getAttribute("src")||d[g].getAttribute("data-src");if(null!=f&&f.indexOf(n.domain)>=0){var v=c(f.substr(f.lastIndexOf(n.domain)+n.domain.length+1).split("/"),n);v&&(v.fluid?s(d[g],v,f):l("image",d[g],v,f))}}return e},n(t,function(){window.addEventListener?(window.addEventListener("resize",u,!1),window.addEventListener("orientationchange",u,!1)):window.attachEvent("onresize",u),h||e.run()})}(Holder,window);