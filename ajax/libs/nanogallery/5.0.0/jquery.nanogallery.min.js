/*
 nanoGALLERY v5.0.0
 Plugin for jQuery by Christophe Brisbois
 Demo: http://nanogallery.brisbois.fr
 Sources: https://github.com/Kris-B/nanoGALLERY

 License: For personal, non-profit organizations, or open source projects, you may use nanoGALLERY for jQuery for free.
 -------- ALL OTHER USES REQUIRE THE PURCHASE OF PROFESSIONAL LICENSE.


 Components:
  - jQuery (http://www.jquery.com)
  - jQuery Color plugin - is embedded
  - imagesloaded (https://github.com/desandro/imagesloaded) - is embebed
  - Transit (http://ricostacruz.com/jquery.transit) - optional
  - fancybox (http://fancyapps.com) - optional
  - webfont generated by http://fontello.com - based on Font Awesome Copyright (C) 2012 by Dave Gandy (http://fortawesome.github.com/Font-Awesome/)
  - http://closure-compiler.appspot.com/home - for minifying javascript
  - http://gpbmike.github.io/refresh-sf/ - for minifying css
*/
(function(s){jQuery.fn.nanoGallery=function(I){var H=s.extend(!0,{userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,galleryFullpageButton:!1,galleryFullpageBgColor:"#111",breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",paginationMaxLinesPerPage:0,maxWidth:0,viewer:"internal",viewerDisplayLogo:!1,imageTransition:"default",
viewerToolbar:{position:"bottom",style:"innerImage"},thumbnailAlignment:"center",thumbnailWidth:230,thumbnailHeight:154,thumbnailGutterWidth:2,thumbnailGutterHeight:2,thumbnailAdjustLastRowHeight:!0,thumbnailFeatured:!1,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1,title:"",itemsCount:""},thumbnailDisplayInterval:30,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,
thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",level1:{thumbnailWidth:0,thumbnailHeight:0,thumbnailGutterWidth:0,thumbnailGutterHeight:0,thumbnailAlignment:0,thumbnailHoverEffect:"",thumbnailLabel:null,touchAutoOpenDelay:!1},lores:{},loresWidth:500,hires:{},hiresWidth:1200,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHoverResize:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnViewerInfo:null,fnProcessData:null,touchAnimation:!0,touchAutoOpenDelay:0,
useTags:!1,preset:"none",locationHash:!1,slideshowDelay:3E3,slideshowAutoStart:!1,photoSorting:"",albumSorting:"",dataSorting:"",lazyBuild:"none",lazyBuildTreshold:150,flickrSkipOriginal:!0,i18n:{breadcrumbHome:"List of Albums",breadcrumbHome_FR:"Liste des Albums",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",
thumbnailLabelItemsCountPart1:"| ",thumbnailLabelItemsCountPart2:" photos",thumbnailLabelItemsCountPart2_DE:" Photos",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",
infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"}},I);return this.each(function(){(new nanoGALLERY).Initiate(this,H)})}})(jQuery);
function nanoGALLERY(){function s(){return{animationEngine:D,t:"test"}}function I(a){for(var c=document.createElement("div"),b=0;b<a.length;++b)if("undefined"!=typeof c.style[a[b]])return a[b];return null}function H(){for(var a=Math.max(window.screen.width,window.screen.height),c=0;c<C.length;c++)switch(C[c].name){case "imageScale150":case "imageScale150Outside":case "imageScaleIn80":case "imageSlide2Up":case "imageSlide2Down":case "imageSlide2Left":case "imageSlide2Right":case "imageSlide2UpRight":case "imageSlide2UpLeft":case "imageSlide2DownRight":case "imageSlide2DownLeft":case "imageSlide2Random":da=Math.max(da,
1.5);break;case "scale120":da=Math.max(da,1.2)}"auto"==g.thumbnailHeight?(P=g.thumbnailWidth*da,E.thumbSizeDir="width_",N.thumbSizeDir="w"):"auto"==g.thumbnailWidth||"autoUpScale"==g.thumbnailWidth?(P=g.thumbnailHeight*da,N.thumbSizeDir="h"):g.thumbnailWidth>g.thumbnailHeight?(P=g.thumbnailWidth*da,E.thumbSizeDir="width_",N.thumbSizeDir="w"):P=g.thumbnailHeight*da;switch(g.kind){case "":Q(M.breadcrumbHome,"","","","","album","","0","-1");0<g.itemsBaseURL.length&&(g.itemsBaseURL+="/");void 0!==g.items&&
null!==g.items?(x(),W(!1)||S(0,!1)):(a=jQuery(e.base).children("a"),0<a.length?(u(a),W(!1)||S(0,!1)):T("error: no image to process."));break;case "flickr":g.flickrSkipOriginal||(E.photoAvailableSizes.push(1E4),E.photoAvailableSizesStr.push("o"));for(c=0;c<E.photoAvailableSizes.length&&!(E.photoSize=c,a<=E.photoAvailableSizes[c]);c++);Q(M.breadcrumbHome,"","","","","album","",0<g.photoset.length?g.photoset:"0","-1");p(0,!0,-1,!1);break;case "smugmug":for(c=0;c<L.photoAvailableSizes.length&&!(L.thumbSize=
c,P<=L.photoAvailableSizes[c]);c++);for(c=0;c<L.photoAvailableSizes.length&&!(L.thumbSizeX2=c,2*P<=L.photoAvailableSizes[c]);c++);for(c=0;c<L.photoAvailableSizes.length&&!(L.photoSize=c,a<=L.photoAvailableSizes[c]);c++);Q(M.breadcrumbHome,"","","","","album","","0","-1");Sa(0,!0,-1,!1);break;default:for(c=0;c<N.thumbAvailableSizes.length;c++)if(N.thumbSize=N.thumbAvailableSizes[c],P<N.thumbAvailableSizes[c]){0<=N.thumbAvailableSizesCropped.indexOf(" "+N.thumbAvailableSizes[c]+"")&&(N.thumbSizeHack=
!1);break}0<g.album.length?(c=g.album.indexOf("&authkey="),0<=c?(a=g.album.substring(0,c),c=g.album.substring(c),-1==c.indexOf("Gv1sRg")&&(c="&authkey=Gv1sRg"+c.substring(9)),Q(M.breadcrumbHome,"","","","","album","",a,"-1").customData.authkey=c):Q(M.breadcrumbHome,"","","","","album","",g.album,"-1")):Q(M.breadcrumbHome,"","","","","album","","0","-1");ob(0,!0,-1,!1)}jQuery(document).keyup(function(b){if(U)switch(b.keyCode){case 27:ua(!0);break;case 32:case 13:Ta();break;case 38:case 39:case 33:va();
break;case 40:case 37:case 34:wa()}});jQuery(window).bind("hashchange",function(b){g.locationHash&&W(!0)});g.galleryFullpageButton&&(e.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').appendTo(e.conNavB),e.conNavBFullpage.on("click",function(b){e.conNavBFullpage.hasClass("setFullPageButton")?(0<g.maxWidth&&jQuery(e.base).css({maxWidth:""}),e.conNavBFullpage.removeClass("setFullPageButton").addClass("removeFullPageButton"),J("",e.base),e.base.addClass("fullpage"),
jQuery("body").css({overflow:"hidden"})):(e.conNavBFullpage.removeClass("removeFullPageButton").addClass("setFullPageButton"),0<g.maxWidth&&jQuery(e.base).css({maxWidth:g.maxWidth}),e.base.removeClass("fullpage"),jQuery("body").css({overflow:"inherit"}));Da()}))}function z(a,c){jQuery(a).css({left:c})}function R(a){function c(){xa=0;X=ia=null;z(e.conTn[0],0);if(U)Y=null;else if(null!=Y)if(10<Math.abs(k.t-ma().t))Y=null;else{var b=Y;if(g.touchAnimation&&!Ua){if(Ea(),pb(b),0<g.touchAutoOpenDelay){window.clearInterval(Va);
var a=b.data("index");void 0!=a&&(Va=window.setInterval(function(){window.clearInterval(Va);10<Math.abs(k.t-ma().t)?(Y=null,Wa(b)):qb(a)},g.touchAutoOpenDelay))}}else a=b.data("index"),void 0!=a&&qb(a)}}function b(b){var a={};b.targetTouches?(a.x=b.targetTouches[0].clientX,a.y=b.targetTouches[0].clientY):(a.x=b.clientX,a.y=b.clientY);return a}function d(){B&&(0<O&&z(q,xa-(ia.x-X.x)),B=!1)}var q=a,B=!1,ia=null,X=null,xa=0,f=!1,k=0;this.handleGestureStartNoDelay=function(b){400>(new Date).getTime()-
Xa||(Ua=!0,this.handleGestureStart(b))}.bind(this);this.handleGestureStart=function(a){if(!(U||400>(new Date).getTime()-Xa)){Xa=(new Date).getTime();for(var c=a.target||a.srcElement,d=!1;c!=e.conTn[0];)"nanoGalleryThumbnailContainer"==c.getAttribute("class")&&(Y!=jQuery(c)&&Ea(),Y=jQuery(c),d=!0),c=c.parentNode;d&&(k=ma(),ia=b(a),initialOffsetTop=ma().t,window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,
!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0)),e.base.addClass("unselectable").find("*").attr("draggable","false").attr("unselectable","on"))}}.bind(this);this.handleGestureMove=function(a){X=b(a);!B&&0<O&&(10<Math.abs(ia.x-
X.x)||f)&&(a.preventDefault(),B=f=!0,window.requestAnimFrame(d))}.bind(this);this.handleGestureEnd=function(b){f=B=!1;window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",
this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0));e.base.addClass("unselectable").find("*").attr("draggable","true").attr("unselectable","off");null==X||null==ia?c():(b=ia.x-X.x,xa-=b,0<O?30<Math.abs(b)?(Y=null,xa=0,X=ia=null,Ea(),-30>b?rb():sb()):c():c())}.bind(this);window.navigator.msPointerEnabled?q.addEventListener("MSPointerDown",this.handleGestureStartNoDelay,!0):(q.addEventListener("touchstart",this.handleGestureStart,!0),q.addEventListener("mousedown",
this.handleGestureStartNoDelay,!0));q.addEventListener("mouseenter",F,!0);q.addEventListener("mouseleave",l,!0)}function F(a){U||(a=a.target||a.srcElement,"nanoGalleryThumbnailContainer"==a.getAttribute("class")&&pb(jQuery(a)))}function l(a){a=a.target||a.srcElement;"nanoGalleryThumbnailContainer"==a.getAttribute("class")&&Wa(jQuery(a))}function h(){"fancybox"==g.viewer&&"undefined"===typeof jQuery.fancybox&&(g.viewer="internal",Z("Fancybox could not be found. Fallback to internal viewer. Please check the file includes of the page."));
"CBRISBOIS@GMAIL.COM"!=g.userID.toUpperCase()||""!=g.blackList&&"SCRAPBOOK|PROFIL"!=g.blackList.toUpperCase()||(g.blackList="profil|scrapbook|forhomepage");""!=g.blackList&&(Fa=g.blackList.toUpperCase().split("|"));""!=g.whiteList&&(Ga=g.whiteList.toUpperCase().split("|"));""!=g.albumList&&(Ha=g.albumList.toUpperCase().split("|"));if("picasa"==g.kind||"flickr"==g.kind||"smugmug"==g.kind)g.displayBreadcrumb=!0;void 0!==g.photoset?0<g.photoset.length&&(g.displayBreadcrumb=!1):g.photoset="";void 0!==
g.album?0<g.album.length&&(g.displayBreadcrumb=!1):g.album="";void 0!==g.gallery?0<g.gallery.length&&(g.displayBreadcrumb=!1):g.gallery="";0<g.maxWidth&&(jQuery(e.base).css({maxWidth:g.maxWidth}),jQuery(e.base).css({"margin-left":"auto"}),jQuery(e.base).css({"margin-right":"auto"}));"number"==V(g.slideshowDelay)&&2E3<=g.slideshowDelay?Ia=g.slideshowDelay:Z('Parameter "slideshowDelay" must be an integer >= 2000 ms.');"number"==V(g.thumbnailDisplayInterval)&&0<=g.thumbnailDisplayInterval?m.displayInterval=
g.thumbnailDisplayInterval:Z('Parameter "thumbnailDisplayInterval" must be an integer.');"number"==V(g.thumbnailLazyLoadTreshold)&&0<=g.thumbnailLazyLoadTreshold?m.g_lazyLoadTreshold=g.thumbnailLazyLoadTreshold:Z('Parameter "thumbnailLazyLoadTreshold" must be an integer.');"number"==V(g.paginationMaxLinesPerPage)&&0<=g.paginationMaxLinesPerPage?O=g.paginationMaxLinesPerPage:Z('Parameter "paginationMaxLinesPerPage" must be an integer.');if("auto"==g.thumbnailHeight||"auto"==g.thumbnailWidth||"autoUpScale"==
g.thumbnailWidth)0<g.paginationMaxLinesPerPage&&Z('Parameters "paginationMaxLinesPerPage" and "thumbnailWidth/thumbnailHeight" value "auto" are not compatible.'),O=0;var a=g.albumSorting.toUpperCase();0==a.indexOf("RANDOM")&&6<a.length&&(n=parseInt(a.substring(6)),0<n&&(Ja=n));a=g.photoSorting.toUpperCase();0==a.indexOf("RANDOM")&&6<a.length&&(n=parseInt(a.substring(6)),0<n&&(Ka=n));switch(V(g.thumbnailHoverEffect)){case "string":for(var a=g.thumbnailHoverEffect.split(","),c=0;c<a.length;c++)if(K(a[c])){var b=
r();b.name=a[c];C.push(b)}break;case "object":K(g.thumbnailHoverEffect.name)&&(b=r(),C.push(jQuery.extend(b,g.thumbnailHoverEffect)));break;case "array":for(c=0;c<g.thumbnailHoverEffect.length;c++)K(g.thumbnailHoverEffect[c].name)&&(b=r(),C.push(jQuery.extend(b,g.thumbnailHoverEffect[c])));break;case "null":break;default:T('incorrect parameter for "thumbnailHoverEffect".')}}function r(){var a={delay:0,delayBack:0,duration:400,durationBack:200,easing:"swing",easingBack:"swing"};"animate"!=D&&(a.easing=
"ease",a.easingBack="ease");return a}function K(a){var c=/labelOpacity50|borderLighter|borderDarker/i.test(a),b=/imageFlipVertical|imageFlipHorizontal|imageRotateCornerBR|imageRotateCornerBL|rotateCornerBL|rotateCornerBR|imageScale150|overScale|overScaleOutside|imageScaleIn80|imageScale150Outside|scale120|scaleLabelOverImage|slideUp|slideDown|slideLeft|slideRight|imageSlideUp|imageSlideDown|imageSlideLeft|imageSlideRight|labelAppear|labelAppear75|descriptionAppear|labelSlideDown|labelSlideUp|labelSlideUpTop|imageInvisible|imageOpacity50|descriptionSlideUp|labelSplitVert|labelSplit4|labelAppearSplitVert|labelAppearSplit4|imageSplitVert|imageSplit4/i.test(a),
d=/imageExplode/i.test(a);g.touchAutoOpenDelay=parseInt(g.touchAutoOpenDelay);0==g.touchAutoOpenDelay&&(g.touchAutoOpenDelay=1E3);return c||b||d?"onBottom"!=g.thumbnailLabel.position||/borderLighter|borderDarker|imageOpacity50|imageScale150|imageScaleIn80|imageSlide2Up|imageSlide2Down|imageSlide2Left|imageSlide2Right|imageSlide2Random|imageSlide2UpRight|imageSlide2UpLeft|imageSlide2DownRight|imageSlide2DownLeft|imageScale150Outside|scale120/i.test(a)?!d||"animate"!=D&&null!=ea?!0:(Z('Parameter thumbnailHoverEffect="'+
a+'" requires one of the additionals jQuery plugins "Velocity" or "Transit".'),!1):(T('The parameter combination thumbnailHoverEffect="'+a+'" and thumbnailLabel.position="onBottom" is not supported.'),!1):(T('Unknow parameter value: thumbnailHoverEffect="'+a+'".'),!1)}function na(){$=(navigator.language||navigator.userLanguage).toUpperCase();"UNDEFINED"===$&&($="");var a=-("_"+$).length;"object"==V(g.i18n)&&Object.keys(g.i18n).forEach(function(c){var b=c.substr(a);b=="_"+$?M[c.substr(0,c.length-b.length)]=
g.i18n[c]:M[c]=g.i18n[c]})}function W(a){if(!g.locationHash)return!1;var c=null,b=null,c="#nanogallery/"+aa+"/",d=location.hash;if(d!=oa&&(""==d&&-1!=Ya&&(oa="",pa(0,!1,-1,!1)),0==d.indexOf(c))){var q=d.substring(c.length),B=q.indexOf("/"),e=d=-1,X=k.length;if(0<B)for(c=q.substring(0,B),b=q.substring(B+1),q=0;q<X;q++){if("image"==k[q].kind&&k[q].GetID()==b){e=q;break}}else c=q;for(q=0;q<X;q++)if("album"==k[q].kind&&k[q].GetID()==c){d=q;break}null!==b?(a||(La=d),""==g.kind?qa(e):-1==e?pa(d,!1,b,a):
qa(e)):pa(d,!1,-1,a);return!0}}function ba(){k=[];var a="";g.thumbnailLabel.displayDescription&&(a="d");a=Q("dummy",ca,ca,a,"","image","","1","0");a=tb(a,0,0,!1);m.borderWidth=a.outerWidth(!0)-a.width();m.imgContBorderWidth=a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width();m.borderHeight=a.outerHeight(!0)-a.height();m.imgcBorderWidth=a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width();m.imgcBorderHeight=a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height();
m.labelBorderHeight=a.find(".labelImage").outerHeight(!0)-a.find(".labelImage").height();m.labelBorderWidth=a.find(".labelImage").outerWidth(!0)-a.find(".labelImage").width();"onBottom"==g.thumbnailLabel.position&&(m.labelHeight=a.find(".labelImage").outerHeight(!0));"auto"!=g.thumbnailWidth&&"autoUpScale"!=g.thumbnailWidth&&(g.thumbnailWidth=parseInt(g.thumbnailWidth),m.outerWidth=a.outerWidth(!0));"auto"!=g.thumbnailHeight&&(g.thumbnailHeight=parseInt(g.thumbnailHeight),m.outerHeight=a.outerHeight(!0),
m.innerHeight=a.height());fa=Za();G.oldBorderColor=a.css("border-color");if(""==G.oldBorderColor||null==G.oldBorderColor||void 0==G.oldBorderColor)G.oldBorderColor="#000";G.oldLabelOpacity=a.find(".labelImage").css("opacity");a=jQuery.Color(a.find(".labelImage"),"backgroundColor");G.oldLabelRed=a.red();G.oldLabelGreen=a.green();G.oldLabelBlue=a.blue();k=[]}function t(a,c){var b="";return""!=$&&void 0!==a[c+"_"+$]&&0<a[c+"_"+$].length?b=a[c+"_"+$]:b=a[c]}function f(a){return"%filename"==g.thumbnailLabel.title?
a.split("/").pop().replace("_"," "):"%filenameNoExt"==g.thumbnailLabel.title?a.split("/").pop().split(".").shift().replace("_"," "):a}function x(){var a=!1;"undefined"!==typeof g.dataSorting&&("random"==g.dataSorting?g.items=ja(g.items):"reversed"==g.dataSorting&&(g.items=g.items.reverse()));jQuery.each(g.items,function(b,c){var d="",d=t(c,"title");void 0===d&&(d="");var q=g.itemsBaseURL+c.src,B="",B=void 0!==c.srct&&0<c.srct.length?g.itemsBaseURL+c.srct:q,e="",e=void 0!==c.srct2x&&0<c.srct2x.length?
g.itemsBaseURL+c.srct2x:""!=B?B:q;""!=g.thumbnailLabel.title&&(d=f(q));var k="",k=t(c,"description");void 0===k&&(k="");var m="";void 0!==c.destURL&&0<c.destURL.length&&(m=c.destURL);var h=t(c,"tags");void 0===h&&(h="");var x=0;void 0!==c.albumID&&(x=c.albumID,a=!0);var u=null;void 0!==c.ID&&(u=c.ID);var p="image";void 0!==c.kind&&0<c.kind.length&&(p=c.kind);d=Q(d,B,q,k,m,p,h,u,x);d.thumbX2src=e;void 0!==c.thumbnailWidth&&0<c.imgtWidth&&(d.thumbImgWidth=c.imgtWidth);void 0!==c.thumbnailHeight&&0<
c.imgtHeigt&&(d.thumbImgHeight=c.imgtHeight);"function"==typeof g.fnProcessData&&g.fnProcessData(d,"api",null)});a&&(g.displayBreadcrumb=!0);for(var c=k.length,b=0,d=0,q=0;q<c;q++){for(var B=d=b=0;B<c;B++)q!=B&&k[q].GetID()==k[B].albumID&&(b++,"image"==k[B].kind&&(k[B].imageNumber=d++));k[q].contentLength=b}}function u(a){var c=!1;"undefined"!==typeof g.dataSorting&&("random"==g.dataSorting?a=ja(a):"reversed"==g.dataSorting&&(jQuery.fn.reverse=[].reverse,a=a.reverse()));jQuery.each(a,function(b,a){var d=
"";void 0!==jQuery(a).attr("data-ngthumb")&&0<jQuery(a).attr("data-ngthumb").length&&(d=g.itemsBaseURL+jQuery(a).attr("data-ngthumb"));void 0!==jQuery(a).attr("data-ngThumb")&&0<jQuery(a).attr("data-ngThumb").length&&(d=g.itemsBaseURL+jQuery(a).attr("data-ngThumb"));var q="";void 0!==jQuery(a).attr("data-ngthumb2x")&&0<jQuery(a).attr("data-ngthumb2x").length&&(q=g.itemsBaseURL+jQuery(a).attr("data-ngthumb2x"));void 0!==jQuery(a).attr("data-ngThumb2x")&&0<jQuery(a).attr("data-ngThumb2x").length&&(q=
g.itemsBaseURL+jQuery(a).attr("data-ngThumb2x"));src=g.itemsBaseURL+jQuery(a).attr("href");var B="";void 0!==jQuery(a).attr("data-ngdesc")&&0<jQuery(a).attr("data-ngdesc").length&&(B=jQuery(a).attr("data-ngdesc"));void 0!==jQuery(a).attr("data-ngDesc")&&0<jQuery(a).attr("data-ngDesc").length&&(B=jQuery(a).attr("data-ngDesc"));var e="";void 0!==jQuery(a).attr("data-ngdest")&&0<jQuery(a).attr("data-ngdest").length&&(e=jQuery(a).attr("data-ngdest"));void 0!==jQuery(a).attr("data-ngDest")&&0<jQuery(a).attr("data-ngDest").length&&
(e=jQuery(a).attr("data-ngDest"));var k=0;void 0!==jQuery(a).attr("data-ngalbumid")&&(k=jQuery(a).attr("data-ngalbumid"),c=!0);void 0!==jQuery(a).attr("data-ngAlbumID")&&(k=jQuery(a).attr("data-ngAlbumID"),c=!0);var m=null;void 0!==jQuery(a).attr("data-ngid")&&(m=jQuery(a).attr("data-ngid"));void 0!==jQuery(a).attr("data-ngID")&&(m=jQuery(a).attr("data-ngID"));var h="image";void 0!==jQuery(a).attr("data-ngkind")&&0<jQuery(a).attr("data-ngkind").length&&(h=jQuery(a).attr("data-ngkind"));void 0!==jQuery(a).attr("data-ngKind")&&
0<jQuery(a).attr("data-ngKind").length&&(h=jQuery(a).attr("data-ngKind"));var x=jQuery(a).text();""!=g.thumbnailLabel.title&&void 0!=g.thumbnailLabel.title&&(x=f(src));d=Q(x,d,src,B,e,h,"",m,k);d.thumbX2src=q;void 0!==jQuery(a).attr("data-ngthumbImgWidth")&&0<jQuery(a).attr("data-ngthumbImgWidth").length&&(d.thumbImgWidth=jQuery(a).attr("data-ngthumbImgWidth"));void 0!==jQuery(a).attr("data-ngthumbImgHeight")&&0<jQuery(a).attr("data-ngthumbImgHeight").length&&(d.thumbImgHeight=jQuery(a).attr("data-ngthumbImgHeight"));
"function"==typeof g.fnProcessData&&g.fnProcessData(d,"markup",null)});jQuery.each(a,function(a,b){jQuery(b).remove()});c&&(g.displayBreadcrumb=!0);a=k.length;for(var b=0,d=0,q=0;q<a;q++){for(var B=d=b=0;B<a;B++)q!=B&&k[q].GetID()==k[B].albumID&&(b++,"image"==k[B].kind&&(k[B].imageNumber=d++));k[q].contentLength=b}}function p(a,c,b,d){Ma(a);if(k[a].contentIsLoaded)S(a,d);else{var q="",B="album";0==k[a].GetID()?q=E.url()+"?&method=flickr.photosets.getList&api_key="+E.ApiKey+"&user_id="+g.userID+"&per_page=500&primary_photo_extras=url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&format=json&jsoncallback=?":
(q="none"==k[a].GetID()?E.url()+"?&method=flickr.people.getPublicPhotos&api_key="+E.ApiKey+"&user_id="+g.userID+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json&jsoncallback=?":E.url()+"?&method=flickr.photosets.getPhotos&api_key="+E.ApiKey+"&photoset_id="+k[a].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&format=json&jsoncallback=?",B="image");$a();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=
!0;jQuery.getJSON(q,function(q){ka();"album"==B?ga(a,q):ab(a,q);if(c)W(!1)||S(a,d);else if(-1!=b){q=-1;for(var g=k.length,e=0;e<g;e++)if("image"==k[e].kind&&k[e].GetID()==b){q=e;break}qa(q,!0)}else S(a,d)}).fail(function(a,b,c){ka();T("Could not retrieve Flickr photoset list (jQuery): "+(b+", "+c))})}}function ga(a,c){var b=!0;void 0!==c.stat&&"fail"===c.stat&&(T("Could not retrieve Flickr photoset list: "+c.message+" (code: "+c.code+")."),b=!1);if(b){var d=0,b=c.photosets.photoset;switch(g.albumSorting){case "random":b=
ja(b);break;case "reversed":b=b.reverse();break;case "titleAsc":b.sort(function(a,b){var c=a.title._content.toUpperCase(),d=b.title._content.toUpperCase();return c<d?-1:c>d?1:0});break;case "titleDesc":b.sort(function(a,b){var c=a.title._content.toUpperCase(),d=b.title._content.toUpperCase();return c>d?-1:c<d?1:0})}jQuery.each(b,function(b,c){itemTitle=c.title._content;if(bb(itemTitle)){itemID=c.id;itemDescription="";void 0!=c.description._content&&(itemDescription=c.description._content);var g=0;
for(b=1;b<E.thumbAvailableSizes.length;b++){var e=c.primary_photo_extras[E.thumbSizeDir+E.photoAvailableSizesStr[b]];if(void 0!=e&&(g=b,e>P))break}var f=c.primary_photo_extras["url_"+E.photoAvailableSizesStr[g]],m=g;for(b=g;b<E.thumbAvailableSizes.length&&!(e=c.primary_photo_extras[E.thumbSizeDir+E.photoAvailableSizesStr[b]],void 0!=e&&(m=b,e>P));b++);var g=c.primary_photo_extras["url_"+E.photoAvailableSizesStr[m]],e={},h;for(h in c.primary_photo_extras)e[h]=c.primary_photo_extras[h];tags="";void 0!==
c.primary_photo_extras&&void 0!==c.primary_photo_extras.tags&&(tags=c.primary_photo_extras.tags);f=Q(itemTitle,f,"",itemDescription,"","album",tags,itemID,k[a].GetID());f.contentLength=c.photos;f.thumbX2src=g;f.thumbSizes=e;d++;if(d>=Ja)return!1}});k[a].contentIsLoaded=!0;k[a].contentLength=d}}function ab(a,c){var b="",b="none"==k[a].GetID()?c.photos.photo:c.photoset.photo;switch(g.photoSorting){case "random":b=ja(b);break;case "reversed":b=b.reverse();break;case "titleAsc":b.sort(function(b,a){var c=
b.title.toUpperCase(),d=a.title.toUpperCase();return c<d?-1:c>d?1:0});break;case "titleDesc":b.sort(function(b,a){var c=b.title.toUpperCase(),d=a.title.toUpperCase();return c>d?-1:c<d?1:0})}var d=k[a].GetID(),q=0;jQuery.each(b,function(b,a){var c=a.title,e=a.id,k=a.description._content,m=0;for(b=1;b<E.thumbAvailableSizes.length;b++){var h=a[E.thumbSizeDir+E.photoAvailableSizesStr[b]];if(void 0!=h&&(m=b,h>P))break}var x=a["url_"+E.photoAvailableSizesStr[m]],u=m;for(b=m;b<E.thumbAvailableSizes.length&&
!(h=a[E.thumbSizeDir+E.photoAvailableSizesStr[b]],void 0!=h&&(u=b,h>P));b++);m=a["url_"+E.photoAvailableSizesStr[u]];u=a.url_sq;for(b=E.photoSize;0<=b;b--)if(void 0!=a["url_"+E.photoAvailableSizesStr[b]]){u=a["url_"+E.photoAvailableSizesStr[b]];break}var h={},p;for(p in a)if(0==p.indexOf("height_")||0==p.indexOf("width_")||0==p.indexOf("url_"))h[p]=a[p];""!=g.thumbnailLabel.title&&(c=f(u));c=Q(c,x,u,k,"","image","",e,d);c.imageNumber=q;void 0!==a.url_o?(c.width=a.width_o,c.height=a.height_o):(c.width=
a.width_z,c.height=a.height_z);c.thumbX2src=m;c.thumbSizes=h;q++;if(q>=Ka)return!1});k[a].contentIsLoaded=!0;k[a].contentLength=q}function ob(a,c,b,d){Ma(a);if(k[a].contentIsLoaded)S(a,d);else{var q="",e="album";0==k[a].GetID()?q=N.url()+"user/"+g.userID+"?alt=json&kind=album&imgmax=d&thumbsize="+N.thumbSize:(q="","undefined"!==typeof k[a].customData.authkey&&(q=k[a].customData.authkey),q=N.url()+"user/"+g.userID+"/albumid/"+k[a].GetID()+"?alt=json&kind=photo"+q+"&thumbsize="+N.thumbSize+"&imgmax=d",
e="image");q+="&callback=?";$a();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(q,function(g){ka();Hb(a,g,e);if(c)W(!1)||S(a,d);else if(-1!=b){g=-1;for(var q=k.length,f=0;f<q;f++)if("image"==k[f].kind&&k[f].GetID()==b){g=f;break}qa(g,!0)}else S(a,d)}).fail(function(b,a,c){ka();T("Could not retrieve Picasa/Google+ data (jQuery): "+(a+", "+c))})}}function Hb(a,c,b){var d=0,q=k[a].GetID();c=c.feed.entry;var e=g.albumSorting;"image"==b&&(e=g.photoSorting);switch(e){case "random":c=
ja(c);break;case "reversed":c=c.reverse();break;case "titleAsc":c.sort(function(a,c){var d="image"==b?a.media$group.media$description.$t.toUpperCase():a.media$group.media$title.$t.toUpperCase(),g="image"==b?c.media$group.media$description.$t.toUpperCase():c.media$group.media$title.$t.toUpperCase();return d<g?-1:d>g?1:0});break;case "titleDesc":c.sort(function(a,c){var d="image"==b?a.media$group.media$description.$t.toUpperCase():a.media$group.media$title.$t.toUpperCase(),g="image"==b?c.media$group.media$description.$t.toUpperCase():
c.media$group.media$title.$t.toUpperCase();return d>g?-1:d<g?1:0})}jQuery.each(c,function(a,c){var e=c.media$group.media$title.$t,B=c.media$group.media$thumbnail[0].url,k=c.gphoto$id.$t,m="",h=c.media$group.media$description.$t;"image"==b&&(m=e,e=h,h="");var x=c.media$group.media$content[0].url;"image"==b&&""!=g.thumbnailLabel.title&&(e=f(unescape(unescape(unescape(unescape(x))))));var u=!0;"album"==b&&(bb(e)||(u=!1));if(u){var p=B.substring(0,B.lastIndexOf("/")),p=p.substring(0,p.lastIndexOf("/"))+
"/",B=p+N.thumbSizeDir+P+"/",u=p+N.thumbSizeDir+2*P+"/",p="";"album"==b?p=k:(p=x.substring(0,x.lastIndexOf("/")),p=p.substring(0,p.lastIndexOf("/"))+"/",p=window.screen.width>window.screen.height?p+"w"+window.screen.width+"/"+m:p+"h"+window.screen.height+"/"+m);e=Q(e,B,p,h,"",b,"",k,q);e.imageNumber=d;"album"==b&&(e.author=c.author[0].name.$t,e.contentLength=c.gphoto$numphotos.$t);"image"==b?(e.width=c.gphoto$width.$t,e.height=c.gphoto$height.$t,e.thumbImgWidth=c.media$group.media$thumbnail[0].width,
e.thumbImgHeight=c.media$group.media$thumbnail[0].height):"auto"==g.thumbnailHeight?e.thumbImgWidth=N.thumbSize:("auto"!=g.thumbnailWidth&&"autoUpScale"!=g.thumbnailWidth&&(e.thumbImgWidth=N.thumbSize),e.thumbImgHeight=N.thumbSize);e.thumbX2src=u;"function"==typeof g.fnProcessData&&g.fnProcessData(e,"picasa",c);d++;if(d>=("album"==b?Ja:Ka))return!1}});k[a].contentIsLoaded=!0;k[a].contentLength=d}function Sa(a,c,b,d){Ma(a);if(k[a].contentIsLoaded)S(a,d);else{var q="",e="album";0==k[a].GetID()?q=L.url()+
"?method=smugmug.albums.get&NickName="+g.userID+"&Heavy=true&APIKey="+L.APIKey:(q=L.url()+"?method=smugmug.images.get&NickName="+g.userID+"&Heavy=true&AlbumID="+k[a].GetID()+"&APIKey="+L.APIKey,e="image");q+="&Callback=?";$a();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(q,function(q){ka();if("fail"==q.stat)T("Could not retrieve SMUGMUG data (jQuery): "+q.message);else{Ib(a,q,e);if(""!=g.gallery){g.displayBreadcrumb=!1;q=k.length;for(var f=0;f<q;f++)if(k[f].title.toUpperCase()==
g.gallery.toUpperCase()){Sa(f,c,b,d);return}g.displayBreadcrumb=!0;g.gallery=""}if(c)W(!1)||S(a,d);else if(-1!=b){var m=-1;q=k.length;for(f=0;f<q;f++)if("image"==k[f].kind&&k[f].GetID()==b){m=f;break}qa(m,!0)}else S(a,d)}}).fail(function(a,b,c){ka();T("Could not retrieve SMUGMUG data (jQuery): "+(b+", "+c))})}}function Ib(a,c,b){var d=0,q=k[a].GetID();if("album"==b){var e=c.Albums;switch(g.albumSorting){case "random":e=ja(e);break;case "reversed":e=e.reverse();break;case "titleAsc":e.sort(function(a,
b){var c=a.title.toUpperCase(),d=b.title.toUpperCase();return c<d?-1:c>d?1:0});break;case "titleDesc":e.sort(function(a,b){var c=a.title.toUpperCase(),d=b.title.toUpperCase();return c>d?-1:c<d?1:0})}jQuery.each(c.Albums,function(a,c){var e=c.Title,B=c.id+"&AlbumKey="+c.Key,f=c.Description,k=ca,m=!0;bb(e)||(m=!1);if(m&&(e=Q(e,"css/nano_gallery.png",k,f,"",b,"",B,q),e.imageNumber=d,e.contentLength=c.ImageCount,"auto"==g.thumbnailWidth||"autoUpScale"==g.thumbnailWidth?(e.thumbImgWidth=g.thumbnailHeight,
e.thumbImgHeight=g.thumbnailHeight):"auto"==g.thumbnailHeight?(e.thumbImgWidth=g.thumbnailWidth,e.thumbImgHeight=g.thumbnailWidth):(e.thumbImgWidth=g.thumbnailWidth,e.thumbImgHeight=g.thumbnailHeight),"function"==typeof g.fnProcessData&&g.fnProcessData(e,"smugmug",c),d++,d>=Ja))return!1})}else{e=c.Album.Images;switch(g.photoSorting){case "random":e=ja(e);break;case "reversed":e=e.reverse();break;case "titleAsc":e.sort(function(a,b){var c=a.Caption.toUpperCase(),d=b.Caption.toUpperCase();return c<
d?-1:c>d?1:0});break;case "titleDesc":e.sort(function(a,b){var c=a.Caption.toUpperCase(),d=b.Caption.toUpperCase();return c>d?-1:c<d?1:0})}jQuery.each(c.Album.Images,function(c,e){var B=e.Caption;""!=g.thumbnailLabel.title&&(B=f(e.FileName));var m=e.TinyURL;for(c=L.thumbSize;0<=c;c--)if(void 0!=e[L.photoAvailableSizesStr[c]]){m=e[L.photoAvailableSizesStr[c]];break}var h=e.TinyURL;for(c=L.thumbSizeX2;0<=c;c--)if(void 0!=e[L.photoAvailableSizesStr[c]]){h=e[L.photoAvailableSizesStr[c]];break}0==d&&(k[a].thumbsrc=
m);var p=e.Key,x=e.ThumbURL;for(c=L.photoSize;0<=c;c--)if(void 0!=e[L.photoAvailableSizesStr[c]]){x=e[L.photoAvailableSizesStr[c]];break}B=Q(B,m,x,"","",b,"",p,q);B.imageNumber=d;"auto"==g.thumbnailHeight&&(B.thumbImgWidth=g.thumbnailWidth);if("auto"==g.thumbnailWidth||"autoUpScale"==g.thumbnailWidth)B.thumbImgHeight=g.thumbnailHeight;"function"==typeof g.fnProcessData&&g.fnProcessData(B,"smugmug",e);B.thumbX2src=h;d++;if(d>=Ka)return!1})}k[a].contentIsLoaded=!0;k[a].contentLength=d}function Q(a,
c,b,d,g,e,f,m,h){a=new Jb(a,m);a.thumbsrc=c;a.src=b;a.description=d;a.destinationURL=g;a.kind=e;a.albumID=h;a.tags=0==f.length?null:f.split(" ");k.push(a);return a}function bb(a){a=a.toUpperCase();if(null!==Ha)for(var c=0;c<Ha.length;c++){if(a==Ha[c].toUpperCase())return!0}else{var b=!1;if(null!==Ga){for(c=0;c<Ga.length;c++)-1!==a.indexOf(Ga[c])&&(b=!0);if(!b)return!1}if(null!==Fa)for(c=0;c<Fa.length;c++)if(-1!==a.indexOf(Fa[c]))return!1;return!0}}function S(a,c){"display"==g.lazyBuild?cb(e.conTnParent,
g.lazyBuildTreshold)?db(a,c):(Na=a,ub=c):db(a,c)}function db(a,c){g.lazyBuild="none";La=Na=-1;U&&ua(!1);if(a!=Ya){if(g.locationHash&&c){var b="nanogallery/"+aa+"/"+k[a].GetID();oa="#"+b;top.location.hash=b}Ya=k[a].GetID();Ma(a);b=0;0<k[a].paginationLastPage&&k[a].paginationLastWidth==e.conTnParent.width()&&(b=k[a].paginationLastPage);ya(a,b)}}function vb(a){var c="folder";0==a&&(c="folderHome");c=jQuery('<div class="'+c+' oneFolder">'+k[a].title+"</div>").appendTo(e.conBC);jQuery(c).data("albumIdx",
a);c.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();pa(a,!1,-1,!0)})}function wb(a){var c=jQuery('<div class="separator"></div>').appendTo(e.conBC);jQuery(c).data("albumIdx",a);c.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();jQuery(this).remove();pa(a,!1,-1,!0)})}function Ma(a){var c=!1;if(!0==g.displayBreadcrumb){var c=!0,b=e.conBC.children().length;0==b?(g.breadcrumbAutoHideTopLevel&&(e.conNavBCon.css({opacity:0,"max-height":"0px"}),
c=!1),vb(0)):(1==b&&g.breadcrumbAutoHideTopLevel?e.conNavBCon.animate({opacity:"0","max-height":"0px"}):e.conNavBCon.animate({opacity:"1","max-height":"50px"}),e.conBC.children().not(":first").remove());if(0!=a){var b=k.length,d=[];for(d.push(a);0!=k[a].albumID;)for(i=1;i<b;i++)if(k[i].GetID()==k[a].albumID){a=i;d.push(a);break}wb(0);for(i=d.length-1;0<=i;i--)0<i&&wb(d[i-1]),vb(d[i])}}g.useTags&&(c=!0,null==xb&&(xb=jQuery('<div class="nanoGalleryTags"></div>').appendTo(e.conNavB)));g.galleryFullpageButton&&
(c=!0);!yb&&c&&(yb=!0,e.conNavBCon.show())}function $a(){e.conLoadingB.css({visibility:"visible"})}function ka(){e.conLoadingB.css({visibility:"hidden"})}function pa(a,c,b,d){switch(g.kind){case "":S(a,d);break;case "flickr":p(a,c,b,d);break;case "smugmug":Sa(a,c,b,d);break;default:ob(a,c,b,d)}}function Da(){"auto"==g.thumbnailHeight?Kb():"auto"==g.thumbnailWidth||"autoUpScale"==g.thumbnailWidth?Lb():Mb();eb();if(g.galleryToolbarWidthAligned&&void 0!==e.conNavBCon){var a=e.conTn.outerWidth(!0);e.conNavBCon.width();
e.conNavBCon.width(a)}}function Kb(){var a=e.conTnParent.width(),c=0,b=0,d=0,q=[],B=Za(),f=0,h=g.thumbnailGutterHeight,p=m.outerWidth,x=e.conTn.find(".nanoGalleryThumbnailContainer");"justified"==g.thumbnailAlignment?(B=Math.min(B,x.length),f=1==B?0:(a-B*p)/(B-1)):f=g.thumbnailGutterWidth;x.each(function(){var a=jQuery(this),e=a.data("index");if(void 0!==e){"onBottom"==g.thumbnailLabel.position&&fb(a,k[e]);var p=0,x=0;if(0==b)p=c*(m.outerWidth+f),q[c]=k[e].thumbFullHeight+h,c++,c>=B&&(c=0,b++);else{var u=
0,p=q[0];for(i=1;i<B;i++)if(q[i]+5<p){u=i;break}x=q[u];p=u*(m.outerWidth+f);q[u]=x+k[e].thumbFullHeight+h}a.css({top:x,left:p});gb(a,k[e],d);d++}});a=q.length*(p+f)-f;p=q[0];for(i=1;i<B;i++)p=Math.max(p,q[i]);e.conTn.width(a).height(p)}function Lb(){var a=e.conTnParent.width(),c=0,b=0,d=0,q=[],f=0,h=[],p=!1,x=0,u=0,t=0,v=0,w=g.thumbnailGutterWidth,l=g.thumbnailGutterHeight,r=0,y=0,s=!1,A=!1,ga=e.conTn.find(".nanoGalleryThumbnailContainer");ga.each(function(){var b=jQuery(this).data("index");if(void 0!==
b&&0<k[b].thumbImg().width){var d=k[b],e=Math.floor(d.thumbImg().width/d.thumbImg().height*g.thumbnailHeight)+m.borderWidth+m.imgcBorderWidth;g.thumbnailFeatured&&0==x&&(t=e*=2);p&&(p=!1,f++,c=0,A=s=!1,1==f&&0<t&&(c=t,t=0));d.thumbHeight>d.thumbWidth?s=!0:A=!0;c+e+w<a?(c+=e+w,h[f]=g.thumbnailHeight,d=Math.max(s?r:0,A?y:0),g.thumbnailAdjustLastRowHeight&&0<d&&(h[f]=Math.min(h[f],d)),q[f]=b):(c+=e,d=Math.floor(g.thumbnailHeight*a/c),h[f]=d,s&&(r=Math.max(r,d)),A&&(y=Math.max(y,d)),q[f]=b,p=!0);x++}});
x=b=d=f=0;ga.each(function(){var c=jQuery(this),e=c.data("index");if(void 0!==e&&0<k[e].thumbImg().width){var p=k[e],t=Math.floor(p.thumbImg().width/p.thumbImg().height*h[f]);0==x&&g.thumbnailFeatured&&(t*=2,u=1==h.length?2*parseInt(h[0]):parseInt(h[0])+parseInt(h[1])+m.borderHeight+m.imgcBorderHeight);e==q[f]&&(q.length!=f+1?t=a-b-m.borderWidth-m.imgcBorderWidth:b+t+m.borderWidth+m.imgcBorderWidth+w>a&&(t=a-b-m.borderWidth-m.imgcBorderWidth));var r=0;0==x&&g.thumbnailFeatured?(r=u,v=t+m.borderWidth+
m.imgcBorderWidth,p.customData.featured=!0,c.find("img").attr("src",p.thumbX2src)):r=h[f];r=parseInt(r);t=parseInt(t);c.width(t+m.imgcBorderWidth).height(r+m.imgcBorderHeight+m.labelHeight);c.find(".imgContainer").height(r).width(t);c.find("img").css({"max-height":r,"max-width":t});c.find(".subcontainer").width(t+m.imgcBorderWidth).height(r+m.imgcBorderHeight+m.labelHeight);c.css({top:d,left:b});p.thumbFullWidth=t+m.borderWidth+m.imgcBorderWidth;p.thumbFullHeight=r+m.borderHeight+m.imgcBorderHeight+
m.labelHeight;zb(c);gb(c,p,x);b+=t+m.borderWidth+m.imgcBorderWidth+w;e==q[f]&&(d+=h[f]+m.labelHeight+l+m.imgcBorderHeight+m.borderHeight,f++,b=0,1==f&&0<v&&(b=v,v=0))}x++});0<f&&(d-=l);u=u+m.outerHeight+m.labelHeight;e.conTn.width(a).height(d>u?d:u)}function Za(){var a=g.thumbnailWidth+m.borderWidth+m.imgcBorderWidth,c=e.conTnParent.width(),b=0,b="justified"==g.thumbnailAlignment?Math.floor(c/a):Math.floor((c+g.thumbnailGutterWidth)/(a+g.thumbnailGutterWidth));0<g.maxItemsPerLine&&b>g.maxItemsPerLine&&
(b=g.maxItemsPerLine);1>b&&(b=1);return b}function Mb(){var a=0,c=0,b=0,d=g.thumbnailGutterHeight,q=e.conTnParent.width(),f=Za(),h=0,p=0,x=0,u=[],t=0;if(0<O&&0<m.outerWidth&&f!=fa)fa=f,q=e.conPagin.data("galleryIdx"),ya(q,0);else{var v=e.conTn.find(".nanoGalleryThumbnailContainer"),r=v.length;"justified"==g.thumbnailAlignment?(f=Math.min(f,r),b=1==f?0:(q-f*m.outerWidth)/(f-1)):b=g.thumbnailGutterWidth;v.each(function(){var e=jQuery(this),g=e.data("index");void 0!==g&&(0==c?(a=t*(m.outerWidth+b),x=
u[t]=a):(a=u[t],p=c),e.css({top:c,left:a}),gb(e,k[g],h),t++,t>=f&&(t=0,c+=m.outerHeight+d),h++)});e.conTn.width(x+m.outerWidth).height(p+m.outerHeight)}}function gb(a,c,b){0==a.css("opacity")&&(a.removeClass("nanogalleryHideElement"),g.thumbnailDisplayTransition?"function"==typeof g.fnThumbnailDisplayEffect?g.fnThumbnailDisplayEffect(a,c,0):a.delay(b*m.displayInterval).fadeTo(150,1):a.css({opacity:1}))}function eb(){var a=e.conTn.find(".nanoGalleryThumbnailContainer").filter(function(){return Ab(jQuery(this),
m.g_lazyLoadTreshold)});jQuery(a).each(function(){var a=jQuery(this).find("img");if(jQuery(a).attr("src")==ca){var b=jQuery(this).data("index");jQuery(a).attr("src",k[b].thumbImg().src)}})}function Nb(a,c){if(void 0!=e.conPagin){e.conPagin.children().remove();e.conPagin.data("galleryIdx",a);e.conPagin.data("currentPageNumber",c);var b=0,d=0;if(0<c){var g=jQuery('<div class="paginationPrev">'+M.paginationPrevious+"</div>").appendTo(e.conPagin),d=d+jQuery(g).outerWidth(!0);g.click(function(a){rb()})}g=
0;0<O&&(b=Math.ceil(k[a].contentLength/(O*fa)));5<=c?(g=c-5,b>c+6&&(b=c+6)):10<b&&(b=10);if(1!=b){for(;g<b;g++){var f="";g==c&&(f=" currentPage");f=jQuery('<div class="paginationItem'+f+'">'+(g+1)+"</div>").appendTo(e.conPagin);f.data("pageNumber",g);d+=f.outerWidth(!0);f.click(function(a){a=e.conPagin.data("galleryIdx");var b=jQuery(this).data("pageNumber");ya(a,b)})}c+1<b&&(b=jQuery('<div class="paginationNext">'+M.paginationNext+"</div>").appendTo(e.conPagin),d+=b.outerWidth(!0),b.click(function(a){sb()}));
e.conPagin.width(d)}}}function sb(){var a=e.conPagin.data("galleryIdx"),c=0;0<O&&(c=k[a].contentLength/(O*fa));n2=Math.ceil(c);c=e.conPagin.data("currentPageNumber");c<n2-1?c++:c=0;ya(a,c)}function rb(){var a=e.conPagin.data("galleryIdx"),c=0;0<O&&(c=k[a].contentLength/(O*fa));n2=Math.ceil(c);c=e.conPagin.data("currentPageNumber");0<c?c--:c=n2-1;ya(a,c)}function ya(a,c){e.conTn.parent().animate({opacity:0},100).promise().done(function(){e.conTn.off().empty();for(var b=k.length,d=0;d<b;d++)k[d].hovered=
!1;e.conTnParent.css({left:0,opacity:1});z(e.conTn[0],0);Ob(a,c,Pb)})}function Ob(a,c,b){if(-1!=a&&void 0!=k[a]){k[a].paginationLastPage=c;k[a].paginationLastWidth=e.conTnParent.width();var d=k.length,q=0,f=0,h=0;0<O&&(h=c*O*fa);ka();var p=!1,x=!1,u=0;(function(){for(var t=0;100>t;t++){if(u>=d){b(a,c);return}var v=k[u];if(v.albumID==k[a].GetID()){f++;if(0<O&&q+1>O*fa){b(a,c);return}if(f>h){q++;var r=tb(v,u,0,!1);fb(r,v);$p=r.detach();$p.css({opacity:0});$p.appendTo(e.conTn);g.thumbnailLazyLoad&&!p&&
(Ab(r,m.g_lazyLoadTreshold)?(r.find("img").attr("src",v.thumbImg().src),x=!0):x&&(p=!0));Bb(r)}}u++}u<d?setTimeout(arguments.callee,0):b(a,c)})()}}function Pb(a,c){Da();Nb(a,c)}function tb(a,c,b,d){var q=[],f=0,h="",m=" nanogalleryHideElement";g.thumbnailLazyLoad&&"auto"==g.thumbnailWidth&&(h="top:0px;left:0px;",m="");q[f++]='<div class="nanoGalleryThumbnailContainer'+m+'" style="display:block,opacity:'+b+";"+h+'" ><div class="subcontainer" style="display:block;">';h="";h=g.thumbnailLazyLoad?ca:a.thumbImg().src;
b=!1;"auto"==g.thumbnailHeight?(q[f++]='<div class="imgContainer" style="width:'+g.thumbnailWidth+'px;"><img class="image" src='+h+' alt=" " style="max-width:'+g.thumbnailWidth+'px;"></div>',0==k[c].thumbImg().height&&(b=!0)):"auto"==g.thumbnailWidth||"autoUpScale"==g.thumbnailWidth?(q[f++]='<div class="imgContainer" style="height:'+g.thumbnailHeight+'px;"><img class="image" src='+h+' alt=" " style="max-height:'+g.thumbnailHeight+'px;" ></div>',0==k[c].thumbImg().width&&(b=!0)):q[f++]='<div class="imgContainer" style="width:'+
g.thumbnailWidth+"px;height:"+g.thumbnailHeight+'px;"><img class="image" src='+h+' alt=" " style="max-width:'+g.thumbnailWidth+"px;max-height:"+g.thumbnailHeight+'px;" ></div>';h=Qb(a);m=Rb(a);if("album"==a.kind){if(!0==g.thumbnailLabel.display){if(0<a.contentLength)switch(g.thumbnailLabel.itemsCount){case "title":h+=" "+M.thumbnailLabelItemsCountPart1+a.contentLength+M.thumbnailLabelItemsCountPart2;break;case "description":m+=" "+M.thumbnailLabelItemsCountPart1+a.contentLength+M.thumbnailLabelItemsCountPart2}q[f++]=
'<div class="labelImage" style="width:'+g.thumbnailWidth+'px;"><div class="labelFolderTitle labelTitle" >'+h+'</div><div class="labelDescription" >'+m+"</div></div>"}}else!0==g.thumbnailLabel.display&&(d&&0==m.length&&"onBottom"==g.thumbnailLabel.position&&(m="&nbsp;"),q[f++]='<div class="labelImage" style="width:'+g.thumbnailWidth+'px;"><div class="labelImageTitle labelTitle" >'+h+'</div><div class="labelDescription" >'+m+"</div></div>");q[f++]="</div></div>";d=jQuery(q.join("")).appendTo(e.conTnHid);
a.$elt=d;d.data("index",c);d.find("img").data("index",c);Sb(d,a);if(b)ngimagesLoaded(d).on("always",function(a){var b=k[jQuery(a.images[0].img).data("index")];if(void 0!=b&&jQuery(a.images[0].img).attr("src")!=ca){var c=!1;b.thumbImg().height!=a.images[0].img.naturalHeight&&(b.thumbImgHeight=a.images[0].img.naturalHeight,b.thumbImgWidth=a.images[0].img.naturalWidth,c=!0);b.thumbImg().width!=a.images[0].img.naturalWidth&&(b.thumbImgHeight=a.images[0].img.naturalHeight,b.thumbImgWidth=a.images[0].img.naturalWidth,
c=!0);c&&(fb(b.$elt,b),zb(b.$elt),Da())}});return d}function Qb(a){a=a.title;if(!0==g.thumbnailLabel.display){if(void 0===a||0==a.length)a="&nbsp;";""!=M.thumbnailImageTitle&&(a=M.thumbnailImageTitle);3<g.thumbnailLabel.titleMaxLength&&a.length>g.thumbnailLabel.titleMaxLength&&(a=a.substring(0,g.thumbnailLabel.titleMaxLength)+"...")}return a}function Rb(a){var c="";!0==g.thumbnailLabel.displayDescription&&(c="album"==a.kind?""!=M.thumbnailImageDescription?M.thumbnailAlbumDescription:a.description:
""!=M.thumbnailImageDescription?M.thumbnailImageDescription:a.description,3<g.thumbnailLabel.descriptionMaxLength&&c.length>g.thumbnailLabel.descriptionMaxLength&&(c=c.substring(0,g.thumbnailLabel.descriptionMaxLength)+"..."));return c}function fb(a,c){if("auto"==g.thumbnailHeight){if(0<c.thumbImg().height){var b=c.thumbImg().height/c.thumbImg().width;a.find(".imgContainer").height(g.thumbnailWidth*b);"onBottom"==g.thumbnailLabel.position?(c.thumbLabelHeight=a.find(".labelImage").outerHeight(!0),
c.thumbFullHeight=g.thumbnailWidth*b+c.thumbLabelHeight+m.borderHeight+m.imgcBorderHeight,a.width(m.outerWidth-m.borderWidth).height(c.thumbFullHeight-m.borderHeight),a.find(".labelImage").css({position:"absolute",top:"",bottom:"0px"})):(c.thumbFullHeight=g.thumbnailWidth*b+c.thumbLabelHeight+m.borderHeight+m.imgcBorderHeight,a.width(m.outerWidth-m.borderWidth).height(c.thumbFullHeight-m.borderHeight))}c.thumbFullWidth=m.outerWidth;a.find(".subcontainer").width(m.outerWidth-m.borderWidth).height(c.thumbFullHeight-
m.borderHeight)}else"auto"!=g.thumbnailWidth&&"autoUpScale"!=g.thumbnailWidth&&(c.thumbFullHeight=m.outerHeight,c.thumbFullWidth=m.outerWidth,a.width(c.thumbFullWidth-m.borderWidth).height(c.thumbFullHeight-m.borderHeight),a.find(".subcontainer").width(c.thumbFullWidth-m.borderWidth).height(c.thumbFullHeight-m.borderHeight))}function Sb(a,c){if("function"==typeof g.fnThumbnailInit)g.fnThumbnailInit(a,c,s());else switch(g.thumbnailLabel.position){case "onBottom":a.find(".labelImage").css({top:0,position:"relative",
left:0,right:0});"auto"==g.thumbnailHeight?(a.find(".labelImageTitle").css({"white-space":"normal"}),a.find(".labelFolderTitle").css({"white-space":"normal"}),a.find(".labelDescription").css({"white-space":"normal"})):(a.find(".labelImageTitle").css({"white-space":"nowrap"}),a.find(".labelFolderTitle").css({"white-space":"nowrap"}),a.find(".labelDescription").css({"white-space":"nowrap"}));break;case "overImageOnTop":a.find(".labelImage").css({top:0,bottom:0,left:0,right:0});break;case "overImageOnMiddle":a.find(".labelImage").css({top:0,
bottom:0,left:0,right:0});a.find(".labelFolderTitle").css({left:0,right:0,position:"absolute",bottom:"50%"});a.find(".labelImageTitle").css({left:0,right:0,position:"absolute",bottom:"50%"});a.find(".labelDescription").css({left:0,right:0,position:"absolute",top:"50%"});break;default:g.thumbnailLabel.position="overImageOnBottom",a.find(".labelImage").css({bottom:0,left:0,right:0})}}function qb(a){void 0!=a&&(Y=null,void 0!==k[a].destinationURL&&0<k[a].destinationURL.length?window.location=k[a].destinationURL:
(Ua=!1,"album"==k[a].kind?pa(a,!1,-1,!0):qa(a,!1)))}function Ea(){for(var a=k.length,c=0;c<a;c++)k[c].hovered&&Wa(k[c].$elt)}function Bb(a){var c=a.data("index");if(void 0!=c){var b=k[c];"function"==typeof g.fnThumbnailHoverInit&&g.fnThumbnailHoverInit(a,b,s());for(var d in b.eltTransform)delete b.eltTransform[d];for(j=0;j<C.length;j++)switch(C[j].name){case "imageSplit4":d=a.find(".subcontainer");var c=a.find(".labelImage"),q=a.find(".imgContainer");a.find(".imgContainer").css({position:"absolute"});
d.css({overflow:"hidden",position:"relative",width:"100%",height:"100%"});d.prepend(q.clone());d.prepend(a.find(".imgContainer").clone());q=a.find(".imgContainer");J("",q);A(b,"imgContainer0",q.eq(0));w(b,"imgContainer0");A(b,"imgContainer1",q.eq(1));w(b,"imgContainer1");A(b,"imgContainer2",q.eq(2));w(b,"imgContainer2");A(b,"imgContainer3",q.eq(3));w(b,"imgContainer3");break;case "imageSplitVert":d=a.find(".subcontainer");q=a.find(".imgContainer");q.css({position:"absolute"});d.css({overflow:"hidden",
position:"relative"});d.prepend(q.clone());q=a.find(".imgContainer");J("",q);A(b,"imgContainer0",q.eq(0));w(b,"imgContainer0");A(b,"imgContainer1",q.eq(1));w(b,"imgContainer1");break;case "labelSplit4":d=a.find(".subcontainer");c=a.find(".labelImage").css({top:0,bottom:0});d.css({overflow:"hidden",position:"relative"});c.clone().appendTo(d);a.find(".labelImage").clone().appendTo(d);c=a.find(".labelImage");A(b,"labelImage0",c.eq(0));w(b,"labelImage0");A(b,"labelImage1",c.eq(1));w(b,"labelImage1");
A(b,"labelImage2",c.eq(2));w(b,"labelImage2");A(b,"labelImage3",c.eq(3));w(b,"labelImage3");break;case "labelSplitVert":d=a.find(".subcontainer");c=a.find(".labelImage");d.css({overflow:"hidden",position:"relative"});c.clone().appendTo(d);c=a.find(".labelImage");A(b,"labelImage0",c.eq(0));w(b,"labelImage0");A(b,"labelImage1",c.eq(1));w(b,"labelImage1");break;case "labelAppearSplit4":d=a.find(".subcontainer");c=a.find(".labelImage");c.css({left:0,top:0,right:0,bottom:0});d.css({overflow:"hidden",position:"relative"});
c.clone().appendTo(d);a.find(".labelImage").clone().appendTo(d);c=a.find(".labelImage");d=A(b,"labelImage0",c.eq(0));d.translateX=-b.thumbFullWidth/2;d.translateY=-b.thumbFullHeight/2;w(b,"labelImage0");d=A(b,"labelImage1",c.eq(1));d.translateX=b.thumbFullWidth/2;d.translateY=-b.thumbFullHeight/2;w(b,"labelImage1");d=A(b,"labelImage2",c.eq(2));d.translateX=b.thumbFullWidth/2;d.translateY=b.thumbFullHeight/2;w(b,"labelImage2");d=A(b,"labelImage3",c.eq(3));d.translateX=-b.thumbFullWidth/2;d.translateY=
b.thumbFullHeight/2;w(b,"labelImage3");break;case "labelAppearSplitVert":d=a.find(".subcontainer");c=a.find(".labelImage");d.css({overflow:"hidden",position:"relative"});c.clone().appendTo(d);c=a.find(".labelImage");A(b,"labelImage0",c.eq(0)).translateX=-b.thumbFullWidth/2;w(b,"labelImage0");A(b,"labelImage1",c.eq(1)).translateX=b.thumbFullWidth/2;w(b,"labelImage1");break;case "imageScale150Outside":e.base.css({overflow:"visible"});e.conTn.css({overflow:"visible"});a.css({overflow:"visible"});a.find(".subcontainer").css({overflow:"visible"});
a.find(".imgContainer").css({overflow:"visible"});A(b,"img0",a.find("img"));w(b,"img0");J(a.find(".imgContainer"),a.find(".labelImage"));break;case "scale120":e.base.css({overflow:"visible"});e.conTn.css({overflow:"visible"});A(b,"base",a);w(b,"base");break;case "scaleLabelOverImage":d=a.find(".imgContainer");c=a.find(".labelImage");J(d,c);a.find(".labelImage").css({opacity:0});A(b,"labelImage0",c).scale=50;w(b,"labelImage0");A(b,"imgContainer0",d);w(b,"imgContainer0");break;case "overScale":a.css({overflow:"hidden"});
d=a.find(".imgContainer");c=a.find(".labelImage");J("",c);c.css({opacity:0});d.css({opacity:1});A(b,"labelImage0",c).scale=150;w(b,"labelImage0");A(b,"imgContainer0",d);w(b,"imgContainer0");break;case "overScaleOutside":e.base.css({overflow:"visible"});e.conTn.css({overflow:"visible"});a.css({overflow:"visible"});d=a.find(".imgContainer");c=a.find(".labelImage");J("",c);c.css({opacity:0});d.css({opacity:1});A(b,"labelImage0",c).scale=150;w(b,"labelImage0");A(b,"imgContainer0",d);w(b,"imgContainer0");
break;case "rotateCornerBL":a.css({overflow:"hidden"});d=a.find(".labelImage");d.css({opacity:1});d[0].style[ea+"Origin"]="100% 100%";A(b,"labelImage0",d).rotateZ=-90;w(b,"labelImage0");d=a.find(".imgContainer");d[0].style[ea+"Origin"]="100% 100%";A(b,"imgContainer0",d);w(b,"imgContainer0");break;case "rotateCornerBR":a.css({overflow:"hidden"});d=a.find(".labelImage");d.css({opacity:1});d[0].style[ea+"Origin"]="0% 100%";A(b,"labelImage0",d).rotateZ=90;w(b,"labelImage0");d=a.find(".imgContainer");
d[0].style[ea+"Origin"]="0 100%";A(b,"imgContainer0",d);w(b,"imgContainer0");break;case "imageRotateCornerBL":d=a.find(".imgContainer");J(a,d);a.css({overflow:"hidden"});a.find(".labelImage").css({opacity:1});d[0].style[ea+"Origin"]="bottom right";A(b,"imgContainer0",d);w(b,"imgContainer0");break;case "imageRotateCornerBR":d=a.find(".imgContainer");J(a,d);a.css({overflow:"hidden"});a.find(".labelImage").css({opacity:1});d[0].style[ea+"Origin"]="0 100%";A(b,"imgContainer0",d);w(b,"imgContainer0");
break;case "slideUp":a.css({overflow:"hidden"});d=a.find(".labelImage");d.css({opacity:1,top:0});A(b,"labelImage0",d).translateY=b.thumbFullHeight;w(b,"labelImage0");d=a.find(".imgContainer");d.css({left:0,top:0});A(b,"imgContainer0",d);w(b,"imgContainer0");break;case "slideDown":a.css({overflow:"hidden"});d=a.find(".labelImage");d.css({opacity:1,top:0});A(b,"labelImage0",d).translateY=-b.thumbFullHeight;w(b,"labelImage0");d=a.find(".imgContainer");d.css({left:0,top:0});A(b,"imgContainer0",d);w(b,
"imgContainer0");break;case "slideRight":a.css({overflow:"hidden"});d=a.find(".labelImage");d.css({opacity:1,top:0});A(b,"labelImage0",d).translateX=-b.thumbFullWidth;w(b,"labelImage0");d=a.find(".imgContainer");d.css({left:0,top:0});A(b,"imgContainer0",d);w(b,"imgContainer0");break;case "slideLeft":a.css({overflow:"hidden"});d=a.find(".labelImage");d.css({opacity:1,top:0});A(b,"labelImage0",d).translateX=b.thumbFullWidth;w(b,"labelImage0");d=a.find(".imgContainer");d.css({left:0,top:0});A(b,"imgContainer0",
d);w(b,"imgContainer0");break;case "imageSlideUp":case "imageSlideDown":case "imageSlideRight":case "imageSlideLeft":d=a.find(".imgContainer");J(a,d);a.css({overflow:"visible"});a.find(".labelImage").css({opacity:1});d.css({left:0,top:0});A(b,"imgContainer0",d);w(b,"imgContainer0");break;case "labelAppear":case "labelAppear75":var f="rgb("+G.oldLabelRed+","+G.oldLabelGreen+","+G.oldLabelBlue+",0)";a.find(".labelImage").css({backgroundColor:f});a.find(".labelImageTitle").css({opacity:0});a.find(".labelFolderTitle").css({opacity:0});
a.find(".labelDescription").css({opacity:0});break;case "descriptionAppear":a.find(".labelDescription").css({opacity:0});break;case "labelSlideUpTop":a.css({overflow:"hidden"});a.find(".labelImage").css({top:0,bottom:0});A(b,"labelImage0",a.find(".labelImage")).translateY=b.thumbFullHeight;w(b,"labelImage0");break;case "labelSlideUp":a.css({overflow:"hidden"});A(b,"labelImage0",a.find(".labelImage")).translateY=b.thumbFullHeight;w(b,"labelImage0");break;case "labelSlideDown":a.css({overflow:"hidden"});
A(b,"labelImage0",a.find(".labelImage")).translateY=-b.thumbFullHeight;w(b,"labelImage0");break;case "descriptionSlideUp":a.css({overflow:"hidden"});c="album"==b.kind?a.find(".labelFolderTitle").outerHeight(!0):a.find(".labelImageTitle").outerHeight(!0);a.find(".labelDescription").css({opacity:0});a.find(".labelImage").css({height:c});A(b,"labelImage0",a.find(".labelImage"));w(b,"labelImage0");break;case "imageExplode":J("",a);J(a.find(".labelImage"),a.find(".imgContainer"));d=a.find(".subcontainer");
for(var c=7,q=a.find(".imgContainer"),h=q.outerWidth(!0)/c,p=q.outerHeight(!0),p=q.outerHeight(!0)/c,x=0;x<c;x++)for(f=0;f<c;f++){var u="rect("+p*x+"px, "+h*(f+1)+"px, "+p*(x+1)+"px, "+h*f+"px)";q.clone().appendTo(d).css({top:0,scale:1,clip:u,left:0,position:"absolute"}).data("ngScale",1)}q.remove();break;case "imageFlipHorizontal":switch(g.thumbnailLabel.position){case "overImageOnTop":a.find(".labelImage").css({top:-m.imgcBorderHeight/2,bottom:m.imgcBorderWidth/2,left:0,right:0});break;case "overImageOnMiddle":a.find(".labelImage").css({top:-m.imgcBorderHeight/
2,bottom:m.imgcBorderWidth/2,left:0,right:0});break;default:a.find(".labelImage").css({bottom:m.imgcBorderWidth/2,left:0,right:0})}e.base.css({overflow:"visible"});e.conTn.css({overflow:"visible"});a.css({overflow:"visible"});J("",a);J(a.find(".labelImage"),a.find(".imgContainer"));d=a.find(".subcontainer");d.css({overflow:"visible"});d[0].style[Cb]="preserve-3d";c=Math.round(1.2*b.thumbFullHeight)+"px";d[0].style[Oa]=c;d=a.find(".imgContainer");d[0].style[ra]="hidden";A(b,"imgContainer0",d);w(b,
"imgContainer0");a.find(".image")[0].style[ra]="hidden";d=a.find(".labelImage");d[0].style[ra]="hidden";A(b,"labelImage0",d).rotateX=180;w(b,"labelImage0");break;case "imageFlipVertical":switch(g.thumbnailLabel.position){case "overImageOnTop":a.find(".labelImage").css({top:-m.imgcBorderHeight/2,bottom:m.imgcBorderWidth/2,left:0,right:0});break;case "overImageOnMiddle":a.find(".labelImage").css({top:-m.imgcBorderHeight/2,bottom:m.imgcBorderWidth/2,left:0,right:0});break;default:a.find(".labelImage").css({bottom:m.imgcBorderWidth/
2,left:0,right:0})}e.base.css({overflow:"visible"});e.conTn.css({overflow:"visible"});a.css({overflow:"visible"});J("",a);J(a.find(".labelImage"),a.find(".imgContainer"));d=a.find(".subcontainer");d.css({overflow:"visible"});d[0].style[Cb]="preserve-3d";c=Math.round(1.2*b.thumbFullWidth)+"px";d[0].style[Oa]=c;d=a.find(".imgContainer");d[0].style[ra]="hidden";A(b,"imgContainer0",d);w(b,"imgContainer0");a.find(".image")[0].style[ra]="hidden";d=a.find(".labelImage");d[0].style[ra]="hidden";A(b,"labelImage0",
d).rotateY=180;w(b,"labelImage0");break;case "imageScale150":a.css({overflow:"hidden"});A(b,"img0",a.find("img"));w(b,"img0");break;case "imageScaleIn80":a.css({overflow:"hidden"});A(b,"img0",a.find("img")).scale=120;w(b,"img0");break;case "imageSlide2Up":case "imageSlide2Down":case "imageSlide2Left":case "imageSlide2Right":case "imageSlide2UpRight":case "imageSlide2UpLeft":case "imageSlide2DownRight":case "imageSlide2DownLeft":a.css({overflow:"hidden"});b.customData.hoverEffectRDir=C[j].name;hb(a,
b);break;case "imageSlide2Random":a.css({overflow:"hidden"}),c="imageSlide2Up imageSlide2Down imageSlide2Left imageSlide2Left imageSlide2UpRight imageSlide2UpLeft imageSlide2DownRight imageSlide2DownLeft".split(" "),b.customData.hoverEffectRDir=c[Math.floor(Math.random()*c.length)],hb(a,b)}b.hoverInitDone=!0}}function hb(a,c){var b=c.thumbFullWidth,d=c.thumbFullHeight,e=A(c,"img0",a.find("img"));e.scale=140;switch(c.customData.hoverEffectRDir){case "imageSlide2Up":e.translateY=c.thumbFullHeight<1.4*
c.thumbImg().height?(1.4*c.thumbImg().height-c.thumbFullHeight)/2:0;e.translateX=c.thumbFullWidth<1.4*c.thumbImg().width?-(1.4*c.thumbImg().width-c.thumbFullWidth)/2:0;break;case "imageSlide2Down":d=c.thumbFullHeight<1.4*c.thumbImg().height?Math.min((1.4*c.thumbImg().height-c.thumbFullHeight)/2*.1,.1*d):0;e.translateY=-d;console.log(c.thumbFullHeight+" - "+1.4*c.thumbImg().height);b=c.thumbFullWidth<1.4*c.thumbImg().width?Math.min((1.4*c.thumbImg().width-c.thumbFullWidth)/2*.1,.1*b):0;e.translateX=
b;break;case "imageSlide2Left":e.translateY=.1*-d;e.translateX=.1*b;break;case "imageSlide2Right":e.translateY=.1*-d;e.translateX=.1*-b;break;case "imageSlide2UpRight":e.translateY=.05*d;e.translateX=.05*-b;break;case "imageSlide2UpLeft":e.translateY=.05*d;e.translateX=.05*b;break;case "imageSlide2DownRight":e.translateY=.05*-d;e.translateX=.05*-b;break;case "imageSlide2DownLeft":e.translateY=.05*-d,e.translateX=.05*b}w(c,"img0")}function zb(a){var c=a.data("index");if(void 0!=c){var b=k[c];if(b.hoverInitDone)for("function"==
typeof g.fnThumbnailHoverResize&&g.fnThumbnailHoverResize(a,b,s()),j=0;j<C.length;j++)switch(C[j].name){case "imageSplit4":var c=b.thumbFullWidth-m.borderWidth-m.imgcBorderWidth,d=b.thumbFullHeight-m.borderHeight-m.imgcBorderHeight,e=a.find(".imgContainer"),f="rect(0px, "+Math.ceil(c/2)+"px, "+Math.ceil(d/2)+"px, 0px)";e.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+Math.ceil(d/2)+"px, "+Math.ceil(c/2)+"px)";e.eq(1).css({clip:f});f="rect("+Math.ceil(d/2)+"px, "+c+"px, "+d+"px, "+Math.ceil(c/2)+"px)";
e.eq(2).css({clip:f});f="rect("+Math.ceil(d/2)+"px, "+Math.ceil(c/2)+"px, "+d+"px, 0px)";e.eq(3).css({clip:f});break;case "imageSplitVert":e=a.find(".imgContainer");c=b.thumbFullWidth-m.borderWidth-m.imgcBorderWidth;d=b.thumbFullHeight-m.borderHeight-m.imgcBorderHeight;f="rect(0px, "+Math.ceil(c/2)+"px, "+d+"px, 0px)";e.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+d+"px, "+Math.ceil(c/2)+"px)";e.eq(1).css({clip:f});break;case "labelSplit4":c=b.thumbFullWidth-m.borderWidth-m.imgcBorderWidth;d=b.thumbFullHeight-
m.borderHeight-m.imgcBorderHeight;e=a.find(".labelImage");f="rect(0px, "+Math.ceil(c/2)+"px, "+Math.ceil(d/2)+"px, 0px)";e.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+Math.ceil(d/2)+"px, "+Math.ceil(c/2)+"px)";e.eq(1).css({clip:f});f="rect("+Math.ceil(d/2)+"px, "+c+"px, "+d+"px, "+Math.ceil(c/2)+"px)";e.eq(2).css({clip:f});f="rect("+Math.ceil(d/2)+"px, "+Math.ceil(c/2)+"px, "+d+"px, 0px)";e.eq(3).css({clip:f});break;case "labelSplitVert":c=b.thumbFullWidth-m.borderWidth-m.imgcBorderWidth;d=b.thumbFullHeight-
m.borderHeight-m.imgcBorderHeight;e=a.find(".labelImage");f="rect(0px, "+Math.ceil(c/2)+"px, "+d+"px, 0px)";e.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+d+"px, "+Math.ceil(c/2)+"px)";e.eq(1).css({clip:f});break;case "labelAppearSplit4":c=b.thumbFullWidth-m.borderWidth-m.imgcBorderWidth;d=b.thumbFullHeight-m.borderHeight-m.imgcBorderHeight;e=a.find(".labelImage");f="rect(0px, "+Math.ceil(c/2)+"px, "+Math.ceil(d/2)+"px, 0px)";e.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+Math.ceil(d/2)+"px, "+Math.ceil(c/
2)+"px)";e.eq(1).css({clip:f});f="rect("+Math.ceil(d/2)+"px, "+c+"px, "+d+"px, "+Math.ceil(c/2)+"px)";e.eq(2).css({clip:f});f="rect("+Math.ceil(d/2)+"px, "+Math.ceil(c/2)+"px, "+d+"px, 0px)";e.eq(3).css({clip:f});b.eltTransform.labelImage0.translateX=-b.thumbFullWidth/2;b.eltTransform.labelImage0.translateY=-b.thumbFullHeight/2;w(b,"labelImage0");b.eltTransform.labelImage1.translateX=b.thumbFullWidth/2;b.eltTransform.labelImage1.translateY=-b.thumbFullHeight/2;w(b,"labelImage1");b.eltTransform.labelImage2.translateX=
b.thumbFullWidth/2;b.eltTransform.labelImage2.translateY=b.thumbFullHeight/2;w(b,"labelImage2");b.eltTransform.labelImage3.translateX=-b.thumbFullWidth/2;b.eltTransform.labelImage3.translateY=b.thumbFullHeight/2;w(b,"labelImage3");break;case "labelAppearSplitVert":c=b.thumbFullWidth-m.borderWidth-m.imgcBorderWidth;d=b.thumbFullHeight-m.borderHeight-m.imgcBorderHeight;e=a.find(".labelImage");f="rect(0px, "+Math.ceil(c/2)+"px, "+d+"px, 0px)";e.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+d+"px, "+Math.ceil(c/
2)+"px)";e.eq(1).css({clip:f});b.eltTransform.labelImage0.translateX=-b.thumbFullWidth/2;w(b,"labelImage0");b.eltTransform.labelImage1.translateX=b.thumbFullWidth/2;w(b,"labelImage1");break;case "slideUp":b.eltTransform.labelImage0.translateY=b.thumbFullHeight;w(b,"labelImage0");break;case "slideDown":b.eltTransform.labelImage0.translateY=-b.thumbFullHeight;w(b,"labelImage0");break;case "slideRight":b.eltTransform.labelImage0.translateX=-b.thumbFullWidth;w(b,"labelImage0");break;case "slideLeft":b.eltTransform.labelImage0.translateX=
b.thumbFullWidth;w(b,"labelImage0");break;case "imageExplode":a.find(".subcontainer");e=a.find(".imgContainer");c=Math.sqrt(e.length);e.eq(0).outerWidth(!0);e.eq(0).outerHeight(!0);for(d=0;d<c;d++)for(e=0;e<c;e++);break;case "imageFlipHorizontal":d=a.find(".subcontainer");c=Math.round(1.2*b.thumbFullHeight)+"px";d[0].style[Oa]=c;break;case "imageFlipVertical":d=a.find(".subcontainer");c=Math.round(1.2*b.thumbFullWidth)+"px";d[0].style[Oa]=c;break;case "imageSlide2Up":case "imageSlide2Down":case "imageSlide2Left":case "imageSlide2Right":case "imageSlide2UpRight":case "imageSlide2UpLeft":case "imageSlide2DownRight":case "imageSlide2DownLeft":case "imageSlide2Random":hb(a,
b);break;case "slideUp":b.eltTransform.labelImage0.translateY=b.thumbFullHeight;w(b,"labelImage0");break;case "slideDown":b.eltTransform.labelImage0.translateY=-b.thumbFullHeight;w(b,"labelImage0");break;case "slideRight":b.eltTransform.labelImage0.translateX=-b.thumbFullWidth;w(b,"labelImage0");break;case "slideLeft":b.eltTransform.labelImage0.translateX=b.thumbFullWidth;w(b,"labelImage0");break;case "labelSlideUpTop":case "labelSlideUp":b.eltTransform.labelImage0.translateY=b.thumbFullHeight;w(b,
"labelImage0");break;case "labelSlideDown":a.css({overflow:"hidden"}),b.eltTransform.labelImage0.translateY=-b.thumbFullHeight,w(b,"labelImage0")}else Bb(a)}}function A(a,c,b){void 0==a.eltTransform[c]&&(a.eltTransform[c]={translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,scale:100},a.eltTransform[c].$elt=b);return a.eltTransform[c]}function w(a,c){var b=a.eltTransform[c],d="translateX("+b.translateX+"px) translateY("+b.translateY+"px) scale("+b.scale/100+")",d=9>=Tb||Ub?d+(" rotate("+b.rotateZ+
"deg)"):d+(" rotateX("+b.rotateX+"deg) rotateY("+b.rotateY+"deg) rotateZ("+b.rotateZ+"deg)");b.$elt[0].style[ea]=d}function v(a,c,b,d,e){var g="translateX translateY scale rotateX rotateY rotateZ".split(" ");if("animate"==D)for(var f=0;f<g.length;f++){var k=g[f];if(void 0!==b[k]){var h={v:parseInt(d.eltTransform[e][k]),item:d,tf:k,eltClass:e,to:parseInt(b[k])},m={v:parseInt(b[k])};0<C[c].delay?jQuery(h).delay(C[c].delay).animate(m,{duration:C[c].duration,easing:C[c].easing,queue:!1,step:function(a){this.item.hovered&&
(d.eltTransform[this.eltClass][this.tf]=a,w(this.item,this.eltClass))},complete:function(){this.item.hovered&&(d.eltTransform[this.eltClass][this.tf]=this.to,w(this.item,this.eltClass))}}):jQuery(h).animate(m,{duration:C[c].duration,easing:C[c].easing,queue:!1,step:function(a){this.item.hovered&&(d.eltTransform[this.eltClass][this.tf]=a,w(this.item,this.eltClass))},complete:function(){this.item.hovered&&(d.eltTransform[this.eltClass][this.tf]=this.to,w(this.item,this.eltClass))}});delete b[k]}}if(0!=
b.length)if(0<C[c].delay)if("transition"==D)a[D](b,{duration:C[c].duration,easing:C[c].easing});else a.delay(C[c].delay)[D](b,{duration:C[c].duration,easing:C[c].easing,queue:!1});else if("transition"==D)a[D](b,{duration:C[c].duration,easing:C[c].easing});else a[D](b,{duration:C[c].duration,easing:C[c].easing,queue:!1})}function pb(a){var c=a.data("index");if(void 0!=c){"velocity"==D?a.find("*").velocity("stop",!0):a.find("*").stop(!0,!1);var b=k[c];b.hovered=!0;var d="animate"==D?1:100;"function"==
typeof g.fnThumbnailHover&&g.fnThumbnailHover(a,b,s());try{for(j=0;j<C.length;j++)switch(C[j].name){case "imageSplit4":var e=a.find(".imgContainer");v(e.eq(0),j,{translateX:-b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"imgContainer0");v(e.eq(1),j,{translateX:b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"imgContainer1");v(e.eq(2),j,{translateX:b.thumbFullWidth/2,translateY:b.thumbFullHeight/2},b,"imgContainer2");v(e.eq(3),j,{translateX:-b.thumbFullWidth/2,translateY:b.thumbFullHeight/
2},b,"imgContainer3");break;case "imageSplitVert":e=a.find(".imgContainer");v(e.eq(0),j,{translateX:-b.thumbFullWidth/2},b,"imgContainer0");v(e.eq(1),j,{translateX:b.thumbFullWidth/2},b,"imgContainer1");break;case "labelSplit4":e=a.find(".labelImage");v(e.eq(0),j,{translateX:-b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"labelImage0");v(e.eq(1),j,{translateX:b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"labelImage1");v(e.eq(2),j,{translateX:b.thumbFullWidth/2,translateY:b.thumbFullHeight/
2},b,"labelImage2");v(e.eq(3),j,{translateX:-b.thumbFullWidth/2,translateY:b.thumbFullHeight/2},b,"labelImage3");break;case "labelSplitVert":e=a.find(".labelImage");v(e.eq(0),j,{translateX:-b.thumbFullWidth/2},b,"labelImage0");v(e.eq(1),j,{translateX:b.thumbFullWidth/2},b,"labelImage1");break;case "labelAppearSplit4":e=a.find(".labelImage");v(e.eq(0),j,{translateX:0,translateY:0},b,"labelImage0");v(e.eq(1),j,{translateX:0,translateY:0},b,"labelImage1");v(e.eq(2),j,{translateX:0,translateY:0},b,"labelImage2");
v(e.eq(3),j,{translateX:0,translateY:0},b,"labelImage3");break;case "labelAppearSplitVert":e=a.find(".labelImage");v(e.eq(0),j,{translateX:0},b,"labelImage0");v(e.eq(1),j,{translateX:0},b,"labelImage1");break;case "scaleLabelOverImage":v(a.find(".labelImage"),j,{scale:100/d,opacity:1},b,"labelImage0");v(a.find(".imgContainer"),j,{scale:50/d},b,"imgContainer0");break;case "overScale":case "overScaleOutside":v(a.find(".labelImage"),j,{opacity:1,scale:100/d},b,"labelImage0");v(a.find(".imgContainer"),
j,{opacity:0,scale:50/d},b,"imgContainer0");break;case "imageInvisible":v(a.find(".imgContainer"),j,{opacity:0},b);break;case "rotateCornerBL":var f="transition"==D?{rotate:"0deg"}:{rotateZ:"0"};v(a.find(".labelImage"),j,f,b,"labelImage0");f="transition"==D?{rotate:"90deg"}:{rotateZ:"90"};v(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "rotateCornerBR":f="transition"==D?{rotate:"0deg"}:{rotateZ:"0"};v(a.find(".labelImage"),j,f,b,"labelImage0");f="transition"==D?{rotate:"-90deg"}:{rotateZ:"-90"};
v(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "imageRotateCornerBL":f="transition"==D?{rotate:"90deg"}:{rotateZ:"90"};v(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "imageRotateCornerBR":f="transition"==D?{rotate:"-90deg"}:{rotateZ:"-90"};v(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "slideUp":v(a.find(".imgContainer"),j,{translateY:-b.thumbFullHeight},b,"imgContainer0");v(a.find(".labelImage"),j,{translateY:0},b,"labelImage0");break;case "slideDown":v(a.find(".imgContainer"),
j,{translateY:b.thumbFullHeight},b,"imgContainer0");v(a.find(".labelImage"),j,{translateY:0},b,"labelImage0");break;case "slideRight":v(a.find(".imgContainer"),j,{translateX:b.thumbFullWidth},b,"imgContainer0");v(a.find(".labelImage"),j,{translateX:0},b,"labelImage0");break;case "slideLeft":v(a.find(".imgContainer"),j,{translateX:-b.thumbFullWidth},b,"imgContainer0");v(a.find(".labelImage"),j,{translateX:0},b,"labelImage0");break;case "imageSlideUp":v(a.find(".imgContainer"),j,{translateY:-b.thumbFullHeight},
b,"imgContainer0");break;case "imageSlideDown":v(a.find(".imgContainer"),j,{translateY:b.thumbFullHeight},b,"imgContainer0");break;case "imageSlideLeft":v(a.find(".imgContainer"),j,{translateX:-b.thumbFullWidth},b,"imgContainer0");break;case "imageSlideRight":v(a.find(".imgContainer"),j,{translateX:b.thumbFullWidth},b,"imgContainer0");break;case "labelAppear":if("velocity"==D)v(a.find(".labelImage"),j,{backgroundColorRed:G.oldLabelRed,backgroundColorGreen:G.oldLabelGreen,backgroundColorBlue:G.oldLabelBlue,
backgroundColorAlpha:1},b);else{var h="rgba("+G.oldLabelRed+","+G.oldLabelGreen+","+G.oldLabelBlue+",1)";v(a.find(".labelImage"),j,{backgroundColor:h},b)}v(a.find(".labelImageTitle"),j,{opacity:1},b);v(a.find(".labelFolderTitle"),j,{opacity:1},b);v(a.find(".labelDescription"),j,{opacity:1},b);break;case "labelAppear75":"velocity"==D?v(a.find(".labelImage"),j,{backgroundColorRed:G.oldLabelRed,backgroundColorGreen:G.oldLabelGreen,backgroundColorBlue:G.oldLabelBlue,backgroundColorAlpha:.75},b):(h="rgba("+
G.oldLabelRed+","+G.oldLabelGreen+","+G.oldLabelBlue+",0.75)",v(a.find(".labelImage"),j,{backgroundColor:h},b));v(a.find(".labelImageTitle"),j,{opacity:1},b);v(a.find(".labelFolderTitle"),j,{opacity:1},b);v(a.find(".labelDescription"),j,{opacity:1},b);break;case "descriptionAppear":v(a.find(".labelDescription"),j,{opacity:1},b);break;case "labelSlideDown":v(a.find(".labelImage"),j,{translateY:0},b,"labelImage0");break;case "labelSlideUpTop":case "labelSlideUp":v(a.find(".labelImage"),j,{translateY:0},
b,"labelImage0");break;case "descriptionSlideUp":var m="album"==b.kind?a.find(".labelFolderTitle").outerHeight(!0):a.find(".labelImageTitle").outerHeight(!0),p=a.find(".labelDescription").outerHeight(!0),x=b.thumbFullHeight-m-p;0>x&&(x=0);v(a.find(".labelImage"),j,{translateY:0,height:m+p},b,"labelImage0");v(a.find(".labelDescription"),j,{opacity:1},b);break;case "labelOpacity50":v(a.find(".labelImage"),j,{opacity:.5},b);break;case "imageOpacity50":v(a.find(".imgContainer"),j,{opacity:.5},b);break;
case "borderLighter":if("velocity"==D){var u=Pa(G.oldBorderColor,.5,!1),t=u.substring(u.indexOf("(")+1,u.lastIndexOf(")")).split(/,\s*/);v(a,j,{borderColorRed:t[0],borderColorGreen:t[1],borderColorBlue:t[2],colorAlpha:t[3]},b)}else v(a,j,{borderColor:Pa(G.oldBorderColor,.5,!1)},b);break;case "borderDarker":"velocity"==D?(u=Pa(G.oldBorderColor,.5,!0),t=u.substring(u.indexOf("(")+1,u.lastIndexOf(")")).split(/,\s*/),v(a,j,{borderColorRed:t[0],borderColorGreen:t[1],borderColorBlue:t[2],colorAlpha:t[3]},
b)):v(a,j,{borderColor:Pa(G.oldBorderColor,.5,!0)},b);break;case "imageScale150":v(a.find("img"),j,{scale:150/d},b,"img0");break;case "imageScaleIn80":v(a.find("img"),j,{scale:100/d},b,"img0");break;case "imageSlide2Up":case "imageSlide2Down":case "imageSlide2Left":case "imageSlide2Right":case "imageSlide2UpRight":case "imageSlide2UpLeft":case "imageSlide2DownRight":case "imageSlide2DownLeft":case "imageSlide2Random":switch(b.customData.hoverEffectRDir){case "imageSlide2Up":var r=b.thumbFullHeight<
1.4*b.imgHeight?(1.4*b.imgHeight-b.thumbFullHeight)/2:0;v(a.find("img"),j,{translateY:-r},b,"img0");break;case "imageSlide2Down":r=b.thumbFullHeight<1.4*b.imgHeight?(1.4*b.imgHeight-b.thumbFullHeight)/2:0;v(a.find("img"),j,{translateY:r},b,"img0");break;case "imageSlide2Left":v(a.find("img"),j,{translateX:.1*-b.thumbFullWidth},b,"img0");break;case "imageSlide2Right":v(a.find("img"),j,{translateX:.1*b.thumbFullWidth},b,"img0");break;case "imageSlide2UpRight":v(a.find("img"),j,{translateY:.05*-b.thumbFullHeight,
translateX:.05*b.thumbFullWidth},b,"img0");break;case "imageSlide2UpLeft":v(a.find("img"),j,{translateY:.05*-b.thumbFullHeight,translateX:.05*-b.thumbFullWidth},b,"img0");break;case "imageSlide2DownRight":v(a.find("img"),j,{translateY:.05*b.thumbFullHeight,translateX:.05*b.thumbFullWidth},b,"img0");break;case "imageSlide2DownLeft":v(a.find("img"),j,{translateY:.05*b.thumbFullHeight,translateX:.05*-b.thumbFullWidth},b,"img0")}break;case "imageScale150Outside":J("",a);v(a.find("img"),j,{scale:150/d},
b,"img0");break;case "scale120":J("",a);v(a,j,{scale:120/d},b,"base");break;case "imageExplode":J("",a);for(var w=a.find(".imgContainer"),c=Math.sqrt(w.length),l=[],y=0;y<=Math.PI;y+=Math.PI/(c-1))l.push(Math.sin(y));for(var A=w.outerWidth(!0)/c,ga=w.outerHeight(!0)/c,f=y=0;f<c;f++)for(h=0;h<c;h++)v(w.eq(y++),j,{top:(-ga*c/3+ga*f-ga)*l[h],left:(-A*c/3+A*h-A)*l[f],scale:1.5,opacity:0},b);break;case "imageFlipHorizontal":J("",a);v(a.find(".imgContainer"),j,{rotateX:180},b,"imgContainer0");v(a.find(".labelImage"),
j,{rotateX:360},b,"labelImage0");break;case "imageFlipVertical":J("",a),v(a.find(".imgContainer"),j,{rotateY:180},b,"imgContainer0"),v(a.find(".labelImage"),j,{rotateY:360},b,"labelImage0")}}catch(ab){T("error on hover "+ab.message)}}}function y(a,c,b,d,e){var g="translateX translateY scale rotateX rotateY rotateZ".split(" ");if("animate"==D)for(var f=0;f<g.length;f++){var k=g[f];if(void 0!==b[k]){var h={v:parseInt(d.eltTransform[e][k]),item:d,tf:k,eltClass:e,to:parseInt(b[k])},m={v:parseInt(b[k])};
0<C[c].delayBack?jQuery(h).delay(C[c].delayBack).animate(m,{duration:C[c].durationBack,easing:C[c].easingBack,queue:!1,step:function(a){d.eltTransform[this.eltClass][this.tf]=a;w(this.item,this.eltClass)},complete:function(){d.eltTransform[this.eltClass][this.tf]=this.to;w(this.item,this.eltClass)}}):jQuery(h).animate(m,{duration:C[c].durationBack,easing:C[c].easingBack,queue:!1,step:function(a){d.eltTransform[this.eltClass][this.tf]=a;w(this.item,this.eltClass)},complete:function(){d.eltTransform[this.eltClass][this.tf]=
this.to;w(this.item,this.eltClass)}});delete b[k]}}if(0!=b.length)if(0<C[c].delay)if("transition"==D)a.delay(C[c].delayBack)[D](b,C[c].durationBack,C[c].easingBack);else a.delay(C[c].delayBack)[D](b,{duration:C[c].durationBack,easing:C[c].easingBack,queue:!1});else if("transition"==D)a[D](b,C[c].durationBack,C[c].easingBack);else a[D](b,{duration:C[c].durationBack,easing:C[c].easingBack,queue:!1})}function Wa(a){if(!U){var c=a.data("index");if(void 0!=c){"velocity"==D?a.find("*").velocity("stop",
!0):a.find("*").filter(":animated").stop(!0,!1);var b=k[c];b.hovered=!1;var d="animate"==D?1:100;"function"==typeof g.fnThumbnailHoverOut&&g.fnThumbnailHoverOut(a,b,s());try{for(j=0;j<C.length;j++)switch(C[j].name){case "imageSplit4":var e=a.find(".imgContainer");y(e.eq(0),j,{translateX:0,translateY:0},b,"imgContainer0");y(e.eq(1),j,{translateX:0,translateY:0},b,"imgContainer1");y(e.eq(2),j,{translateX:0,translateY:0},b,"imgContainer2");y(e.eq(3),j,{translateX:0,translateY:0},b,"imgContainer3");break;
case "imageSplitVert":e=a.find(".imgContainer");y(e.eq(0),j,{translateX:0},b,"imgContainer0");y(e.eq(1),j,{translateX:0},b,"imgContainer1");break;case "labelSplit4":e=a.find(".labelImage");y(e.eq(0),j,{translateX:0,translateY:0},b,"labelImage0");y(e.eq(1),j,{translateX:0,translateY:0},b,"labelImage1");y(e.eq(2),j,{translateX:0,translateY:0},b,"labelImage2");y(e.eq(3),j,{translateX:0,translateY:0},b,"labelImage3");break;case "labelSplitVert":e=a.find(".labelImage");y(e.eq(0),j,{translateX:0},b,"labelImage0");
y(e.eq(1),j,{translateX:0},b,"labelImage1");break;case "labelAppearSplit4":e=a.find(".labelImage");y(e.eq(0),j,{translateX:-b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"labelImage0");y(e.eq(1),j,{translateX:b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"labelImage1");y(e.eq(2),j,{translateX:b.thumbFullWidth/2,translateY:b.thumbFullHeight/2},b,"labelImage2");y(e.eq(3),j,{translateX:-b.thumbFullWidth/2,translateY:b.thumbFullHeight/2},b,"labelImage3");break;case "labelAppearSplitVert":e=
a.find(".labelImage");y(e.eq(0),j,{translateX:-b.thumbFullWidth/2},b,"labelImage0");y(e.eq(1),j,{translateX:b.thumbFullWidth/2},b,"labelImage1");break;case "scaleLabelOverImage":y(a.find(".labelImage"),j,{opacity:0,scale:50/d},b,"labelImage0");y(a.find(".imgContainer"),j,{scale:100/d},b,"imgContainer0");break;case "overScale":case "overScaleOutside":y(a.find(".labelImage"),j,{opacity:0,scale:150/d},b,"labelImage0");y(a.find(".imgContainer"),j,{opacity:1,scale:100/d},b,"imgContainer0");break;case "imageInvisible":y(a.find(".imgContainer"),
j,{opacity:1});break;case "rotateCornerBL":var f="transition"==D?{rotate:"-90deg"}:{rotateZ:"-90"};y(a.find(".labelImage"),j,f,b,"labelImage0");f="transition"==D?{rotate:"0deg"}:{rotateZ:"0"};y(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "rotateCornerBR":f="transition"==D?{rotate:"90deg"}:{rotateZ:"90"};y(a.find(".labelImage"),j,f,b,"labelImage0");f="transition"==D?{rotate:"0deg"}:{rotateZ:"0"};y(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "imageRotateCornerBL":case "imageRotateCornerBR":f=
"transition"==D?{rotate:"0deg"}:{rotateZ:"0"};y(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "slideUp":y(a.find(".imgContainer"),j,{translateY:0},b,"imgContainer0");y(a.find(".labelImage"),j,{translateY:b.thumbFullHeight},b,"labelImage0");break;case "slideDown":y(a.find(".imgContainer"),j,{translateY:0},b,"imgContainer0");y(a.find(".labelImage"),j,{translateY:-b.thumbFullHeight},b,"labelImage0");break;case "slideRight":y(a.find(".imgContainer"),j,{translateX:0},b,"imgContainer0");y(a.find(".labelImage"),
j,{translateX:-b.thumbFullWidth},b,"labelImage0");break;case "slideLeft":y(a.find(".imgContainer"),j,{translateX:0},b,"imgContainer0");y(a.find(".labelImage"),j,{translateX:b.thumbFullWidth},b,"labelImage0");break;case "imageSlideUp":case "imageSlideDown":y(a.find(".imgContainer"),j,{translateY:0},b,"imgContainer0");break;case "imageSlideLeft":case "imageSlideRight":y(a.find(".imgContainer"),j,{translateX:0},b,"imgContainer0");break;case "labelAppear":case "labelAppear75":if("velocity"==D)y(a.find(".labelImage"),
j,{backgroundColorRed:G.oldLabelRed,backgroundColorGreen:G.oldLabelGreen,backgroundColorBlue:G.oldLabelBlue,backgroundColorAlpha:0});else{var h="rgb("+G.oldLabelRed+","+G.oldLabelGreen+","+G.oldLabelBlue+",0)";y(a.find(".labelImage"),j,{backgroundColor:h})}y(a.find(".labelImageTitle"),j,{opacity:0});y(a.find(".labelFolderTitle"),j,{opacity:0});y(a.find(".labelDescription"),j,{opacity:0});break;case "descriptionAppear":y(a.find(".labelDescription"),j,{opacity:0});break;case "labelSlideDown":y(a.find(".labelImage"),
j,{translateY:-b.thumbFullHeight},b,"labelImage0");break;case "labelSlideUpTop":case "labelSlideUp":y(a.find(".labelImage"),j,{translateY:b.thumbFullHeight},b,"labelImage0");break;case "descriptionSlideUp":var m="album"==b.kind?a.find(".labelFolderTitle").outerHeight(!0):a.find(".labelImageTitle").outerHeight(!0);y(a.find(".labelImage"),j,{translateY:0,height:m},b,"labelImage0");break;case "labelOpacity50":y(a.find(".labelImage"),j,{opacity:G.oldLabelOpacity});break;case "imageOpacity50":y(a.find(".imgContainer"),
j,{opacity:1});break;case "borderLighter":case "borderDarker":if("velocity"==D){var p=G.oldBorderColor,x=p.substring(p.indexOf("(")+1,p.lastIndexOf(")")).split(/,\s*/);y(a,j,{borderColorRed:x[0],borderColorGreen:x[1],borderColorBlue:x[2],colorAlpha:x[3]})}else y(a,j,{borderColor:G.oldBorderColor});break;case "imageScale150":case "imageScale150Outside":y(a.find("img"),j,{scale:100/d},b,"img0");break;case "imageScaleIn80":y(a.find("img"),j,{scale:120/d},b,"img0");break;case "imageSlide2Up":case "imageSlide2Down":case "imageSlide2Left":case "imageSlide2Right":case "imageSlide2UpRight":case "imageSlide2UpLeft":case "imageSlide2DownRight":case "imageSlide2DownLeft":case "imageSlide2Random":switch(b.customData.hoverEffectRDir){case "imageSlide2Up":var u=
b.thumbFullHeight<1.4*b.imgHeight?(1.4*b.imgHeight-b.thumbFullHeight)/2:0;y(a.find("img"),j,{translateY:u},b,"img0");break;case "imageSlide2Down":u=b.thumbFullHeight<1.4*b.imgHeight?(1.4*b.imgHeight-b.thumbFullHeight)/2:0;y(a.find("img"),j,{translateY:-u},b,"img0");break;case "imageSlide2Left":y(a.find("img"),j,{translateX:.1*b.thumbFullWidth},b,"img0");break;case "imageSlide2Right":y(a.find("img"),j,{translateX:.1*-b.thumbFullWidth},b,"img0");break;case "imageSlide2UpRight":y(a.find("img"),j,{translateY:.05*
b.thumbFullHeight,translateX:.05*-b.thumbFullWidth},b,"img0");break;case "imageSlide2UpLeft":y(a.find("img"),j,{translateY:.05*b.thumbFullHeight,translateX:.05*b.thumbFullWidth},b,"img0");break;case "imageSlide2DownRight":y(a.find("img"),j,{translateY:.05*-b.thumbFullHeight,translateX:.05*-b.thumbFullWidth},b,"img0");break;case "imageSlide2DownLeft":y(a.find("img"),j,{translateY:.05*-b.thumbFullHeight,translateX:.05*b.thumbFullWidth},b,"img0")}break;case "scale120":y(a,j,{scale:100/d},b,"base");break;
case "imageExplode":for(var t=a.find(".imgContainer"),c=Math.sqrt(t.length),r=0,f=0;f<c;f++)for(h=0;h<c;h++)y(t.eq(r++),j,{top:0,left:0,scale:1,opacity:1});break;case "imageFlipHorizontal":y(a.find(".imgContainer"),j,{rotateX:0},b,"imgContainer0");y(a.find(".labelImage"),j,{rotateX:180},b,"labelImage0");break;case "imageFlipVertical":y(a.find(".imgContainer"),j,{rotateY:0},b,"imgContainer0"),y(a.find(".labelImage"),j,{rotateY:180},b,"labelImage0")}}catch(v){T("error on hoverOut "+v.message)}}}}function qa(a){if("fancybox"==
g.viewer){var c=[],b=0;c[b]={};c[b].href=k[a].responsiveURL();c[b].title=k[a].title;for(var d=k.length,e=a+1;e<d;e++)"image"==k[e].kind&&k[e].albumID==k[a].albumID&&""==k[e].destinationURL&&(b++,c[b]={},c[b].href=k[e].responsiveURL(),c[b].title=k[e].title);for(e=0;e<a;e++)"image"==k[e].kind&&k[e].albumID==k[a].albumID&&""==k[e].destinationURL&&(b++,c[b]={},c[b].href=k[e].responsiveURL(),c[b].title=k[e].title);jQuery.fancybox(c,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}else U?
Qa(a,""):Vb(a)}function Vb(a){jQuery("body").css({overflow:"hidden"});e.conVwCon=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body");e.conVwCon.addClass("nanogallery_theme_"+g.theme);Wb(e.conVwCon);e.conVw=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(e.conVwCon);var c;c=""+('<img class="image" src="'+k[a].responsiveURL()+'" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">');
c+='<img class="image" src="'+k[a].responsiveURL()+'" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';c+='<img class="image" src="'+k[a].responsiveURL()+'" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';e.vwContent=jQuery('<div class="content">'+c+'<div class="contentAreaPrevious"></div><div class="contentAreaNext"></div></div>').appendTo(e.conVw);
e.vwImgP=e.conVw.find(".image").eq(0);e.vwImgC=e.conVw.find(".image").eq(1);e.vwImgN=e.conVw.find(".image").eq(2);"function"==V(jQuery().elevateZoom)&&(e.vwImgP.elevateZoom({zoomType:"lens",lensShape:"round",lensSize:200,onZoomedImageLoaded:function(){J("",".zoomContainer")}}),e.vwImgN.elevateZoom({zoomType:"lens",lensShape:"round",lensSize:200,onZoomedImageLoaded:function(){J("",".zoomContainer")}}),e.vwImgC.elevateZoom({zoomType:"lens",lensShape:"round",lensSize:200,onZoomedImageLoaded:function(){J("",
".zoomContainer")}}));e.conVwCon.find("*").attr("draggable","false").attr("unselectable","on");jQuery('<div class="closeButtonFloating"></div>').appendTo(e.conVw).on("click",function(a){a.stopPropagation();400>(new Date).getTime()-la||ua(!0)});c="";Db&&(c='<div class="ngbt setFullscreenButton fullscreenButton"></div>');var b="";"function"==typeof g.fnViewerInfo&&(b='<div class="ngbt infoButton"></div>');e.conVwTb=jQuery('<div class="toolbarContainer" style="visibility:hidden;"><div class="toolbar"><div class="previousButton ngbt"></div><div class="pageCounter"></div><div class="nextButton ngbt"></div><div class="playButton playPauseButton ngbt"></div>'+
c+b+'<div class="closeButton ngbt"></div><div class="label"><div class="title" itemprop="name"></div><div class="description" itemprop="description"></div></div></div>').appendTo(e.conVw);g.viewerDisplayLogo&&(e.vwLogo=jQuery('<div class="nanoLogo"></div>').appendTo(e.conVw));J("",e.conVw);za(e.vwImgC);la=(new Date).getTime();e.conVwTb.find(".closeButton").on("click",function(a){a.stopPropagation();400>(new Date).getTime()-la||ua(!0)});e.conVwTb.find(".playPauseButton").on("click",function(a){a.stopPropagation();
Ta()});e.conVwTb.find(".fullscreenButton").on("click",function(a){a.stopPropagation();Eb()});e.conVwTb.find(".infoButton").on("click",function(a){a.stopPropagation();"function"==typeof g.fnViewerInfo&&g.fnViewerInfo(k[Aa],s())});e.conVwTb.find(".nextButton").on("click",function(a){a.stopPropagation();va()});e.conVwTb.find(".previousButton").on("click",function(a){a.stopPropagation();wa()});e.vwContent.find(".contentAreaNext").on("click",function(a){a.stopPropagation();va()});e.vwContent.find(".contentAreaPrevious").on("click",
function(a){a.stopPropagation();wa()});e.vwContent.on("click",function(a){400>(new Date).getTime()-la||(a.stopPropagation(),ua(!0))});Qa(a,"");g.slideshowAutoStart&&(ha=!0,e.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),sa(),ta=window.setInterval(function(){sa()},Ia))}function Xb(a){function c(a){var b={};a.targetTouches?(b.x=a.targetTouches[0].clientX,b.y=a.targetTouches[0].clientY):(b.x=a.clientX,b.y=a.clientY);return b}function b(){if(f){var a=k.x-h.x;z(e.vwContent.find(".imgCurrent")[0],
m-a);f=!1}}function d(a){window.navigator.msPointerEnabled?g.removeEventListener("MSPointerDown",a.handleGestureStart,!0):(g.removeEventListener("touchstart",a.handleGestureStart,!0),g.removeEventListener("mousedown",a.handleGestureStart,!0))}var g=a,f=!1,k=null,h=null,m=0;this.handleGestureStart=function(a){U&&(a.preventDefault(),a.touches&&1<a.touches.length||(k=c(a),window.navigator.msPointerEnabled?(g.addEventListener("MSPointerMove",this.handleGestureMove,!0),g.addEventListener("MSPointerUp",
this.handleGestureEnd,!0)):(g.addEventListener("touchmove",this.handleGestureMove,!0),g.addEventListener("touchend",this.handleGestureEnd,!0),g.addEventListener("touchcancel",this.handleGestureEnd,!0),g.addEventListener("mousemove",this.handleGestureMove,!0),g.addEventListener("mouseup",this.handleGestureEnd,!0))))}.bind(this);this.handleGestureMove=function(a){a.preventDefault();h=c(a);f||(f=!0,window.requestAnimFrame(b))}.bind(this);this.handleGestureEnd=function(a){a.preventDefault();a.touches&&
0<a.touches.length||(f=!1,window.navigator.msPointerEnabled?(g.removeEventListener("MSPointerMove",this.handleGestureMove,!0),g.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(g.removeEventListener("touchmove",this.handleGestureMove,!0),g.removeEventListener("touchend",this.handleGestureEnd,!0),g.removeEventListener("touchcancel",this.handleGestureEnd,!0),g.removeEventListener("mousemove",this.handleGestureMove,!0),g.removeEventListener("mouseup",this.handleGestureEnd,!0)),null==h?(m=
0,k=null):(a=k.x-h.x,m-=a,-50>a&&(d(this),wa()),50<a&&(d(this),va()),m=0,h=k=null,50>Math.abs(a)&&z(e.vwContent.find(".imgCurrent")[0],m)))}.bind(this);window.navigator.msPointerEnabled?g.addEventListener("MSPointerDown",this.handleGestureStart,!0):g.addEventListener("touchstart",this.handleGestureStart,!0)}function Eb(){Ra?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen&&
document.mozCancelFullScreen(),Ra=!1,e.conVwTb.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):(e.conVwCon[0].requestFullscreen?e.conVwCon[0].requestFullscreen():e.conVwCon[0].webkitRequestFullscreen?e.conVwCon[0].webkitRequestFullscreen():e.conVwCon[0].msRequestFullscreen?e.conVwCon[0].msRequestFullscreen():e.conVwCon[0].mozRequestFullScreen&&e.conVwCon[0].mozRequestFullScreen(),Ra=!0,e.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"))}
function Ta(){ha?(window.clearInterval(ta),ha=!1,e.conVwTb.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(ha=!0,e.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),sa(),ta=window.setInterval(function(){sa()},Ia))}function va(){ha&&(window.clearInterval(ta),ta=window.setInterval(function(){sa()},Ia));sa()}function sa(){if(!(Ba||300>(new Date).getTime()-la)){var a=ib(Aa);Qa(a,"nextImage")}}function wa(){if(!(Ba||300>(new Date).getTime()-
la)){ha&&Ta();var a=jb(Aa);Qa(a,"previousImage")}}function Qa(a,c){la=(new Date).getTime();Ba=!0;if(g.locationHash){var b="nanogallery/"+aa+"/"+k[a].albumID+"/"+k[a].GetID();"#"+b!=location.hash?(oa="#"+b,top.location.hash=b):oa=top.location.hash}Yb(a);za(e.vwImgC);Aa=a;b="-"+1*jQuery(window).width()+"px";b=!0;"fade"==g.imageTransition&&(b=!1);var d="";switch(c){case "nextImage":b?(b="-"+1*jQuery(window).width()+"px",d={left:b,opacity:0}):d={opacity:0};e.vwContent.find("*").stop(!0,!0);e.vwImgN.css({opacity:0,
left:"0",visibility:"visible"});"velocity"==D?(e.vwImgC.velocity(d,500),e.vwImgN.velocity({opacity:1},300),setTimeout(function(){Ca(a,c)},500)):jQuery.when(e.vwImgC.animate(d,500),e.vwImgN.animate({opacity:1},300)).done(function(){Ca(a,c)});break;case "previousImage":b?(b=1*jQuery(window).width()+"px",d={left:b,opacity:0}):d={opacity:0};e.vwContent.find("*").stop(!0,!0);e.vwImgP.css({opacity:0,left:"0",visibility:"visible"});"velocity"==D?(e.vwImgC.velocity(d,500),e.vwImgP.velocity({opacity:1},300),
setTimeout(function(){Ca(a,c)},500)):jQuery.when(e.vwImgC.animate(d,500),e.vwImgP.animate({opacity:1},300)).done(function(){Ca(a,c)});break;default:e.vwContent.find("*").stop(!0,!0),e.vwImgC.css({opacity:0,left:"0",visibility:"visible"}).attr("src",ca).attr("src",k[a].responsiveURL()),"function"==V(jQuery().elevateZoom)&&e.vwImgC.attr("data-zoom-image",k[a].responsiveURL()),jQuery.when(e.vwImgC.animate({opacity:1},300)).done(function(){Ca(a,c)})}U=!0}function Ca(a,c){e.vwImgC.off("click");e.vwImgC.removeClass("imgCurrent");
var b=e.vwImgC;switch(c){case "nextImage":e.vwImgC=e.vwImgN;e.vwImgN=b;break;case "previousImage":e.vwImgC=e.vwImgP,e.vwImgP=b}e.vwImgC.addClass("imgCurrent");new Xb(e.vwImgC[0]);e.vwImgN.css({opacity:0,left:"0",visibility:"hidden"}).attr("src",ca).attr("src",k[ib(a)].responsiveURL());e.vwImgP.css({opacity:0,left:"0",visibility:"hidden"}).attr("src",ca).attr("src",k[jb(a)].responsiveURL());e.vwImgC.on("click",function(a){a.stopPropagation();a.pageX<jQuery(window).width()/2?wa():va()});"function"==
V(jQuery().elevateZoom)&&(e.vwImgN.attr("data-zoom-image",k[ib(a)].responsiveURL()),e.vwImgP.attr("data-zoom-image",k[jb(a)].responsiveURL()),jQuery(".zoomContainer").remove(),b=e.vwImgC.data("elevateZoom"),b.imageSrc=e.vwImgC.attr("src"),b.zoomImage=e.vwImgC.attr("src"),b.fetch(b.imageSrc));za(e.vwImgC);Ba=!1}function ib(a){for(var c=k.length,b=-1,d=a+1;d<c;d++)if(k[d].albumID==k[a].albumID&&"image"==k[d].kind){b=d;break}if(-1==b)for(d=0;d<=a;d++)if(k[d].albumID==k[a].albumID&&"image"==k[d].kind){b=
d;break}return b}function jb(a){for(var c=-1,b=a-1;0<=b;b--)if(k[b].albumID==k[a].albumID&&"image"==k[b].kind){c=b;break}if(-1==c)for(b=k.length-1;b>=a;b--)if(k[b].albumID==k[a].albumID&&"image"==k[b].kind){c=b;break}return c}function Yb(a){void 0!==k[a].title?e.conVwTb.find(".title").html(k[a].title):e.conVwTb.find(".title").html("");void 0!==k[a].description?e.conVwTb.find(".description").html(k[a].description):e.conVwTb.find(".description").html("");for(var c=0,b=k.length,d=0;d<b;d++)k[d].albumID==
k[a].albumID&&"image"==k[d].kind&&c++;0<c&&e.conVwTb.find(".pageCounter").html(k[a].imageNumber+1+"/"+c)}function ua(a){Ba&&e.vwContent.find("*").stop(!0,!0);U&&(window.clearInterval(kb),ha&&(window.clearInterval(ta),ha=!1),Ra&&Eb(),U=!1,e.conVwCon.off().remove(),e.base.hasClass("fullpage")||jQuery("body").css({overflow:"inherit"}),-1!=La?S(La,!0):(g.locationHash&&a&&(a="nanogallery/"+aa+"/"+k[Aa].albumID,oa="#"+a,top.location.hash=a),Ea()))}function za(a){window.clearInterval(kb);kb=window.setInterval(function(){za(e.vwImgC)},
200);var c=e.conVw.width(),b=e.conVw.height();e.conVw.css({visibility:"visible",position:"fixed"});40>=e.vwImgC.height()?e.conVwTb.css({visibility:"hidden"}):e.conVwTb.css({visibility:"visible"});var d=Math.abs(e.vwContent.outerHeight(!0)-e.vwContent.height()),f=Math.abs(e.vwContent.outerWidth(!0)-e.vwContent.width()),k=a.outerHeight(!1)-a.innerHeight(),h=Math.abs(a.outerWidth(!1)-a.innerWidth()),m=Math.abs(a.innerHeight()-a.height());a=Math.abs(a.innerWidth()-a.width());k+=m;h+=a;m=0;"innerImage"!=
g.viewerToolbar.style&&(m=e.conVwTb.find(".toolbar").outerHeight(!0));b=b-m-d;c-=f;switch(g.viewerToolbar.position){case "top":e.vwContent.css({height:b,width:c,top:m});f=0;"innerImage"==g.viewerToolbar.style&&(f=Math.abs(e.vwImgC.outerHeight(!0)-e.vwImgC.height())/2+5);"stuckImage"==g.viewerToolbar.style&&(f=Math.abs(e.vwImgC.outerHeight(!0)-e.vwImgC.height())/2-k);e.conVwTb.css({top:f});break;default:e.vwContent.css({height:b,width:c}),f=0,"innerImage"==g.viewerToolbar.style&&(f=Math.abs(e.vwImgC.outerHeight(!0)-
e.vwImgC.height())/2+5),"stuckImage"==g.viewerToolbar.style&&(f=Math.abs(e.vwImgC.outerHeight(!0)-e.vwImgC.height())/2-k),e.conVwTb.css({bottom:f})}"innerImage"==g.viewerToolbar.style&&e.conVwTb.find(".toolbar").css({"max-width":e.vwImgC.width()});"fullWidth"==g.viewerToolbar.style&&e.conVwTb.find(".toolbar").css({width:c});e.conVwTb.css({height:e.conVwTb.find(".toolbar").outerHeight(!0)});e.vwContent.children("img").css({"max-width":c-h,"max-height":b-k})}function Zb(a){var c=null;switch(V(g.colorScheme)){case "object":c=
Fb;jQuery.extend(!0,c,g.colorScheme);g_colorSchemeLabel="nanogallery_colorscheme_custom_"+aa;break;case "string":switch(g.colorScheme){case "none":return;case "light":c=$b;g_colorSchemeLabel="nanogallery_colorscheme_light";break;case "lightBackground":c=ac;g_colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case "darkRed":c=bc;g_colorSchemeLabel="nanogallery_colorscheme_darkred";break;case "darkGreen":c=cc;g_colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case "darkBlue":c=
dc;g_colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case "darkOrange":c=ec;g_colorSchemeLabel="nanogallery_colorscheme_darkorange";break;default:c=Fb,g_colorSchemeLabel="nanogallery_colorscheme_default"}break;default:T("Error in colorScheme parameter.");return}var b="."+g_colorSchemeLabel+" ",d=b+".nanoGalleryNavigationbar { background:"+c.navigationbar.background+"; }\n";void 0!==c.navigationbar.border&&(d+=b+".nanoGalleryNavigationbar { border:"+c.navigationbar.border+" !important; }\n");
void 0!==c.navigationbar.borderTop&&(d+=b+".nanoGalleryNavigationbar { border-top:"+c.navigationbar.borderTop+" !important; }\n");void 0!==c.navigationbar.borderBottom&&(d+=b+".nanoGalleryNavigationbar { border-bottom:"+c.navigationbar.borderBottom+" !important; }\n");void 0!==c.navigationbar.borderRight&&(d+=b+".nanoGalleryNavigationbar { border-right:"+c.navigationbar.borderRight+" !important; }\n");void 0!==c.navigationbar.borderLeft&&(d+=b+".nanoGalleryNavigationbar { border-left:"+c.navigationbar.borderLeft+
" !important; }\n");d+=b+".nanoGalleryNavigationbar .oneFolder  { color:"+c.navigationbar.color+" !important; }\n";d+=b+".nanoGalleryNavigationbar .separator  { color:"+c.navigationbar.color+" !important; }\n";d+=b+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+c.navigationbar.color+" !important; }\n";d+=b+".nanoGalleryNavigationbar .setFullPageButton { color:"+c.navigationbar.color+" !important; }\n";d+=b+".nanoGalleryNavigationbar .removeFullPageButton { color:"+c.navigationbar.color+" !important; }\n";
d+=b+".nanoGalleryNavigationbar .oneFolder:hover { color:"+c.navigationbar.colorHover+" !important; }\n";d+=b+".nanoGalleryNavigationbar .separator:hover { color:"+c.navigationbar.colorHover+" !important; }\n";d+=b+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+c.navigationbar.colorHover+" !important; }\n";d+=b+".nanoGalleryNavigationbar .setFullPageButton:hover { color:"+c.navigationbar.colorHover+" !important; }\n";d+=b+".nanoGalleryNavigationbar .removeFullPageButton:hover { color:"+
c.navigationbar.colorHover+" !important; }\n";d+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer { background:"+c.thumbnail.background+" !important; border:"+c.thumbnail.border+" !important; }\n";d+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .imgContainer { background:"+c.thumbnail.background+" !important; }\n";d+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { background:"+c.thumbnail.labelBackground+"; }\n";d+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+
c.thumbnail.titleColor+" !important; Text-Shadow:"+c.thumbnail.titleShadow+" !important; }\n";d+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+c.thumbnail.titleColor+" !important; Text-Shadow:"+c.thumbnail.titleShadow+" !important; }\n";d+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+c.thumbnail.titleColor+" !important; Text-Shadow:"+c.thumbnail.titleShadow+" !important; }\n";d+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+
c.thumbnail.titleColor+" !important; Text-Shadow:"+c.thumbnail.titleShadow+" !important; }\n";d+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelDescription { color:"+c.thumbnail.descriptionColor+" !important; Text-Shadow:"+c.thumbnail.descriptionShadow+" !important; }\n";c="nanogallery_galleryfullpage_bgcolor_"+aa;d+="."+c+".fullpage { background:"+g.galleryFullpageBgColor+" !important; }\n";jQuery("head").append("<style>"+d+"</style>");jQuery(a).addClass(g_colorSchemeLabel);jQuery(a).addClass(c)}
function Wb(a){var c=null;switch(V(g.colorSchemeViewer)){case "object":c=Gb;jQuery.extend(!0,c,g.colorSchemeViewer);g_colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case "string":switch(g.colorSchemeViewer){case "none":return;case "light":c=fc;g_colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case "darkRed":c=gc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case "darkGreen":c=hc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case "darkBlue":c=
ic;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case "darkOrange":c=jc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;case "dark":c=kc;g_colorSchemeLabel="nanogallery_colorschemeviewer_dark";break;default:c=Gb,g_colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:T("Error in colorSchemeViewer parameter.");return}var b="."+g_colorSchemeLabel+" ",d=b+".nanoGalleryViewer { background:"+c.background+" !important; }\n",d=d+(b+".nanoGalleryViewer .content img { border:"+
c.imageBorder+" !important; box-shadow:"+c.imageBoxShadow+" !important; }\n"),d=d+(b+".nanoGalleryViewer .toolbar { background:"+c.barBackground+" !important; border:"+c.barBorder+" !important; color:"+c.barColor+" !important; }\n"),d=d+(b+".nanoGalleryViewer .toolbar .previousButton:after { color:"+c.barColor+" !important; }\n"),d=d+(b+".nanoGalleryViewer .toolbar .nextButton:after { color:"+c.barColor+" !important; }\n"),d=d+(b+".nanoGalleryViewer .toolbar .closeButton:after { color:"+c.barColor+
" !important; }\n"),d=d+(b+".nanoGalleryViewer .toolbar .label .title { color:"+c.barColor+" !important; }\n"),d=d+(b+".nanoGalleryViewer .toolbar .label .description { color:"+c.barDescriptionColor+" !important; }\n");jQuery("head").append("<style>"+d+"</style>");jQuery(a).addClass(g_colorSchemeLabel)}function T(a){e.conConsole.css({visibility:"visible",height:"60px"});e.conConsole.append("<p>nanoGALLERY: "+a+" ["+aa+"]</p>");Z(a)}function Z(a){window.console&&console.log("nanoGALLERY: "+a+" ["+
aa+"]")}function ma(){var a=jQuery(window);return{l:a.scrollLeft(),t:a.scrollTop(),w:a.width(),h:a.height()}}function Ab(a,c){var b=ma(),d=a.offset(),e=a.outerHeight(!0),g=a.outerWidth(!0);return d.top>=b.t-c&&d.top+e<=b.t+b.h+c&&d.left>=b.l-c&&d.left+g<=b.l+b.w+c?!0:!1}function cb(a,c){var b=ma(),d=jQuery(a).offset(),e=jQuery(a).outerHeight(!0);jQuery(a).outerWidth(!0);return 0==b.t&&d.top<=b.t+b.h?!0:d.top>=b.t&&d.top+e<=b.t+b.h-c?!0:!1}function J(a,c){var b=0;""==a&&(a="*");jQuery(a).each(function(){var a=
parseInt(jQuery(this).css("z-index"));b=a>b?a:b});b++;jQuery(c).css("z-index",b)}function ja(a){for(var c,b,d=a.length;d;c=Math.floor(Math.random()*d),b=a[--d],a[d]=a[c],a[c]=b);return a}var M={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},g=null,k=[],e={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conTn:null,conTnHid:null,conPagin:null,conBC:null,
conNavB:null,conNavBCon:null,conNavBFullpage:null,conVwCon:null,conVw:null,conVwTb:null,vwImgP:null,vwImgN:null,vwImgC:null,vwContent:null,vwLogo:null},Y=null,aa=null,xb=null,yb=!1,U=!1,m={displayInterval:30,g_lazyLoadTreshold:100,borderWidth:0,borderHeight:0,imgcBorderHeight:0,imgcBorderWidth:0,labelHeight:0,outerWidth:0,outerHeight:0},C=[],Fa=null,Ga=null,Ha=null,ha=!1,ta=0,Ia=3E3,Va=0,Db=!1,Ra=!1,$="",la=0,Xa=0,fa=1,O=0,Ya=-1,oa="",Ba=!1,kb=-1,Aa=-1,La=-1,G={},da=1,P=0,Na=-1,ub=!1,D="animate",
lb=0,mb=0,Ja=1E6,Ka=1E6,ca="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",ea=I(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),Cb=I(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]),Oa=I(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),ra=I(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility",
"OBackfaceVisibility"]);I(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]);I(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]);var Tb=function(){if(document.documentMode)return document.documentMode;for(var a=7;4<a;a--){var c=document.createElement("div");c.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e";if(c.getElementsByTagName("span").length)return a}}(),Ub=/Android 2\.3\.[3-7]/i.test(navigator.userAgent),Ua=!1,N={url:function(){return"https:"==
location.protocol?"https://picasaweb.google.com/data/feed/api/":"http://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:[32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 ",thumbSizeHack:!0,thumbSizeDir:"s"},E={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbSizeX2:"sq",thumbSizeDir:"height_",thumbAvailableSizes:[75,100,150,240,
500,640],thumbAvailableSizesStr:"sq t q s m z".split(" "),photoSize:"sq",photoAvailableSizes:[75,100,150,240,500,640,1024,1024,1600,2048],photoAvailableSizesStr:"sq t q s m z b l h k".split(" "),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},L={url:function(){return"https:"==location.protocol?"https://api.smugmug.com/services/api/json/1.3.0/":"http://api.smugmug.com/services/api/json/1.3.0/"},APIKey:"WJlHxuysNWKawKlzgrgDxTSirUOAYpbn",photoAvailableSizes:[100,150,400,600,800,1024,1280,1600],photoAvailableSizesStr:"TinyURL ThumbURL SmallURL MediumURL LargeURL XLargeURL X2LargeURL X3LargeURL".split(" "),
thumbSize:0,thumbSizeX2:0,photoSize:0},Fb={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},bc={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",
labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},cc={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},dc={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",
border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},ec={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},$b={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",
borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none"}},ac={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:""}},Gb={background:"#000",
imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},kc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},gc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",
barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},hc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ic={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},jc={background:"rgba(1, 1, 1, 0.75)",
imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},fc={background:"rgba(187, 187, 187, 0.75)",imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Jb=function(){function a(a,d){var e=0,e=void 0===d||null===d?c++:d;this.GetID=function(){return e};this.title=a;this.src=this.description=
"";this.height=this.width=0;this.thumbX2src=this.thumbsrc=this.author=this.kind=this.destinationURL="";this.thumbLabelHeight=this.thumbLabelWidth=this.thumbFullHeight=this.thumbFullWidth=this.thumbImgHeight=this.thumbImgWidth=0;this.thumbSizes={};this.hoverInitDone=this.hovered=!1;this.$elt=null;this.contentIsLoaded=!1;this.imageNumber=this.contentLength=0;this.eltTransform={};this.paginationLastWidth=this.paginationLastPage=this.albumID=0;this.customData={}}var c=1;a.get_nextId=function(){return c};
a.prototype={thumbImg:function(){var a={};switch(g.kind){case "":a.src=this.thumbsrc;a.width=this.thumbImgWidth;a.height=this.thumbImgHeight;break;case "flickr":for(var c=0,e=1;e<E.thumbAvailableSizes.length;e++){var f=this.thumbSizes[E.thumbSizeDir+E.photoAvailableSizesStr[e]];if(void 0!=f&&(c=e,f>P))break}a.src=this.thumbSizes["url_"+E.photoAvailableSizesStr[c]];a.width=parseInt(this.thumbSizes["width_"+E.photoAvailableSizesStr[c]]);a.height=parseInt(this.thumbSizes["height_"+E.photoAvailableSizesStr[c]]);
break;case "smugmug":a.src=this.thumbsrc;a.width=this.thumbImgWidth;a.height=this.thumbImgHeight;break;default:a.src=this.thumbsrc,a.width=this.thumbImgWidth,a.height=this.thumbImgHeight}return a},responsiveURL:function(){var a="";switch(g.kind){case "":a=this.src;break;case "flickr":a=this.src;break;case "smugmug":a=this.src;break;default:a=this.src}return a}};return a}();this.Initiate=function(a,c){g=c;e.base=jQuery(a);aa=e.base.attr("id");"object"==V(jQuery.velocity)?D="velocity":jQuery.support.transition&&
(D="transition");jQuery(a).addClass("nanogallery_theme_"+g.theme);Zb(a);if(g.thumbnailLabel.hideIcons){var b=".nanogallery_thumbnails_icons_off ",b=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n"+(b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n");jQuery("head").append("<style>"+b+"</style>");jQuery(a).addClass("nanogallery_thumbnails_icons_off")}g.galleryToolbarHideIcons&&
(b=".nanogallery_breadcrumb_icons_off ",b=b+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n"+(b+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n"),jQuery("head").append("<style>"+b+"</style>"),jQuery(a).addClass("nanogallery_breadcrumb_icons_off"));"right"==g.thumbnailLabel.align&&(b=".nanogallery_thumbnails_label_align_right .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n",jQuery("head").append("<style>"+
b+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_right"));"center"==g.thumbnailLabel.align&&(b=".nanogallery_thumbnails_label_align_center .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n",jQuery("head").append("<style>"+b+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_center"));"left"==g.thumbnailLabel.align&&(b=".nanogallery_thumbnails_label_align_left .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n",
jQuery("head").append("<style>"+b+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_left"));e.conNavBCon=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(a);e.conNavBCon.hide();e.conNavB=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(e.conNavBCon);e.conBC=jQuery('<div class="nanoGalleryBreadcrumb"></div>').appendTo(e.conNavB);e.conLoadingB=jQuery('<div class="nanoGalleryLBar"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(a);
e.conTnParent=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(a);e.conTn=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(e.conTnParent);e.conConsole=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(a);switch(g.thumbnailAlignment){case "left":e.conTnParent.css({"text-align":"left"});e.conNavBCon.css({"margin-left":0});break;case "right":e.conTnParent.css({"text-align":"right"}),e.conNavBCon.css({"margin-right":0})}jQuery("head").append("<style>.nanogalleryHideElement {position: absolute !important; top: -9999px !important; left: -9999px !important;}</style>");
b=jQuery('<div class="nanogalleryHideElement '+jQuery(a).attr("class")+'"></div>').appendTo("body");b=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(b);e.conTnHid=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(b);h();0<O&&(e.conPagin=jQuery('<div class="nanoGalleryPagination"></div>').appendTo(e.conTnParent));new R(e.conTn[0]);na();document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?Db=!0:Z("Your browser does not support the fullscreen API. Fullscreen button will not be displayed.");
ba();"loadData"!=g.lazyBuild&&H();var d=0;jQuery(window).resize(function(){d&&clearTimeout(d);U?za(e.vwImgC):d=setTimeout(function(){Da()},50)});jQuery(window).on("scroll",function(){lb&&clearTimeout(lb);lb=setTimeout(function(){"loadData"==g.lazyBuild&&cb(e.conTnParent,g.lazyBuildTreshold)&&(g.lazyBuild="none",H());-1!=Na&&cb(e.conTnParent,g.lazyBuildTreshold)&&db(Na,ub);eb()},200)});e.base.on("scroll",function(){mb&&clearTimeout(mb);mb=setTimeout(function(){eb()},200)})};window.requestAnimFrame=
function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();var V=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},Pa=function(a,c,b){a=a.replace(/^\s*|\s*$/,"");a=a.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");c=Math.round(256*c)*(b?-1:1);var d=a.match(RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$",
"i")),e=d&&null!=d[4]?d[4]:null;a=d?[d[1],d[2],d[3]]:a.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(a,b,c,d){return parseInt(b,16)+","+parseInt(c,16)+","+parseInt(d,16)}).split(/,/);return d?"rgb"+(null!==e?"a":"")+"("+Math[b?"max":"min"](parseInt(a[0],10)+c,b?0:255)+", "+Math[b?"max":"min"](parseInt(a[1],10)+c,b?0:255)+", "+Math[b?"max":"min"](parseInt(a[2],10)+c,b?0:255)+(null!==e?", "+e:"")+")":["#",nb(Math[b?"max":"min"](parseInt(a[0],10)+c,b?0:255).toString(16),
2),nb(Math[b?"max":"min"](parseInt(a[1],10)+c,b?0:255).toString(16),2),nb(Math[b?"max":"min"](parseInt(a[2],10)+c,b?0:255).toString(16),2)].join("")},nb=function(a,c){for(a+="";a.length<c;)a="0"+a;return a}}
(function(s,I){function H(f,h,u){var p=K[h.type]||{};if(null==f)return u||!h.def?null:h.def;f=p.floor?~~f:parseFloat(f);return isNaN(f)?h.def:p.mod?(f+p.mod)%p.mod:0>f?0:p.max<f?p.max:f}function z(f){var x=h(),u=x._rgba=[];f=f.toLowerCase();t(l,function(h,t){var l,s=t.re.exec(f);l=s&&t.parse(s);s=t.space||"rgba";if(l)return l=x[s](l),x[r[s].cache]=l[r[s].cache],u=x._rgba=l._rgba,!1});return u.length?("0,0,0,0"===u.join()&&s.extend(u,ba.transparent),x):ba[f]}function R(f,h,u){u=(u+1)%1;return 1>6*
u?f+(h-f)*u*6:1>2*u?h:2>3*u?f+(h-f)*(2/3-u)*6:f}var F=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(f){return[f[1],f[2],f[3],f[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(f){return[2.55*f[1],2.55*f[2],2.55*f[3],f[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(f){return[parseInt(f[1],16),parseInt(f[2],
16),parseInt(f[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(f){return[f[1],f[2]/100,f[3]/100,f[4]]}}],h=s.Color=function(f,h,u,p){return new s.Color.fn.parse(f,h,u,p)},r={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},
hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},K={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},na=h.support={},W=s("<p>")[0],ba,t=s.each;W.style.cssText="background-color:rgba(1,1,1,.5)";na.rgba=-1<W.style.backgroundColor.indexOf("rgba");t(r,function(f,h){h.cache="_"+f;h.props.alpha={idx:3,type:"percent",def:1}});h.fn=s.extend(h.prototype,{parse:function(f,x,u,p){if(f===I)return this._rgba=[null,null,null,null],
this;if(f.jquery||f.nodeType)f=s(f).css(x),x=I;var l=this,K=s.type(f),F=this._rgba=[];x!==I&&(f=[f,x,u,p],K="array");if("string"===K)return this.parse(z(f)||ba._default);if("array"===K)return t(r.rgba.props,function(h,p){F[p.idx]=H(f[p.idx],p)}),this;if("object"===K)return f instanceof h?t(r,function(h,p){f[p.cache]&&(l[p.cache]=f[p.cache].slice())}):t(r,function(h,p){var u=p.cache;t(p.props,function(h,t){if(!l[u]&&p.to){if("alpha"===h||null==f[h])return;l[u]=p.to(l._rgba)}l[u][t.idx]=H(f[h],t,!0)});
l[u]&&0>s.inArray(null,l[u].slice(0,3))&&(l[u][3]=1,p.from&&(l._rgba=p.from(l[u])))}),this},is:function(f){var x=h(f),u=!0,p=this;t(r,function(f,h){var l,r=x[h.cache];r&&(l=p[h.cache]||h.to&&h.to(p._rgba)||[],t(h.props,function(f,h){if(null!=r[h.idx])return u=r[h.idx]===l[h.idx]}));return u});return u},_space:function(){var f=[],h=this;t(r,function(u,p){h[p.cache]&&f.push(u)});return f.pop()},transition:function(f,x){var u=h(f),p=u._space(),l=r[p],s=0===this.alpha()?h("transparent"):this,z=s[l.cache]||
l.to(s._rgba),F=z.slice(),u=u[l.cache];t(l.props,function(f,h){var p=h.idx,t=z[p],l=u[p],r=K[h.type]||{};null!==l&&(null===t?F[p]=l:(r.mod&&(l-t>r.mod/2?t+=r.mod:t-l>r.mod/2&&(t-=r.mod)),F[p]=H((l-t)*x+t,h)))});return this[p](F)},blend:function(f){if(1===this._rgba[3])return this;var t=this._rgba.slice(),u=t.pop(),p=h(f)._rgba;return h(s.map(t,function(f,h){return(1-u)*p[h]+u*f}))},toRgbaString:function(){var f="rgba(",h=s.map(this._rgba,function(f,h){return null==f?2<h?1:0:f});1===h[3]&&(h.pop(),
f="rgb(");return f+h.join()+")"},toHslaString:function(){var f="hsla(",h=s.map(this.hsla(),function(f,h){null==f&&(f=2<h?1:0);h&&3>h&&(f=Math.round(100*f)+"%");return f});1===h[3]&&(h.pop(),f="hsl(");return f+h.join()+")"},toHexString:function(f){var h=this._rgba.slice(),t=h.pop();f&&h.push(~~(255*t));return"#"+s.map(h,function(f){f=(f||0).toString(16);return 1===f.length?"0"+f:f}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});h.fn.parse.prototype=h.fn;
r.hsla.to=function(f){if(null==f[0]||null==f[1]||null==f[2])return[null,null,null,f[3]];var h=f[0]/255,t=f[1]/255,p=f[2]/255;f=f[3];var l=Math.max(h,t,p),r=Math.min(h,t,p),s=l-r,K=l+r,z=.5*K,K=0===s?0:.5>=z?s/K:s/(2-K);return[Math.round(r===l?0:h===l?60*(t-p)/s+360:t===l?60*(p-h)/s+120:60*(h-t)/s+240)%360,K,z,null==f?1:f]};r.hsla.from=function(f){if(null==f[0]||null==f[1]||null==f[2])return[null,null,null,f[3]];var h=f[0]/360,t=f[1],p=f[2];f=f[3];t=.5>=p?p*(1+t):p+t-p*t;p=2*p-t;return[Math.round(255*
R(p,t,h+1/3)),Math.round(255*R(p,t,h)),Math.round(255*R(p,t,h-1/3)),f]};t(r,function(f,l){var u=l.props,p=l.cache,r=l.to,K=l.from;h.fn[f]=function(f){r&&!this[p]&&(this[p]=r(this._rgba));if(f===I)return this[p].slice();var l,x=s.type(f),z="array"===x||"object"===x?f:arguments,F=this[p].slice();t(u,function(f,h){var t=z["object"===x?f:h.idx];null==t&&(t=F[h.idx]);F[h.idx]=H(t,h)});return K?(l=h(K(F)),l[p]=F,l):h(F)};t(u,function(t,p){h.fn[t]||(h.fn[t]=function(h){var l=s.type(h),u="alpha"===t?this._hsla?
"hsla":"rgba":f,r=this[u](),x=r[p.idx];if("undefined"===l)return x;"function"===l&&(h=h.call(this,x),l=s.type(h));if(null==h&&p.empty)return this;"string"===l&&(l=F.exec(h))&&(h=x+parseFloat(l[2])*("+"===l[1]?1:-1));r[p.idx]=h;return this[u](r)})})});h.hook=function(f){f=f.split(" ");t(f,function(f,t){s.cssHooks[t]={set:function(f,l){var r,x="";if("transparent"!==l&&("string"!==s.type(l)||(r=z(l)))){l=h(r||l);if(!na.rgba&&1!==l._rgba[3]){for(r="backgroundColor"===t?f.parentNode:f;(""===x||"transparent"===
x)&&r&&r.style;)try{x=s.css(r,"backgroundColor"),r=r.parentNode}catch(K){}l=l.blend(x&&"transparent"!==x?x:"_default")}l=l.toRgbaString()}try{f.style[t]=l}catch(F){}}};s.fx.step[t]=function(f){f.colorInit||(f.start=h(f.elem,t),f.end=h(f.end),f.colorInit=!0);s.cssHooks[t].set(f.elem,f.start.transition(f.end,f.pos))}})};h.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");s.cssHooks.borderColor=
{expand:function(f){var h={};t(["Top","Right","Bottom","Left"],function(t,l){h["border"+l+"Color"]=f});return h}};ba=s.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
(function(){function s(){}function I(l,h){for(var r=l.length;r--;)if(l[r].listener===h)return r;return-1}function H(l){return function(){return this[l].apply(this,arguments)}}var z=s.prototype,R=this,F=R.ngEventEmitter;z.getListeners=function(l){var h=this._getEvents(),r,s;if("object"===typeof l)for(s in r={},h)h.hasOwnProperty(s)&&l.test(s)&&(r[s]=h[s]);else r=h[l]||(h[l]=[]);return r};z.flattenListeners=function(l){var h=[],r;for(r=0;r<l.length;r+=1)h.push(l[r].listener);return h};z.getListenersAsObject=
function(l){var h=this.getListeners(l),r;h instanceof Array&&(r={},r[l]=h);return r||h};z.addListener=function(l,h){var r=this.getListenersAsObject(l),s="object"===typeof h,z;for(z in r)r.hasOwnProperty(z)&&-1===I(r[z],h)&&r[z].push(s?h:{listener:h,once:!1});return this};z.on=H("addListener");z.addOnceListener=function(l,h){return this.addListener(l,{listener:h,once:!0})};z.once=H("addOnceListener");z.defineEvent=function(l){this.getListeners(l);return this};z.defineEvents=function(l){for(var h=0;h<
l.length;h+=1)this.defineEvent(l[h]);return this};z.removeListener=function(l,h){var r=this.getListenersAsObject(l),s,z;for(z in r)r.hasOwnProperty(z)&&(s=I(r[z],h),-1!==s&&r[z].splice(s,1));return this};z.off=H("removeListener");z.addListeners=function(l,h){return this.manipulateListeners(!1,l,h)};z.removeListeners=function(l,h){return this.manipulateListeners(!0,l,h)};z.manipulateListeners=function(l,h,r){var s,z,F=l?this.removeListener:this.addListener;l=l?this.removeListeners:this.addListeners;
if("object"!==typeof h||h instanceof RegExp)for(s=r.length;s--;)F.call(this,h,r[s]);else for(s in h)h.hasOwnProperty(s)&&(z=h[s])&&("function"===typeof z?F.call(this,s,z):l.call(this,s,z));return this};z.removeEvent=function(l){var h=typeof l,r=this._getEvents(),s;if("string"===h)delete r[l];else if("object"===h)for(s in r)r.hasOwnProperty(s)&&l.test(s)&&delete r[s];else delete this._events;return this};z.removeAllListeners=H("removeEvent");z.emitEvent=function(l,h){var r=this.getListenersAsObject(l),
s,z,F,H;for(F in r)if(r.hasOwnProperty(F))for(z=r[F].length;z--;)s=r[F][z],!0===s.once&&this.removeListener(l,s.listener),H=s.listener.apply(this,h||[]),H===this._getOnceReturnValue()&&this.removeListener(l,s.listener);return this};z.trigger=H("emitEvent");z.emit=function(l){var h=Array.prototype.slice.call(arguments,1);return this.emitEvent(l,h)};z.setOnceReturnValue=function(l){this._onceReturnValue=l;return this};z._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:
!0};z._getEvents=function(){return this._events||(this._events={})};s.noConflict=function(){R.ngEventEmitter=F;return s};"function"===typeof define&&define.amd?define("ngEventEmitter/ngEventEmitter",[],function(){return s}):"object"===typeof module&&module.exports?module.exports=s:this.ngEventEmitter=s}).call(this);
(function(s){function I(z){var l=s.event;l.target=l.target||l.srcElement||z;return l}var H=document.documentElement,z=function(){};H.addEventListener?z=function(s,l,h){s.addEventListener(l,h,!1)}:H.attachEvent&&(z=function(s,l,h){s[l+h]=h.handleEvent?function(){var l=I(s);h.handleEvent.call(h,l)}:function(){var l=I(s);h.call(s,l)};s.attachEvent("on"+l,s[l+h])});var R=function(){};H.removeEventListener?R=function(s,l,h){s.removeEventListener(l,h,!1)}:H.detachEvent&&(R=function(s,l,h){s.detachEvent("on"+
l,s[l+h]);try{delete s[l+h]}catch(r){s[l+h]=void 0}});H={bind:z,unbind:R};"function"===typeof define&&define.amd?define("eventie/eventie",H):s.eventie=H})(this);
(function(s,I){"function"===typeof define&&define.amd?define(["ngeventEmitter/ngEventEmitter","eventie/eventie"],function(H,z){return I(s,H,z)}):"object"===typeof exports?module.exports=I(s,require("ngeventEmitter"),require("eventie")):s.ngimagesLoaded=I(s,s.ngEventEmitter,s.eventie)})(this,function(s,I,H){function z(h,f){for(var l in f)h[l]=f[l];return h}function R(h){var f=[];if("[object Array]"===W.call(h))f=h;else if("number"===typeof h.length)for(var l=0,r=h.length;l<r;l++)f.push(h[l]);else f.push(h);
return f}function F(h,f,l){if(!(this instanceof F))return new F(h,f);"string"===typeof h&&(h=document.querySelectorAll(h));this.elements=R(h);this.options=z({},this.options);"function"===typeof f?l=f:z(this.options,f);if(l)this.on("always",l);this.getImages();r&&(this.jqDeferred=new r.Deferred);var s=this;setTimeout(function(){s.check()})}function l(h){this.img=h}function h(h){this.src=h;ba[h]=this}var r=s.jQuery,K=s.console,na="undefined"!==typeof K,W=Object.prototype.toString;F.prototype=new I;
F.prototype.options={};F.prototype.getImages=function(){this.images=[];for(var h=0,f=this.elements.length;h<f;h++){var l=this.elements[h];"IMG"===l.nodeName&&this.addImage(l);if(l.nodeType&&(1===l.nodeType||9===l.nodeType))for(var l=l.querySelectorAll("img"),r=0,p=l.length;r<p;r++)this.addImage(l[r])}};F.prototype.addImage=function(h){h=new l(h);this.images.push(h)};F.prototype.check=function(){function h(t,p){f.options.debug&&na&&K.log("confirm",t,p);f.progress(t);l++;l===r&&f.complete();return!0}
var f=this,l=0,r=this.images.length;this.hasAnyBroken=!1;if(r)for(var p=0;p<r;p++){var s=this.images[p];s.on("confirm",h);s.check()}else this.complete()};F.prototype.progress=function(h){this.hasAnyBroken=this.hasAnyBroken||!h.isLoaded;var f=this;setTimeout(function(){f.emit("progress",f,h);f.jqDeferred&&f.jqDeferred.notify&&f.jqDeferred.notify(f,h)})};F.prototype.complete=function(){var h=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var f=this;setTimeout(function(){f.emit(h,f);f.emit("always",
f);if(f.jqDeferred)f.jqDeferred[f.hasAnyBroken?"reject":"resolve"](f)})};r&&(r.fn.ngimagesLoaded=function(h,f){return(new F(this,h,f)).jqDeferred.promise(r(this))});l.prototype=new I;l.prototype.check=function(){var l=ba[this.img.src]||new h(this.img.src);if(l.isConfirmed)this.confirm(l.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var f=this;l.on("confirm",function(h,l){f.confirm(h.isLoaded,l);
return!0});l.check()}};l.prototype.confirm=function(h,f){this.isLoaded=h;this.emit("confirm",this,f)};var ba={};h.prototype=new I;h.prototype.check=function(){if(!this.isChecked){var h=new Image;H.bind(h,"load",this);H.bind(h,"error",this);h.src=this.src;this.isChecked=!0}};h.prototype.handleEvent=function(h){var f="on"+h.type;if(this[f])this[f](h)};h.prototype.onload=function(h){this.confirm(!0,"onload");this.unbindProxyEvents(h)};h.prototype.onerror=function(h){this.confirm(!1,"onerror");this.unbindProxyEvents(h)};
h.prototype.confirm=function(h,f){this.isConfirmed=!0;this.isLoaded=h;this.emit("confirm",this,f)};h.prototype.unbindProxyEvents=function(h){H.unbind(h.target,"load",this);H.unbind(h.target,"error",this)};return F});
