/*
 nanoGALLERY v5.0.1
 Plugin for jQuery by Christophe Brisbois
 Demo: http://nanogallery.brisbois.fr
 Sources: https://github.com/Kris-B/nanoGALLERY

 License: For personal, non-profit organizations, or open source projects, you may use nanoGALLERY for jQuery for free.
 -------- ALL OTHER USES REQUIRE THE PURCHASE OF A PROFESSIONAL LICENSE.


 Components:
  - jQuery (http://www.jquery.com)
  - jQuery Color plugin - is embedded
  - imagesloaded (https://github.com/desandro/imagesloaded) - is embebed
  - Transit (http://ricostacruz.com/jquery.transit) - optional
  - fancybox (http://fancyapps.com) - optional
  - webfont generated by http://fontello.com - based on Font Awesome Copyright (C) 2012 by Dave Gandy (http://fortawesome.github.com/Font-Awesome/)
  - http://closure-compiler.appspot.com/home - for minifying javascript
  - http://gpbmike.github.io/refresh-sf/ - for minifying css
*/
(function(s){jQuery.fn.nanoGallery=function(K){var J=s.extend(!0,{userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,galleryFullpageButton:!1,galleryFullpageBgColor:"#111",breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",paginationMaxLinesPerPage:0,maxWidth:0,viewer:"internal",viewerDisplayLogo:!1,imageTransition:"default",
viewerToolbar:{position:"bottom",style:"innerImage"},thumbnailAlignment:"center",thumbnailWidth:230,thumbnailHeight:154,thumbnailGutterWidth:2,thumbnailGutterHeight:2,thumbnailAdjustLastRowHeight:!0,thumbnailFeatured:!1,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1,title:"",itemsCount:""},thumbnailDisplayInterval:30,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,
thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",widthSmall:480,widthMedium:992,widthLarge:1200,widthXLarge:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHoverResize:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnViewerInfo:null,fnProcessData:null,touchAnimation:!0,touchAutoOpenDelay:0,useTags:!1,preset:"none",locationHash:!1,slideshowDelay:3E3,slideshowAutoStart:!1,photoSorting:"",albumSorting:"",dataSorting:"",lazyBuild:"none",lazyBuildTreshold:150,
flickrSkipOriginal:!0,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",thumbnailLabelItemsCountPart1:"| ",thumbnailLabelItemsCountPart2:" photos",thumbnailLabelItemsCountPart2_DE:" Fotos",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",
thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"}},K);return this.each(function(){(new nanoGALLERY).Initiate(this,J)})}})(jQuery);
function nanoGALLERY(){function s(){return{animationEngine:E,t:"test"}}function K(a){for(var c=document.createElement("div"),b=0;b<a.length;++b)if("undefined"!=typeof c.style[a[b]])return a[b];return null}function J(){for(var a=Math.max(window.screen.width,window.screen.height),c=0;c<D.length;c++)switch(D[c].name){case "imageScale150":case "imageScale150Outside":case "imageScaleIn80":case "imageSlide2Up":case "imageSlide2Down":case "imageSlide2Left":case "imageSlide2Right":case "imageSlide2UpRight":case "imageSlide2UpLeft":case "imageSlide2DownRight":case "imageSlide2DownLeft":case "imageSlide2Random":k.scale=
Math.max(k.scale,1.5);break;case "scale120":k.scale=Math.max(k.scale,1.2)}"auto"==F()?(fa=t()*k.scale,L.thumbSizeDir="width_"):"auto"==t()?fa=F()*k.scale:t()>F()?(fa=t()*k.scale,L.thumbSizeDir="width_"):fa=F()*k.scale;switch(g.kind){case "":U(R.breadcrumbHome,"","","","","album","","0","-1");0<g.itemsBaseURL.length&&(g.itemsBaseURL+="/");void 0!==g.items&&null!==g.items?(Qb(),C(!1)||W(0,!1)):(a=jQuery(d.base).children("a"),0<a.length?(Rb(a),C(!1)||W(0,!1)):X("error: no image to process."));break;
case "flickr":g.flickrSkipOriginal||(L.photoAvailableSizes.push(1E4),L.photoAvailableSizesStr.push("o"));for(i=0;i<L.photoAvailableSizes.length&&!(L.photoSize=i,a<=L.photoAvailableSizes[i]);i++);U(R.breadcrumbHome,"","","","","album","",0<g.photoset.length?g.photoset:"0","-1");xb(0,!0,-1,!1);break;case "smugmug":for(i=0;i<P.photoAvailableSizes.length&&!(P.thumbSize=i,fa<=P.photoAvailableSizes[i]);i++);for(i=0;i<P.photoAvailableSizes.length&&!(P.thumbSizeX2=i,2*fa<=P.photoAvailableSizes[i]);i++);for(i=
0;i<P.photoAvailableSizes.length&&!(P.photoSize=i,a<=P.photoAvailableSizes[i]);i++);U(R.breadcrumbHome,"","","","","album","","0","-1");Ya(0,!0,-1,!1);break;default:0<g.album.length?(c=g.album.indexOf("&authkey="),0<=c?(a=g.album.substring(0,c),c=g.album.substring(c),-1==c.indexOf("Gv1sRg")&&(c="&authkey=Gv1sRg"+c.substring(9)),U(R.breadcrumbHome,"","","","","album","",a,"-1").customData.authkey=c):U(R.breadcrumbHome,"","","","","album","",g.album,"-1")):U(R.breadcrumbHome,"","","","","album","",
"0","-1"),yb(0,!0,-1,!1)}jQuery(document).keyup(function(b){if(Y)switch(b.keyCode){case 27:ya(!0);break;case 32:case 13:Za();break;case 38:case 39:case 33:za();break;case 40:case 37:case 34:Aa()}});jQuery(window).bind("hashchange",function(b){g.locationHash&&C(!0)});g.galleryFullpageButton&&(d.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').appendTo(d.conNavB),d.conNavBFullpage.on("click",function(b){d.conNavBFullpage.hasClass("setFullPageButton")?(0<g.maxWidth&&
jQuery(d.base).css({maxWidth:""}),d.conNavBFullpage.removeClass("setFullPageButton").addClass("removeFullPageButton"),M("",d.base),d.base.addClass("fullpage"),jQuery("body").css({overflow:"hidden"})):(d.conNavBFullpage.removeClass("removeFullPageButton").addClass("setFullPageButton"),0<g.maxWidth&&jQuery(d.base).css({maxWidth:g.maxWidth}),d.base.removeClass("fullpage"),jQuery("body").css({overflow:"inherit"}));Ia()}))}function A(a,c){jQuery(a).css({left:c})}function V(a){function c(){Ba=0;S=ka=null;
A(d.conTn[0],0);if(Y)aa=null,la=!1;else if(null!=aa)if(10<Math.abs(h.t-ma().t))aa=null,la=!1;else{var b=aa,a=b.data("index");void 0!=a&&(g.touchAnimation&&!la?0<g.touchAutoOpenDelay?(Ca(),$a(b),window.clearInterval(ab),ab=window.setInterval(function(){window.clearInterval(ab);10<Math.abs(h.t-ma().t)?(la=!1,aa=null,bb(b)):cb(a)},g.touchAutoOpenDelay)):p[a].hovered?cb(a):(Ca(),$a(b)):cb(a))}else la=!1}function b(b){var a={};b.targetTouches?(a.x=b.targetTouches[0].clientX,a.y=b.targetTouches[0].clientY):
(a.x=b.clientX,a.y=b.clientY);return a}function e(){z&&(0<T&&"auto"!=k.settings.height[H][I]&&"auto"!=k.settings.width[H][I]&&A(l,Ba-(ka.x-S.x)),z=!1)}var l=a,z=!1,ka=null,S=null,Ba=0,f=!1,h=0;this.handleGestureStartNoDelay=function(b){Y||400>(new Date).getTime()-db||(la=!0,this.handleGestureStart(b))}.bind(this);this.handleGestureStart=function(a){if(!(Y||400>(new Date).getTime()-db)){db=(new Date).getTime();for(var c=a.target||a.srcElement,e=!1;c!=d.conTn[0];)"nanoGalleryThumbnailContainer"==c.getAttribute("class")&&
(null==aa||aa.is(jQuery(c))||Ca(),aa=jQuery(c),e=!0),c=c.parentNode;e&&(h=ma(),ka=b(a),initialOffsetTop=ma().t,window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",
this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0)),d.base.addClass("unselectable").find("*").attr("draggable","false").attr("unselectable","on"))}}.bind(this);this.handleGestureMove=function(a){S=b(a);!z&&0<T&&"auto"!=k.settings.height[H][I]&&"auto"!=k.settings.width[H][I]&&(15<Math.abs(ka.x-S.x)||f)&&(a.preventDefault(),z=f=!0,window.requestAnimFrame(e))}.bind(this);this.handleGestureEnd=function(b){b.preventDefault();f=z=!1;window.navigator.msPointerEnabled?
(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0));d.base.addClass("unselectable").find("*").attr("draggable",
"true").attr("unselectable","off");null==S||null==ka?c():(b=ka.x-S.x,Ba-=b,0<T&&"auto"!=k.settings.height[H][I]&&"auto"!=k.settings.width[H][I]?30<Math.abs(b)?(aa=null,Ba=0,S=ka=null,Ca(),-30>b?zb():Ab()):c():c())}.bind(this);window.navigator.msPointerEnabled?l.addEventListener("MSPointerDown",this.handleGestureStartNoDelay,!0):(l.addEventListener("touchstart",this.handleGestureStart,!0),Sb||l.addEventListener("mousedown",this.handleGestureStartNoDelay,!0));l.addEventListener("mouseenter",N,!0);l.addEventListener("mouseleave",
m,!0)}function N(a){Y||(a=a.target||a.srcElement,"nanoGalleryThumbnailContainer"==a.getAttribute("class")&&$a(jQuery(a)))}function m(a){a=a.target||a.srcElement;"nanoGalleryThumbnailContainer"==a.getAttribute("class")&&bb(jQuery(a))}function h(){"fancybox"==g.viewer&&"undefined"===typeof jQuery.fancybox&&(g.viewer="internal",ga("Fancybox could not be found. Fallback to internal viewer. Please check the file includes of the page."));"CBRISBOIS@GMAIL.COM"!=g.userID.toUpperCase()||""!=g.blackList&&"SCRAPBOOK|PROFIL"!=
g.blackList.toUpperCase()||(g.blackList="profil|scrapbook|forhomepage");""!=g.blackList&&(Ja=g.blackList.toUpperCase().split("|"));""!=g.whiteList&&(Ka=g.whiteList.toUpperCase().split("|"));""!=g.albumList&&(La=g.albumList.toUpperCase().split("|"));if("picasa"==g.kind||"flickr"==g.kind||"smugmug"==g.kind)g.displayBreadcrumb=!0;void 0!==g.photoset?0<g.photoset.length&&(g.displayBreadcrumb=!1):g.photoset="";void 0!==g.album?0<g.album.length&&(g.displayBreadcrumb=!1):g.album="";void 0!==g.gallery?0<
g.gallery.length&&(g.displayBreadcrumb=!1):g.gallery="";0<g.maxWidth&&(jQuery(d.base).css({maxWidth:g.maxWidth}),jQuery(d.base).css({"margin-left":"auto"}),jQuery(d.base).css({"margin-right":"auto"}));"number"==Q(g.slideshowDelay)&&2E3<=g.slideshowDelay?Ma=g.slideshowDelay:ga('Parameter "slideshowDelay" must be an integer >= 2000 ms.');"number"==Q(g.thumbnailDisplayInterval)&&0<=g.thumbnailDisplayInterval?k.displayInterval=g.thumbnailDisplayInterval:ga('Parameter "thumbnailDisplayInterval" must be an integer.');
"number"==Q(g.thumbnailLazyLoadTreshold)&&0<=g.thumbnailLazyLoadTreshold?k.lazyLoadTreshold=g.thumbnailLazyLoadTreshold:ga('Parameter "thumbnailLazyLoadTreshold" must be an integer.');"number"==Q(g.paginationMaxLinesPerPage)&&0<=g.paginationMaxLinesPerPage?T=g.paginationMaxLinesPerPage:ga('Parameter "paginationMaxLinesPerPage" must be an integer.');var a=g.albumSorting.toUpperCase();0==a.indexOf("RANDOM")&&6<a.length&&(n=parseInt(a.substring(6)),0<n&&(Na=n),g.albumSorting="random");a=g.photoSorting.toUpperCase();
0==a.indexOf("RANDOM")&&6<a.length&&(n=parseInt(a.substring(6)),0<n&&(Oa=n),g.photoSorting="random");switch(Q(g.thumbnailHoverEffect)){case "string":for(var c=g.thumbnailHoverEffect.split(","),a=0;a<c.length;a++)if(u(c[a])){var b=f();b.name=c[a];D.push(b)}break;case "object":u(g.thumbnailHoverEffect.name)&&(b=f(),D.push(jQuery.extend(b,g.thumbnailHoverEffect)));break;case "array":for(a=0;a<g.thumbnailHoverEffect.length;a++)u(g.thumbnailHoverEffect[a].name)&&(b=f(),D.push(jQuery.extend(b,g.thumbnailHoverEffect[a])));
break;case "null":break;default:X('incorrect parameter for "thumbnailHoverEffect".')}I=q();if("number"==Q(g.thumbnailWidth))r("width","l1",g.thumbnailWidth),r("width","lN",g.thumbnailWidth);else for(c=g.thumbnailWidth.split(" "),a="auto"==c[0]?c[0]:parseInt(c[0]),r("width","l1",a),r("width","lN",a),a=1;a<c.length;a++)if(b=c[a].substring(0,2),/xs|sm|me|la|xl/i.test(b)){var e="auto"==c[a].substring(2)?c[a].substring(2):parseInt(c[a].substring(2));"string"==Q(b)&&(k.settings.width.l1[b]=e,k.settings.width.lN[b]=
e)}if(void 0!=g.thumbnailL1Width)if("number"==Q(g.thumbnailL1Width))r("width","l1",g.thumbnailL1Width);else for(c=g.thumbnailL1Width.split(" "),a="auto"==c[0]?c[0]:parseInt(c[0]),r("width","l1",a),a=1;a<c.length;a++)b=c[a].substring(0,2),/xs|sm|me|la|xl/i.test(b)&&(e="auto"==c[a].substring(2)?c[a].substring(2):parseInt(c[a].substring(2)),"string"==Q(b)&&(k.settings.width.l1[b]=e));if("number"==Q(g.thumbnailHeight))r("height","l1",g.thumbnailHeight),r("height","lN",g.thumbnailHeight);else for(c=g.thumbnailHeight.split(" "),
a="auto"==c[0]?c[0]:parseInt(c[0]),r("height","l1",a),r("height","lN",a),a=1;a<c.length;a++)b=c[a].substring(0,2),/xs|sm|me|la|xl/i.test(b)&&(e="auto"==c[a].substring(2)?c[a].substring(2):parseInt(c[a].substring(2)),"string"==Q(b)&&(k.settings.height.l1[b]=e,k.settings.height.lN[b]=e));if(void 0!=g.thumbnailL1Height)if("number"==Q(g.thumbnailL1Height))r("height","l1",g.thumbnailL1Height);else for(c=g.thumbnailL1Height.split(" "),a="auto"==c[0]?c[0]:parseInt(c[0]),r("height","l1",a),a=1;a<c.length;a++)b=
c[a].substring(0,2),/xs|sm|me|la|xl/i.test(b)&&(e="auto"==c[a].substring(2)?c[a].substring(2):parseInt(c[a].substring(2)),"string"==Q(b)&&(k.settings.height.l1[b]=e))}function r(a,c,b){k.settings[a][c].xs=b;k.settings[a][c].sm=b;k.settings[a][c].me=b;k.settings[a][c].la=b;k.settings[a][c].xl=b}function t(){return k.settings.width[H][I]}function F(){return k.settings.height[H][I]}function O(){return k.outerWidth[H][I]}function Z(){return k.outerHeight[H][I]}function q(){var a=ma().w;return 0<g.widthSmall&&
a<g.widthSmall?"xs":0<g.widthMedium&&a<g.widthMedium?"sm":0<g.widthLarge&&a<g.widthLarge?"me":0<g.widthXLarge&&a<g.widthXLarge?"la":"xl"}function f(){var a={delay:0,delayBack:0,duration:400,durationBack:200,easing:"swing",easingBack:"swing"};"animate"!=E&&(a.easing="ease",a.easingBack="ease");return a}function u(a){var c=/labelOpacity50|borderLighter|borderDarker/i.test(a),b=/imageFlipVertical|imageFlipHorizontal|imageRotateCornerBR|imageRotateCornerBL|rotateCornerBL|rotateCornerBR|imageScale150|overScale|overScaleOutside|imageScaleIn80|imageScale150Outside|scale120|scaleLabelOverImage|slideUp|slideDown|slideLeft|slideRight|imageSlideUp|imageSlideDown|imageSlideLeft|imageSlideRight|labelAppear|labelAppear75|descriptionAppear|labelSlideDown|labelSlideUp|labelSlideUpTop|imageInvisible|imageOpacity50|descriptionSlideUp|labelSplitVert|labelSplit4|labelAppearSplitVert|labelAppearSplit4|imageSplitVert|imageSplit4/i.test(a),
e=/imageExplode/i.test(a);g.touchAutoOpenDelay=parseInt(g.touchAutoOpenDelay);0==g.touchAutoOpenDelay&&(g.touchAutoOpenDelay=1E3);return c||b||e?"onBottom"!=g.thumbnailLabel.position||/borderLighter|borderDarker|imageOpacity50|imageScale150|imageScaleIn80|imageSlide2Up|imageSlide2Down|imageSlide2Left|imageSlide2Right|imageSlide2Random|imageSlide2UpRight|imageSlide2UpLeft|imageSlide2DownRight|imageSlide2DownLeft|imageScale150Outside|scale120/i.test(a)?!e||"animate"!=E&&null!=ha?!0:(ga('Parameter thumbnailHoverEffect="'+
a+'" requires one of the additionals jQuery plugins "Velocity" or "Transit".'),!1):(X('The parameter combination thumbnailHoverEffect="'+a+'" and thumbnailLabel.position="onBottom" is not supported.'),!1):(X('Unknow parameter value: thumbnailHoverEffect="'+a+'".'),!1)}function y(){da=(navigator.language||navigator.userLanguage).toUpperCase();"UNDEFINED"===da&&(da="");var a=-("_"+da).length;"object"==Q(g.i18n)&&Object.keys(g.i18n).forEach(function(c){var b=c.substr(a);b=="_"+da?R[c.substr(0,c.length-
b.length)]=g.i18n[c]:R[c]=g.i18n[c]})}function C(a){if(!g.locationHash)return!1;var c=null,b=null,c="#nanogallery/"+ea+"/",e=location.hash;if(e!=qa&&(""==e&&-1!=eb&&(qa="",ra(0,!1,-1,!1)),0==e.indexOf(c))){var l=e.substring(c.length),z=l.indexOf("/"),d=e=-1,S=p.length;if(0<z)for(c=l.substring(0,z),b=l.substring(z+1),l=0;l<S;l++){if("image"==p[l].kind&&p[l].GetID()==b){d=l;break}}else c=l;for(l=0;l<S;l++)if("album"==p[l].kind&&p[l].GetID()==c){e=l;break}null!==b?(a||(Pa=e),""==g.kind?sa(d):-1==d?ra(e,
!1,b,a):sa(d)):ra(e,!1,-1,a);return!0}}function fb(){p=[];var a="";g.thumbnailLabel.displayDescription&&(a="d");a=U("dummydummydummy",ba,ba,a,"","image","","1","0");a=Bb(a,0,0,!1);k.borderWidth=a.outerWidth(!0)-a.width();k.borderHeight=a.outerHeight(!0)-a.height();k.imgcBorderWidth=a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width();k.imgcBorderHeight=a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height();k.labelBorderHeight=a.find(".labelImage").outerHeight(!0)-
a.find(".labelImage").height();k.labelBorderWidth=a.find(".labelImage").outerWidth(!0)-a.find(".labelImage").width();"onBottom"==g.thumbnailLabel.position&&(k.labelHeight=a.find(".labelImage").outerHeight(!0));for(var c=["xs","sm","me","la","xl"],b=0;b<c.length;b++){var e=k.settings.width.l1[c[b]];k.outerWidth.l1[c[b]]="auto"!=e?e+k.borderWidth+k.imgcBorderWidth:0;e=k.settings.width.lN[c[b]];k.outerWidth.lN[c[b]]="auto"!=e?e+k.borderWidth+k.imgcBorderWidth:0}for(b=0;b<c.length;b++)e=k.settings.height.l1[c[b]],
k.outerHeight.l1[c[b]]="auto"!=e?e+k.borderHeight+k.imgcBorderHeight:0,e=k.settings.height.lN[c[b]],k.outerHeight.lN[c[b]]="auto"!=e?e+k.borderHeight+k.imgcBorderHeight:0;ia=gb();G.oldBorderColor=a.css("border-color");if(""==G.oldBorderColor||null==G.oldBorderColor||void 0==G.oldBorderColor)G.oldBorderColor="#000";G.oldLabelOpacity=a.find(".labelImage").css("opacity");a=jQuery.Color(a.find(".labelImage"),"backgroundColor");G.oldLabelRed=a.red();G.oldLabelGreen=a.green();G.oldLabelBlue=a.blue();p=
[]}function hb(a,c){var b="";return""!=da&&void 0!==a[c+"_"+da]&&0<a[c+"_"+da].length?b=a[c+"_"+da]:b=a[c]}function Da(a){return"%filename"==g.thumbnailLabel.title?a.split("/").pop().replace("_"," "):"%filenameNoExt"==g.thumbnailLabel.title?a.split("/").pop().split(".").shift().replace("_"," "):a}function Qb(){var a=!1;"undefined"!==typeof g.dataSorting&&("random"==g.dataSorting?g.items=na(g.items):"reversed"==g.dataSorting&&(g.items=g.items.reverse()));jQuery.each(g.items,function(b,c){var e="",
e=hb(c,"title");void 0===e&&(e="");var l=g.itemsBaseURL+c.src,z="",z=void 0!==c.srct&&0<c.srct.length?g.itemsBaseURL+c.srct:l,d="",d=void 0!==c.srct2x&&0<c.srct2x.length?g.itemsBaseURL+c.srct2x:""!=z?z:l;""!=g.thumbnailLabel.title&&(e=Da(l));var k="",k=hb(c,"description");void 0===k&&(k="");var f="";void 0!==c.destURL&&0<c.destURL.length&&(f=c.destURL);var p=hb(c,"tags");void 0===p&&(p="");var h=0;void 0!==c.albumID&&(h=c.albumID,a=!0);var u=null;void 0!==c.ID&&(u=c.ID);var y="image";void 0!==c.kind&&
0<c.kind.length&&(y=c.kind);e=U(e,z,l,k,f,y,p,u,h);e.thumbX2src=d;d=0;void 0!==c.thumbnailWidth&&0<c.imgtWidth&&(d=c.imgtWidth,e.thumbImgWidth=d);l=0;void 0!==c.thumbnailHeight&&0<c.imgtHeigt&&(l=c.imgtHeight,e.thumbImgHeight=l);e.thumbs={url:{l1:{xs:z,sm:z,me:z,la:z,xl:z},lN:{xs:z,sm:z,me:z,la:z,xl:z}},width:{l1:{xs:d,sm:d,me:d,la:d,xl:d},lN:{xs:d,sm:d,me:d,la:d,xl:d}},height:{l1:{xs:l,sm:l,me:l,la:l,xl:l},lN:{xs:l,sm:l,me:l,la:l,xl:l}}};"function"==typeof g.fnProcessData&&g.fnProcessData(e,"api",
null)});a&&(g.displayBreadcrumb=!0);for(var c=p.length,b=0,e=0,l=0;l<c;l++){for(var z=e=b=0;z<c;z++)l!=z&&p[l].GetID()==p[z].albumID&&(b++,"image"==p[z].kind&&(p[z].imageNumber=e++));p[l].contentLength=b}}function Rb(a){var c=!1;"undefined"!==typeof g.dataSorting&&("random"==g.dataSorting?a=na(a):"reversed"==g.dataSorting&&(jQuery.fn.reverse=[].reverse,a=a.reverse()));jQuery.each(a,function(b,a){var e="";void 0!==jQuery(a).attr("data-ngthumb")&&0<jQuery(a).attr("data-ngthumb").length&&(e=g.itemsBaseURL+
jQuery(a).attr("data-ngthumb"));void 0!==jQuery(a).attr("data-ngThumb")&&0<jQuery(a).attr("data-ngThumb").length&&(e=g.itemsBaseURL+jQuery(a).attr("data-ngThumb"));var l="";void 0!==jQuery(a).attr("data-ngthumb2x")&&0<jQuery(a).attr("data-ngthumb2x").length&&(l=g.itemsBaseURL+jQuery(a).attr("data-ngthumb2x"));void 0!==jQuery(a).attr("data-ngThumb2x")&&0<jQuery(a).attr("data-ngThumb2x").length&&(l=g.itemsBaseURL+jQuery(a).attr("data-ngThumb2x"));src=g.itemsBaseURL+jQuery(a).attr("href");var z="";void 0!==
jQuery(a).attr("data-ngdesc")&&0<jQuery(a).attr("data-ngdesc").length&&(z=jQuery(a).attr("data-ngdesc"));void 0!==jQuery(a).attr("data-ngDesc")&&0<jQuery(a).attr("data-ngDesc").length&&(z=jQuery(a).attr("data-ngDesc"));var d="";void 0!==jQuery(a).attr("data-ngdest")&&0<jQuery(a).attr("data-ngdest").length&&(d=jQuery(a).attr("data-ngdest"));void 0!==jQuery(a).attr("data-ngDest")&&0<jQuery(a).attr("data-ngDest").length&&(d=jQuery(a).attr("data-ngDest"));var k=0;void 0!==jQuery(a).attr("data-ngalbumid")&&
(k=jQuery(a).attr("data-ngalbumid"),c=!0);void 0!==jQuery(a).attr("data-ngAlbumID")&&(k=jQuery(a).attr("data-ngAlbumID"),c=!0);var f=null;void 0!==jQuery(a).attr("data-ngid")&&(f=jQuery(a).attr("data-ngid"));void 0!==jQuery(a).attr("data-ngID")&&(f=jQuery(a).attr("data-ngID"));var p="image";void 0!==jQuery(a).attr("data-ngkind")&&0<jQuery(a).attr("data-ngkind").length&&(p=jQuery(a).attr("data-ngkind"));void 0!==jQuery(a).attr("data-ngKind")&&0<jQuery(a).attr("data-ngKind").length&&(p=jQuery(a).attr("data-ngKind"));
var h=jQuery(a).text();""!=g.thumbnailLabel.title&&void 0!=g.thumbnailLabel.title&&(h=Da(src));z=U(h,e,src,z,d,p,"",f,k);z.thumbX2src=l;l=0;void 0!==jQuery(a).attr("data-ngthumbImgWidth")&&0<jQuery(a).attr("data-ngthumbImgWidth").length&&(l=jQuery(a).attr("data-ngthumbImgWidth"),z.thumbImgWidth=l);d=0;void 0!==jQuery(a).attr("data-ngthumbImgHeight")&&0<jQuery(a).attr("data-ngthumbImgHeight").length&&(d=jQuery(a).attr("data-ngthumbImgHeight"),z.thumbImgHeight=d);z.thumbs={url:{l1:{xs:e,sm:e,me:e,la:e,
xl:e},lN:{xs:e,sm:e,me:e,la:e,xl:e}},width:{l1:{xs:l,sm:l,me:l,la:l,xl:l},lN:{xs:l,sm:l,me:l,la:l,xl:l}},height:{l1:{xs:d,sm:d,me:d,la:d,xl:d},lN:{xs:d,sm:d,me:d,la:d,xl:d}}};"function"==typeof g.fnProcessData&&g.fnProcessData(z,"markup",null)});jQuery.each(a,function(a,b){jQuery(b).remove()});c&&(g.displayBreadcrumb=!0);a=p.length;for(var b=0,e=0,l=0;l<a;l++){for(var z=e=b=0;z<a;z++)l!=z&&p[l].GetID()==p[z].albumID&&(b++,"image"==p[z].kind&&(p[z].imageNumber=e++));p[l].contentLength=b}}function xb(a,
c,b,e){Qa(a);if(p[a].contentIsLoaded)W(a,e);else{var l="",z="album";0==p[a].GetID()?l=L.url()+"?&method=flickr.photosets.getList&api_key="+L.ApiKey+"&user_id="+g.userID+"&per_page=500&primary_photo_extras=url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&format=json&jsoncallback=?":(l="none"==p[a].GetID()?L.url()+"?&method=flickr.people.getPublicPhotos&api_key="+L.ApiKey+"&user_id="+g.userID+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json&jsoncallback=?":
L.url()+"?&method=flickr.photosets.getPhotos&api_key="+L.ApiKey+"&photoset_id="+p[a].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&format=json&jsoncallback=?",z="image");ib();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(l,function(l){oa();"album"==z?Tb(a,l):Ub(a,l);if(c)C(!1)||W(a,e);else if(-1!=b){l=-1;for(var g=p.length,d=0;d<g;d++)if("image"==p[d].kind&&p[d].GetID()==b){l=d;break}sa(l,!0)}else W(a,e)}).fail(function(a,b,c){oa();
X("Could not retrieve Flickr photoset list (jQuery): "+(b+", "+c))})}}function Tb(a,c){var b=!0;void 0!==c.stat&&"fail"===c.stat&&(X("Could not retrieve Flickr photoset list: "+c.message+" (code: "+c.code+")."),b=!1);if(b){var e=0,b=c.photosets.photoset;switch(g.albumSorting){case "random":b=na(b);break;case "reversed":b=b.reverse();break;case "titleAsc":b.sort(function(a,b){var c=a.title._content.toUpperCase(),e=b.title._content.toUpperCase();return c<e?-1:c>e?1:0});break;case "titleDesc":b.sort(function(a,
b){var c=a.title._content.toUpperCase(),e=b.title._content.toUpperCase();return c>e?-1:c<e?1:0})}jQuery.each(b,function(b,c){itemTitle=c.title._content;if(jb(itemTitle)){itemID=c.id;itemDescription="";void 0!=c.description._content&&(itemDescription=c.description._content);var d=0;for(b=0;b<L.thumbAvailableSizes.length;b++){var g=c.primary_photo_extras[L.thumbSizeDir+L.photoAvailableSizesStr[b]];if(void 0!=g&&(d=b,g>fa))break}var d=c.primary_photo_extras["url_"+L.photoAvailableSizesStr[d]],g={},k;
for(k in c.primary_photo_extras)g[k]=c.primary_photo_extras[k];tags="";void 0!==c.primary_photo_extras&&void 0!==c.primary_photo_extras.tags&&(tags=c.primary_photo_extras.tags);k=U(itemTitle,"","",itemDescription,"","album",tags,itemID,p[a].GetID());k.contentLength=c.photos;k.thumbX2src=d;k.thumbSizes=g;d={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,
me:0,la:0,xl:0}}};d=Ra(d,c.primary_photo_extras,"l1");d=Ra(d,c.primary_photo_extras,"lN");k.thumbs=d;e++;if(e>=Na)return!1}});p[a].contentIsLoaded=!0;p[a].contentLength=e}}function Ra(a,c,b){for(var e=["xs","sm","me","la","xl"],l=0;l<e.length;l++){if("auto"==k.settings.width[b][e[l]])var d="height_",g=k.settings.height[b][e[l]]*k.scale;else"auto"==k.settings.height[b][e[l]]?(d="width_",g=k.settings.width[b][e[l]]*k.scale):(d="height_",g=k.settings.height[b][e[l]]*k.scale,k.settings.width[b][e[l]]>
k.settings.height[b][e[l]]&&(d="width_",g=k.settings.width[b][e[l]]*k.scale));d=Vb(d,g,c);a.url[b][e[l]]=d.url;a.width[b][e[l]]=d.width;a.height[b][e[l]]=d.height}return a}function Vb(a,c,b){for(var e={url:"",width:0,height:0},l=0,d=0;d<L.thumbAvailableSizes.length;d++){var g=b[a+L.photoAvailableSizesStr[d]];if(void 0!=g&&(l=d,g>=c))break}a=L.photoAvailableSizesStr[l];e.url=b["url_"+a];e.width=parseInt(b["width_"+a]);e.height=parseInt(b["height_"+a]);return e}function Ub(a,c){var b="",b="none"==p[a].GetID()?
c.photos.photo:c.photoset.photo;switch(g.photoSorting){case "random":b=na(b);break;case "reversed":b=b.reverse();break;case "titleAsc":b.sort(function(a,b){var c=a.title.toUpperCase(),e=b.title.toUpperCase();return c<e?-1:c>e?1:0});break;case "titleDesc":b.sort(function(a,b){var c=a.title.toUpperCase(),e=b.title.toUpperCase();return c>e?-1:c<e?1:0})}var e=p[a].GetID(),l=0;jQuery.each(b,function(a,b){var c=b.title,d=b.id,k=b.description._content,f=0;for(a=0;a<L.thumbAvailableSizes.length;a++){var p=
b[L.thumbSizeDir+L.photoAvailableSizesStr[a]];if(void 0!=p&&(f=a,p>fa))break}f=b["url_"+L.photoAvailableSizesStr[f]];p=b.url_sq;for(a=L.photoSize;0<=a;a--)if(void 0!=b["url_"+L.photoAvailableSizesStr[a]]){p=b["url_"+L.photoAvailableSizesStr[a]];break}for(var h in b)0==h.indexOf("height_")||0==h.indexOf("width_")||h.indexOf("url_");""!=g.thumbnailLabel.title&&(c=Da(p));c=U(c,"",p,k,"","image","",d,e);c.imageNumber=l;void 0!==b.url_o?(c.width=b.width_o,c.height=b.height_o):(c.width=b.width_z,c.height=
b.height_z);c.thumbX2src=f;d={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};d=Ra(d,b,"l1");d=Ra(d,b,"lN");c.thumbs=d;l++;if(l>=Oa)return!1});p[a].contentIsLoaded=!0;p[a].contentLength=l}function ca(a,c,b){var e=b*k.scale;"auto"==c?e=b*k.scale:"auto"==b?e=c*k.scale:c>b&&(e=c*k.scale);0<a.length&&(a+=",");return a+e}function yb(a,c,b,
e){Qa(a);if(p[a].contentIsLoaded)W(a,e);else{var l="",d="album",l=ca("",k.settings.width.l1.xs,k.settings.height.l1.xs),l=ca(l,k.settings.width.l1.sm,k.settings.height.l1.sm),l=ca(l,k.settings.width.l1.me,k.settings.height.l1.me),l=ca(l,k.settings.width.l1.la,k.settings.height.l1.la),l=ca(l,k.settings.width.l1.xl,k.settings.height.l1.xl),l=ca(l,k.settings.width.lN.xs,k.settings.height.lN.xs),l=ca(l,k.settings.width.lN.sm,k.settings.height.lN.sm),l=ca(l,k.settings.width.lN.me,k.settings.height.lN.me),
l=ca(l,k.settings.width.lN.la,k.settings.height.lN.la),l=ca(l,k.settings.width.lN.xl,k.settings.height.lN.xl);if(0==p[a].GetID())l=Cb.url()+"user/"+g.userID+"?alt=json&kind=album&imgmax=d&thumbsize="+l;else{var f="";"undefined"!==typeof p[a].customData.authkey&&(f=p[a].customData.authkey);l=Cb.url()+"user/"+g.userID+"/albumid/"+p[a].GetID()+"?alt=json&kind=photo"+f+"&thumbsize="+l+"&imgmax=d";d="image"}l+="&callback=?";ib();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(l,function(l){oa();
Wb(a,l,d);if(c)C(!1)||W(a,e);else if(-1!=b){l=-1;for(var g=p.length,k=0;k<g;k++)if("image"==p[k].kind&&p[k].GetID()==b){l=k;break}sa(l,!0)}else W(a,e)}).fail(function(a,b,c){oa();X("Could not retrieve Picasa/Google+ data (jQuery): "+(b+", "+c))})}}function Wb(a,c,b){var e=0,l=p[a].GetID();c=c.feed.entry;var d=g.albumSorting;"image"==b&&(d=g.photoSorting);switch(d){case "random":c=na(c);break;case "reversed":c=c.reverse();break;case "titleAsc":c.sort(function(a,c){var e="image"==b?a.media$group.media$description.$t.toUpperCase():
a.media$group.media$title.$t.toUpperCase(),l="image"==b?c.media$group.media$description.$t.toUpperCase():c.media$group.media$title.$t.toUpperCase();return e<l?-1:e>l?1:0});break;case "titleDesc":c.sort(function(a,c){var e="image"==b?a.media$group.media$description.$t.toUpperCase():a.media$group.media$title.$t.toUpperCase(),l="image"==b?c.media$group.media$description.$t.toUpperCase():c.media$group.media$title.$t.toUpperCase();return e>l?-1:e<l?1:0})}jQuery.each(c,function(a,c){var d=c.media$group.media$title.$t,
z=c.media$group.media$thumbnail[0].url,k=c.gphoto$id.$t,f="",p=c.media$group.media$description.$t;"image"==b&&(f=d,d=p,p="");var h=c.media$group.media$content[0].url;"image"==b&&""!=g.thumbnailLabel.title&&(d=Da(unescape(unescape(unescape(unescape(h))))));var u=!0;"album"==b&&(jb(d)||(u=!1));if(u&&(u="","album"==b?u=k:(h=h.substring(0,h.lastIndexOf("/")),h=h.substring(0,h.lastIndexOf("/"))+"/",u=window.screen.width>window.screen.height?h+"w"+window.screen.width+"/"+f:h+"h"+window.screen.height+"/"+
f),d=U(d,z,u,p,"",b,"",k,l),d.picasaThumbBaseURL="",d.imageNumber=e,"album"==b&&(d.author=c.author[0].name.$t,d.contentLength=c.gphoto$numphotos.$t),d.thumbX2src="",z={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}},z=Db("l1",0,z,c,b),z=Db("lN",5,z,c,b),d.thumbs=z,"function"==typeof g.fnProcessData&&g.fnProcessData(d,"picasa",c),e++,
e>=("album"==b?Na:Oa)))return!1});p[a].contentIsLoaded=!0;p[a].contentLength=e}function Db(a,c,b,e,l){for(var d=["xs","sm","me","la","xl"],g=0;g<d.length;g++)if(b.url[a][d[g]]=e.media$group.media$thumbnail[c+g].url,"image"==l){b.width[a][d[g]]=e.media$group.media$thumbnail[c+g].width;b.height[a][d[g]]=e.media$group.media$thumbnail[c+g].height;var f=e.media$group.media$thumbnail[c+g].width,p=e.media$group.media$thumbnail[c+g].height;if("auto"==k.settings.width[a][d[g]]&&p<k.settings.height[a][d[g]]){var h=
f/p;b.width[a][d[g]]=f*h;b.height[a][d[g]]=p*h;h=b.url[a][d[g]].substring(0,b.url[a][d[g]].lastIndexOf("/"));h=h.substring(0,h.lastIndexOf("/"))+"/";b.url[a][d[g]]=h+"h"+k.settings.height[a][d[g]]+"/"}"auto"==k.settings.height[a][d[g]]&&f<k.settings.width[a][d[g]]&&(h=p/f,b.height[a][d[g]]=p*h,b.width[a][d[g]]=f*h,h=b.url[a][d[g]].substring(0,b.url[a][d[g]].lastIndexOf("/")),h=h.substring(0,h.lastIndexOf("/"))+"/",b.url[a][d[g]]=h+"w"+k.settings.width[a][d[g]]+"/")}else"auto"!=k.settings.width[a][d[g]]&&
(b.width[a][d[g]]=e.media$group.media$thumbnail[c+g].width),"auto"!=k.settings.height[a][d[g]]&&(b.height[a][d[g]]=e.media$group.media$thumbnail[c+g].height);return b}function Ya(a,c,b,e){Qa(a);if(p[a].contentIsLoaded)W(a,e);else{var l="",d="album";0==p[a].GetID()?l=P.url()+"?method=smugmug.albums.get&NickName="+g.userID+"&Heavy=true&APIKey="+P.APIKey:(l=P.url()+"?method=smugmug.images.get&NickName="+g.userID+"&Heavy=true&AlbumID="+p[a].GetID()+"&APIKey="+P.APIKey,d="image");l+="&Callback=?";ib();
jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(l,function(l){oa();if("fail"==l.stat)X("Could not retrieve SMUGMUG data (jQuery): "+l.message);else{Xb(a,l,d);if(""!=g.gallery){g.displayBreadcrumb=!1;l=p.length;for(var k=0;k<l;k++)if(p[k].title.toUpperCase()==g.gallery.toUpperCase()){Ya(k,c,b,e);return}g.displayBreadcrumb=!0;g.gallery=""}if(c)C(!1)||W(a,e);else if(-1!=b){var f=-1;l=p.length;for(k=0;k<l;k++)if("image"==p[k].kind&&p[k].GetID()==b){f=k;break}sa(f,!0)}else W(a,e)}}).fail(function(a,
b,c){oa();X("Could not retrieve SMUGMUG data (jQuery): "+(b+", "+c))})}}function Xb(a,c,b){var e=0,l=p[a].GetID();if("album"==b){var d=c.Albums;switch(g.albumSorting){case "random":d=na(d);break;case "reversed":d=d.reverse();break;case "titleAsc":d.sort(function(a,b){var c=a.title.toUpperCase(),e=b.title.toUpperCase();return c<e?-1:c>e?1:0});break;case "titleDesc":d.sort(function(a,b){var c=a.title.toUpperCase(),e=b.title.toUpperCase();return c>e?-1:c<e?1:0})}jQuery.each(c.Albums,function(a,c){var d=
c.Title,k=c.id+"&AlbumKey="+c.Key,z=c.Description,f=ba,p=!0;jb(d)||(p=!1);if(p&&(d=U(d,"css/nano_gallery.png",f,z,"",b,"",k,l),d.imageNumber=e,d.contentLength=c.ImageCount,"auto"==t()?(d.thumbImgWidth=F(),d.thumbImgHeight=F()):"auto"==F()?(d.thumbImgWidth=t(),d.thumbImgHeight=t()):(d.thumbImgWidth=t(),d.thumbImgHeight=F()),"function"==typeof g.fnProcessData&&g.fnProcessData(d,"smugmug",c),e++,e>=Na))return!1})}else{d=c.Album.Images;switch(g.photoSorting){case "random":d=na(d);break;case "reversed":d=
d.reverse();break;case "titleAsc":d.sort(function(a,b){var c=a.Caption.toUpperCase(),e=b.Caption.toUpperCase();return c<e?-1:c>e?1:0});break;case "titleDesc":d.sort(function(a,b){var c=a.Caption.toUpperCase(),e=b.Caption.toUpperCase();return c>e?-1:c<e?1:0})}jQuery.each(c.Album.Images,function(c,d){var k=d.Caption;""!=g.thumbnailLabel.title&&(k=Da(d.FileName));var z=d.TinyURL;for(c=P.thumbSize;0<=c;c--)if(void 0!=d[P.photoAvailableSizesStr[c]]){z=d[P.photoAvailableSizesStr[c]];break}var f=d.TinyURL;
for(c=P.thumbSizeX2;0<=c;c--)if(void 0!=d[P.photoAvailableSizesStr[c]]){f=d[P.photoAvailableSizesStr[c]];break}0==e&&(p[a].thumbsrc=z);var h=d.Key,u=d.ThumbURL;for(c=P.photoSize;0<=c;c--)if(void 0!=d[P.photoAvailableSizesStr[c]]){u=d[P.photoAvailableSizesStr[c]];break}k=U(k,z,u,"","",b,"",h,l);k.imageNumber=e;"auto"==F()&&(k.thumbImgWidth=t());"auto"==t()&&(k.thumbImgHeight=F());"function"==typeof g.fnProcessData&&g.fnProcessData(k,"smugmug",d);k.thumbX2src=f;e++;if(e>=Oa)return!1})}p[a].contentIsLoaded=
!0;p[a].contentLength=e}function U(a,c,b,e,l,d,g,k,f){a=new Yb(a,k);a.thumbsrc=c;a.src=b;a.description=e;a.destinationURL=l;a.kind=d;a.albumID=f;a.tags=0==g.length?null:g.split(" ");p.push(a);return a}function jb(a){a=a.toUpperCase();if(null!==La)for(var c=0;c<La.length;c++){if(a==La[c].toUpperCase())return!0}else{var b=!1;if(null!==Ka){for(c=0;c<Ka.length;c++)-1!==a.indexOf(Ka[c])&&(b=!0);if(!b)return!1}if(null!==Ja)for(c=0;c<Ja.length;c++)if(-1!==a.indexOf(Ja[c]))return!1;return!0}}function W(a,
c){"display"==g.lazyBuild?ta(d.conTnParent,g.lazyBuildTreshold)?kb(a,c):(Sa=a,Eb=c):kb(a,c)}function kb(a,c){g.lazyBuild="none";Pa=Sa=-1;Y&&ya(!1);if(a!=eb){if(g.locationHash&&c){var b="nanogallery/"+ea+"/"+p[a].GetID();qa="#"+b;top.location.hash=b}eb=p[a].GetID();Qa(a);b=0;0<p[a].paginationLastPage&&p[a].paginationLastWidth==d.conTnParent.width()&&(b=p[a].paginationLastPage);ua(a,b)}}function Fb(a){var c="folder";0==a&&(c="folderHome");c=jQuery('<div class="'+c+' oneFolder">'+p[a].title+"</div>").appendTo(d.conBC);
jQuery(c).data("albumIdx",a);c.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();ra(a,!1,-1,!0)})}function Gb(a){var c=jQuery('<div class="separator"></div>').appendTo(d.conBC);jQuery(c).data("albumIdx",a);c.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();jQuery(this).remove();ra(a,!1,-1,!0)})}function Qa(a){var c=!1;if(!0==g.displayBreadcrumb){var c=!0,b=d.conBC.children().length;0==b?(H="l1",g.breadcrumbAutoHideTopLevel&&(d.conNavBCon.css({opacity:0,
"max-height":"0px"}),c=!1),Fb(0)):(H=1==b?"l1":"lN",1==b&&g.breadcrumbAutoHideTopLevel?d.conNavBCon.animate({opacity:"0","max-height":"0px"}):d.conNavBCon.animate({opacity:"1","max-height":"50px"}),d.conBC.children().not(":first").remove());if(0!=a){var b=p.length,e=[];for(e.push(a);0!=p[a].albumID;)for(i=1;i<b;i++)if(p[i].GetID()==p[a].albumID){a=i;e.push(a);break}Gb(0);for(i=e.length-1;0<=i;i--)0<i&&Gb(e[i-1]),Fb(e[i])}}g.useTags&&(c=!0,null==Hb&&(Hb=jQuery('<div class="nanoGalleryTags"></div>').appendTo(d.conNavB)));
g.galleryFullpageButton&&(c=!0);!Ib&&c&&(Ib=!0,d.conNavBCon.show())}function ib(){d.conLoadingB.css({visibility:"visible"})}function oa(){d.conLoadingB.css({visibility:"hidden"})}function ra(a,c,b,e){switch(g.kind){case "":W(a,e);break;case "flickr":xb(a,c,b,e);break;case "smugmug":Ya(a,c,b,e);break;default:yb(a,c,b,e)}}function Ia(){"auto"==F()?Zb():"auto"==t()?$b():ac();lb();if(g.galleryToolbarWidthAligned&&void 0!==d.conNavBCon){var a=d.conTn.outerWidth(!0);d.conNavBCon.width();d.conNavBCon.width(a)}}
function Zb(){var a=d.conTnParent.width(),c=0,b=0,e=0,l=[],k=gb(),f=0,h=g.thumbnailGutterHeight,u=O(),y=d.conTn.find(".nanoGalleryThumbnailContainer");"justified"==g.thumbnailAlignment?(k=Math.min(k,y.length),f=1==k?0:(a-k*u)/(k-1)):f=g.thumbnailGutterWidth;var C=0;y.each(function(){var a=jQuery(this),d=a.data("index");if(void 0!==d){"onBottom"==g.thumbnailLabel.position&&mb(a,p[d]);var u=0,y=0;if(0==b)u=c*(O()+f),l[c]=p[d].thumbFullHeight+h,c++,C++,c>=k&&(c=0,b++);else{var q=0,u=l[0];for(i=1;i<k;i++)if(l[i]+
5<u){q=i;break}y=l[q];u=q*(O()+f);l[q]=y+p[d].thumbFullHeight+h}a.css({top:y,left:u});nb(a,p[d],e);e++}});a=l.length*(u+f)-f;u=l[0];for(i=1;i<C;i++)u=Math.max(u,l[i]);d.conTn.width(a).height(u)}function $b(){var a=d.conTnParent.width(),c=0,b=0,e=0,l=[],f=0,h=[],u=!1,y=0,C=0,q=0,v=0,r=g.thumbnailGutterWidth,w=g.thumbnailGutterHeight,m=0,x=0,t=!1,s=!1,B=d.conTn.find(".nanoGalleryThumbnailContainer");B.each(function(){var b=jQuery(this).data("index");if(void 0!==b&&0<p[b].thumbImg().width){var e=p[b],
d=Math.floor(e.thumbImg().width/e.thumbImg().height*F())+k.borderWidth+k.imgcBorderWidth;g.thumbnailFeatured&&0==y&&(q=d*=2);u&&(u=!1,f++,c=0,s=t=!1,1==f&&0<q&&(c=q,q=0));e.thumbHeight>e.thumbWidth?t=!0:s=!0;c+d+r<a?(c+=d+r,h[f]=F(),e=Math.max(t?m:0,s?x:0),g.thumbnailAdjustLastRowHeight&&0<e&&(h[f]=Math.min(h[f],e)),l[f]=b):(c+=d,e=Math.floor(F()*a/c),h[f]=e,t&&(m=Math.max(m,e)),s&&(x=Math.max(x,e)),l[f]=b,u=!0);y++}});y=b=e=f=0;B.each(function(){var c=jQuery(this),d=c.data("index");if(void 0!==d&&
0<p[d].thumbImg().width){var u=p[d],q=Math.floor(u.thumbImg().width/u.thumbImg().height*h[f]);0==y&&g.thumbnailFeatured&&(q*=2,C=1==h.length?2*parseInt(h[0]):parseInt(h[0])+parseInt(h[1])+k.borderHeight+k.imgcBorderHeight);d==l[f]&&(l.length!=f+1?q=a-b-k.borderWidth-k.imgcBorderWidth:b+q+k.borderWidth+k.imgcBorderWidth+r>a&&(q=a-b-k.borderWidth-k.imgcBorderWidth));var S=0;0==y&&g.thumbnailFeatured?(S=C,v=q+k.borderWidth+k.imgcBorderWidth,u.customData.featured=!0,c.find("img").attr("src",u.thumbX2src)):
S=h[f];S=parseInt(S);q=parseInt(q);c.width(q+k.imgcBorderWidth).height(S+k.imgcBorderHeight+k.labelHeight);c.find(".imgContainer").height(S).width(q);c.find("img").css({"max-height":S,"max-width":q});c.find(".subcontainer").width(q+k.imgcBorderWidth).height(S+k.imgcBorderHeight+k.labelHeight);c.css({top:e,left:b});u.thumbFullWidth=q+k.borderWidth+k.imgcBorderWidth;u.thumbFullHeight=S+k.borderHeight+k.imgcBorderHeight+k.labelHeight;ob(c);nb(c,u,y);b+=q+k.borderWidth+k.imgcBorderWidth+r;d==l[f]&&(e+=
h[f]+k.labelHeight+w+k.imgcBorderHeight+k.borderHeight,f++,b=0,1==f&&0<v&&(b=v,v=0))}y++});0<f&&(e-=w);C=C+Z()+k.labelHeight;d.conTn.width(a).height(e>C?e:C)}function gb(){var a=t()+k.borderWidth+k.imgcBorderWidth,c=d.conTnParent.width(),b=0,b="justified"==g.thumbnailAlignment?Math.floor(c/a):Math.floor((c+g.thumbnailGutterWidth)/(a+g.thumbnailGutterWidth));0<g.maxItemsPerLine&&b>g.maxItemsPerLine&&(b=g.maxItemsPerLine);1>b&&(b=1);return b}function ac(){var a=0,c=0,b=0,e=g.thumbnailGutterHeight,l=
d.conTnParent.width(),k=gb(),f=0,h=0,u=0,q=[],y=0;if(0<T&&0<O()&&k!=ia)ia=k,l=d.conPagin.data("galleryIdx"),ua(l,0);else{var C=d.conTn.find(".nanoGalleryThumbnailContainer"),v=C.length;"justified"==g.thumbnailAlignment?(k=Math.min(k,v),b=1==k?0:(l-k*O())/(k-1)):b=g.thumbnailGutterWidth;C.each(function(){var d=jQuery(this),l=d.data("index");void 0!==l&&(0==c?(a=y*(O()+b),u=q[y]=a):(a=q[y],h=c),d.css({top:c,left:a}),nb(d,p[l],f),y++,y>=k&&(y=0,c+=Z()+e),f++)});d.conTn.width(u+O()).height(h+Z())}}function nb(a,
c,b){0==a.css("opacity")&&(a.removeClass("nanogalleryHideElement"),g.thumbnailDisplayTransition?"function"==typeof g.fnThumbnailDisplayEffect?g.fnThumbnailDisplayEffect(a,c,0):a.delay(b*k.displayInterval).fadeTo(150,1):a.css({opacity:1}))}function lb(){var a=d.conTn.find(".nanoGalleryThumbnailContainer").filter(function(){return Jb(jQuery(this),k.lazyLoadTreshold)});jQuery(a).each(function(){var a=jQuery(this).find("img");if(jQuery(a).attr("src")==ba){var b=jQuery(this).data("index");jQuery(a).attr("src",
p[b].thumbImg().src)}})}function bc(a,c){if(void 0!=d.conPagin&&(d.conPagin.children().remove(),"auto"!=k.settings.height[H][I]&&"auto"!=k.settings.width[H][I])){d.conPagin.data("galleryIdx",a);d.conPagin.data("currentPageNumber",c);var b=0,e=0;if(0<c){var l=jQuery('<div class="paginationPrev">'+R.paginationPrevious+"</div>").appendTo(d.conPagin),e=e+jQuery(l).outerWidth(!0);l.click(function(a){zb()})}l=0;0<T&&"auto"!=k.settings.height[H][I]&&"auto"!=k.settings.width[H][I]&&(b=Math.ceil(p[a].contentLength/
(T*ia)));5<=c?(l=c-5,b>c+6&&(b=c+6)):10<b&&(b=10);if(1!=b){for(;l<b;l++){var g="";l==c&&(g=" currentPage");g=jQuery('<div class="paginationItem'+g+'">'+(l+1)+"</div>").appendTo(d.conPagin);g.data("pageNumber",l);e+=g.outerWidth(!0);g.click(function(a){a=d.conPagin.data("galleryIdx");var b=jQuery(this).data("pageNumber");ta(d.base,0)||$("html, body").animate({scrollTop:d.base.offset().top},200);ua(a,b)})}c+1<b&&(b=jQuery('<div class="paginationNext">'+R.paginationNext+"</div>").appendTo(d.conPagin),
e+=b.outerWidth(!0),b.click(function(a){Ab()}));d.conPagin.width(e)}}}function Ab(){var a=d.conPagin.data("galleryIdx"),c=0;0<T&&(c=p[a].contentLength/(T*ia));n2=Math.ceil(c);c=d.conPagin.data("currentPageNumber");c<n2-1?c++:c=0;ta(d.base,0)||$("html, body").animate({scrollTop:d.base.offset().top},200);ua(a,c)}function zb(){var a=d.conPagin.data("galleryIdx"),c=0;0<T&&(c=p[a].contentLength/(T*ia));n2=Math.ceil(c);c=d.conPagin.data("currentPageNumber");0<c?c--:c=n2-1;ta(d.base,0)||$("html, body").animate({scrollTop:d.base.offset().top},
200);ua(a,c)}function ua(a,c){Ta=-1;d.conTn.parent().animate({opacity:0},100).promise().done(function(){d.conTn.off().empty();for(var b=p.length,e=0;e<b;e++)p[e].hovered=!1;d.conTnParent.css({left:0,opacity:1});A(d.conTn[0],0);cc(a,c,dc)})}function cc(a,c,b){if(-1!=a&&void 0!=p[a]){p[a].paginationLastPage=c;p[a].paginationLastWidth=d.conTnParent.width();var e=p.length,l=0,f=0,h=0;0<T&&"auto"!=k.settings.height[H][I]&&"auto"!=k.settings.width[H][I]&&(h=c*T*ia);oa();var u=!1,y=!1,q=0;(function(){for(var C=
0;100>C;C++){if(q>=e){b(a,c);return}var v=p[q];if(v.albumID==p[a].GetID()){f++;if(0<T&&"auto"!=k.settings.height[H][I]&&"auto"!=k.settings.width[H][I]&&l+1>T*ia){b(a,c);return}if(f>h){l++;var r=Bb(v,q,0,!1);mb(r,v);$p=r.detach();$p.css({opacity:0});$p.appendTo(d.conTn);g.thumbnailLazyLoad&&!u&&(Jb(r,k.lazyLoadTreshold)?(r.find("img").attr("src",v.thumbImg().src),y=!0):y&&(u=!0));Kb(r);ob(r)}}q++}q<e?setTimeout(arguments.callee,0):b(a,c)})()}}function dc(a,c){Ia();bc(a,c);Ta=a}function Bb(a,c,b,e){var l=
[],k=0,f="",h=" nanogalleryHideElement";g.thumbnailLazyLoad&&"auto"==t()&&(f="top:0px;left:0px;",h="");l[k++]='<div class="nanoGalleryThumbnailContainer'+h+'" style="display:block,opacity:'+b+";"+f+'" ><div class="subcontainer" style="display:block;">';f="";f=g.thumbnailLazyLoad?ba:a.thumbImg().src;b=!1;"auto"==F()?(l[k++]='<div class="imgContainer" style="width:'+t()+'px;"><img class="image" src='+f+' alt=" " style="max-width:'+t()+'px;"></div>',0==p[c].thumbImg().height&&(b=!0)):"auto"==t()?(l[k++]=
'<div class="imgContainer" style="height:'+F()+'px;"><img class="image" src='+f+' alt=" " style="max-height:'+F()+'px;" ></div>',0==p[c].thumbImg().width&&(b=!0)):l[k++]='<div class="imgContainer" style="width:'+t()+"px;height:"+F()+'px;"><img class="image" src='+f+' alt=" " style="max-width:'+t()+"px;max-height:"+F()+'px;" ></div>';f=ec(a);h=fc(a);if("album"==a.kind){if(!0==g.thumbnailLabel.display){if(0<a.contentLength)switch(g.thumbnailLabel.itemsCount){case "title":f+=" "+R.thumbnailLabelItemsCountPart1+
a.contentLength+R.thumbnailLabelItemsCountPart2;break;case "description":h+=" "+R.thumbnailLabelItemsCountPart1+a.contentLength+R.thumbnailLabelItemsCountPart2}l[k++]='<div class="labelImage" style="width:'+t()+'px;"><div class="labelFolderTitle labelTitle" >'+f+'</div><div class="labelDescription" >'+h+"</div></div>"}}else!0==g.thumbnailLabel.display&&(e&&0==h.length&&"onBottom"==g.thumbnailLabel.position&&(h="&nbsp;"),l[k++]='<div class="labelImage" style="width:'+t()+'px;"><div class="labelImageTitle labelTitle" >'+
f+'</div><div class="labelDescription" >'+h+"</div></div>");l[k++]="</div></div>";e=jQuery(l.join("")).appendTo(d.conTnHid);a.$elt=e;e.data("index",c);e.find("img").data("index",c);gc(e,a);if(b)ngimagesLoaded(e).on("always",function(a){var b=p[jQuery(a.images[0].img).data("index")];if(void 0!=b&&jQuery(a.images[0].img).attr("src")!=ba){var c=!1;b.thumbImg().height!=a.images[0].img.naturalHeight&&(b.thumbImgHeight=a.images[0].img.naturalHeight,b.thumbImgWidth=a.images[0].img.naturalWidth,b.thumbSetImgHeight(a.images[0].img.naturalHeight),
b.thumbSetImgWidth(a.images[0].img.naturalWidth),c=!0);b.thumbImg().width!=a.images[0].img.naturalWidth&&(b.thumbImgHeight=a.images[0].img.naturalHeight,b.thumbImgWidth=a.images[0].img.naturalWidth,b.thumbSetImgHeight(a.images[0].img.naturalHeight),b.thumbSetImgWidth(a.images[0].img.naturalWidth),c=!0);c&&(mb(b.$elt,b),ob(b.$elt),Ia())}});return e}function ec(a){a=a.title;if(!0==g.thumbnailLabel.display){if(void 0===a||0==a.length)a="&nbsp;";""!=R.thumbnailImageTitle&&(a=R.thumbnailImageTitle);3<
g.thumbnailLabel.titleMaxLength&&a.length>g.thumbnailLabel.titleMaxLength&&(a=a.substring(0,g.thumbnailLabel.titleMaxLength)+"...")}return a}function fc(a){var c="";!0==g.thumbnailLabel.displayDescription&&(c="album"==a.kind?""!=R.thumbnailImageDescription?R.thumbnailAlbumDescription:a.description:""!=R.thumbnailImageDescription?R.thumbnailImageDescription:a.description,3<g.thumbnailLabel.descriptionMaxLength&&c.length>g.thumbnailLabel.descriptionMaxLength&&(c=c.substring(0,g.thumbnailLabel.descriptionMaxLength)+
"..."));return c}function mb(a,c){if("auto"==F()){if(0<c.thumbImg().height){var b=c.thumbImg().height/c.thumbImg().width;a.find(".imgContainer").height(t()*b);"onBottom"==g.thumbnailLabel.position?(c.thumbLabelHeight=a.find(".labelImage").outerHeight(!0),c.thumbFullHeight=t()*b+c.thumbLabelHeight+k.borderHeight+k.imgcBorderHeight,a.width(O()-k.borderWidth).height(c.thumbFullHeight-k.borderHeight),a.find(".labelImage").css({position:"absolute",top:"",bottom:"0px"})):(c.thumbFullHeight=t()*b+c.thumbLabelHeight+
k.borderHeight+k.imgcBorderHeight,a.width(O()-k.borderWidth).height(c.thumbFullHeight-k.borderHeight))}c.thumbFullWidth=O();a.find(".subcontainer").width(O()-k.borderWidth).height(c.thumbFullHeight-k.borderHeight)}else"auto"!=t()&&(c.thumbFullHeight=Z(),c.thumbFullWidth=O(),a.width(c.thumbFullWidth-k.borderWidth).height(c.thumbFullHeight-k.borderHeight),a.find(".subcontainer").width(c.thumbFullWidth-k.borderWidth).height(c.thumbFullHeight-k.borderHeight))}function gc(a,c){if("function"==typeof g.fnThumbnailInit)g.fnThumbnailInit(a,
c,s());else switch(g.thumbnailLabel.position){case "onBottom":a.find(".labelImage").css({top:0,position:"relative",left:0,right:0});"auto"==F()?(a.find(".labelImageTitle").css({"white-space":"normal"}),a.find(".labelFolderTitle").css({"white-space":"normal"}),a.find(".labelDescription").css({"white-space":"normal"})):(a.find(".labelImageTitle").css({"white-space":"nowrap"}),a.find(".labelFolderTitle").css({"white-space":"nowrap"}),a.find(".labelDescription").css({"white-space":"nowrap"}));break;case "overImageOnTop":a.find(".labelImage").css({top:0,
bottom:0,left:0,right:0});break;case "overImageOnMiddle":a.find(".labelImage").css({top:0,bottom:0,left:0,right:0});a.find(".labelFolderTitle").css({left:0,right:0,position:"absolute",bottom:"50%"});a.find(".labelImageTitle").css({left:0,right:0,position:"absolute",bottom:"50%"});a.find(".labelDescription").css({left:0,right:0,position:"absolute",top:"50%"});break;default:g.thumbnailLabel.position="overImageOnBottom",a.find(".labelImage").css({bottom:0,left:0,right:0})}}function cb(a){void 0!=a&&
(aa=null,void 0!==p[a].destinationURL&&0<p[a].destinationURL.length?window.location=p[a].destinationURL:(la=!1,"album"==p[a].kind?ra(a,!1,-1,!0):sa(a,!1)))}function Ca(){for(var a=p.length,c=0;c<a;c++)p[c].hovered&&bb(p[c].$elt)}function Kb(a){var c=a.data("index");if(void 0!=c){var b=p[c];"function"==typeof g.fnThumbnailHoverInit&&g.fnThumbnailHoverInit(a,b,s());for(var e in b.eltTransform)delete b.eltTransform[e];for(j=0;j<D.length;j++)switch(D[j].name){case "imageSplit4":e=a.find(".subcontainer");
var c=a.find(".labelImage"),l=a.find(".imgContainer");a.find(".imgContainer").css({position:"absolute"});e.css({overflow:"hidden",position:"relative",width:"100%",height:"100%"});e.prepend(l.clone());e.prepend(a.find(".imgContainer").clone());l=a.find(".imgContainer");M("",l);B(b,"imgContainer0",l.eq(0));w(b,"imgContainer0");B(b,"imgContainer1",l.eq(1));w(b,"imgContainer1");B(b,"imgContainer2",l.eq(2));w(b,"imgContainer2");B(b,"imgContainer3",l.eq(3));w(b,"imgContainer3");break;case "imageSplitVert":e=
a.find(".subcontainer");l=a.find(".imgContainer");l.css({position:"absolute"});e.css({overflow:"hidden",position:"relative"});e.prepend(l.clone());l=a.find(".imgContainer");M("",l);B(b,"imgContainer0",l.eq(0));w(b,"imgContainer0");B(b,"imgContainer1",l.eq(1));w(b,"imgContainer1");break;case "labelSplit4":e=a.find(".subcontainer");c=a.find(".labelImage").css({top:0,bottom:0});e.css({overflow:"hidden",position:"relative"});c.clone().appendTo(e);a.find(".labelImage").clone().appendTo(e);c=a.find(".labelImage");
B(b,"labelImage0",c.eq(0));w(b,"labelImage0");B(b,"labelImage1",c.eq(1));w(b,"labelImage1");B(b,"labelImage2",c.eq(2));w(b,"labelImage2");B(b,"labelImage3",c.eq(3));w(b,"labelImage3");break;case "labelSplitVert":e=a.find(".subcontainer");c=a.find(".labelImage");e.css({overflow:"hidden",position:"relative"});c.clone().appendTo(e);c=a.find(".labelImage");B(b,"labelImage0",c.eq(0));w(b,"labelImage0");B(b,"labelImage1",c.eq(1));w(b,"labelImage1");break;case "labelAppearSplit4":e=a.find(".subcontainer");
c=a.find(".labelImage");c.css({left:0,top:0,right:0,bottom:0});e.css({overflow:"hidden",position:"relative"});c.clone().appendTo(e);a.find(".labelImage").clone().appendTo(e);c=a.find(".labelImage");e=B(b,"labelImage0",c.eq(0));e.translateX=-b.thumbFullWidth/2;e.translateY=-b.thumbFullHeight/2;w(b,"labelImage0");e=B(b,"labelImage1",c.eq(1));e.translateX=b.thumbFullWidth/2;e.translateY=-b.thumbFullHeight/2;w(b,"labelImage1");e=B(b,"labelImage2",c.eq(2));e.translateX=b.thumbFullWidth/2;e.translateY=
b.thumbFullHeight/2;w(b,"labelImage2");e=B(b,"labelImage3",c.eq(3));e.translateX=-b.thumbFullWidth/2;e.translateY=b.thumbFullHeight/2;w(b,"labelImage3");break;case "labelAppearSplitVert":e=a.find(".subcontainer");c=a.find(".labelImage");e.css({overflow:"hidden",position:"relative"});c.clone().appendTo(e);c=a.find(".labelImage");B(b,"labelImage0",c.eq(0)).translateX=-b.thumbFullWidth/2;w(b,"labelImage0");B(b,"labelImage1",c.eq(1)).translateX=b.thumbFullWidth/2;w(b,"labelImage1");break;case "imageScale150Outside":d.base.css({overflow:"visible"});
d.conTn.css({overflow:"visible"});a.css({overflow:"visible"});a.find(".subcontainer").css({overflow:"visible"});a.find(".imgContainer").css({overflow:"visible"});B(b,"img0",a.find("img"));w(b,"img0");M(a.find(".imgContainer"),a.find(".labelImage"));break;case "scale120":d.base.css({overflow:"visible"});d.conTn.css({overflow:"visible"});B(b,"base",a);w(b,"base");break;case "scaleLabelOverImage":e=a.find(".imgContainer");c=a.find(".labelImage");M(e,c);a.find(".labelImage").css({opacity:0});B(b,"labelImage0",
c).scale=50;w(b,"labelImage0");B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "overScale":a.css({overflow:"hidden"});e=a.find(".imgContainer");c=a.find(".labelImage");M("",c);c.css({opacity:0});e.css({opacity:1});B(b,"labelImage0",c).scale=150;w(b,"labelImage0");B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "overScaleOutside":d.base.css({overflow:"visible"});d.conTn.css({overflow:"visible"});a.css({overflow:"visible"});e=a.find(".imgContainer");c=a.find(".labelImage");M("",c);c.css({opacity:0});
e.css({opacity:1});B(b,"labelImage0",c).scale=150;w(b,"labelImage0");B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "rotateCornerBL":a.css({overflow:"hidden"});e=a.find(".labelImage");e.css({opacity:1});e[0].style[ha+"Origin"]="100% 100%";B(b,"labelImage0",e).rotateZ=-90;w(b,"labelImage0");e=a.find(".imgContainer");e[0].style[ha+"Origin"]="100% 100%";B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "rotateCornerBR":a.css({overflow:"hidden"});e=a.find(".labelImage");e.css({opacity:1});
e[0].style[ha+"Origin"]="0% 100%";B(b,"labelImage0",e).rotateZ=90;w(b,"labelImage0");e=a.find(".imgContainer");e[0].style[ha+"Origin"]="0 100%";B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "imageRotateCornerBL":e=a.find(".imgContainer");M(a,e);a.css({overflow:"hidden"});a.find(".labelImage").css({opacity:1});e[0].style[ha+"Origin"]="bottom right";B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "imageRotateCornerBR":e=a.find(".imgContainer");M(a,e);a.css({overflow:"hidden"});a.find(".labelImage").css({opacity:1});
e[0].style[ha+"Origin"]="0 100%";B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "slideUp":a.css({overflow:"hidden"});e=a.find(".labelImage");e.css({opacity:1,top:0});B(b,"labelImage0",e).translateY=b.thumbFullHeight;w(b,"labelImage0");e=a.find(".imgContainer");e.css({left:0,top:0});B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "slideDown":a.css({overflow:"hidden"});e=a.find(".labelImage");e.css({opacity:1,top:0});B(b,"labelImage0",e).translateY=-b.thumbFullHeight;w(b,"labelImage0");
e=a.find(".imgContainer");e.css({left:0,top:0});B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "slideRight":a.css({overflow:"hidden"});e=a.find(".labelImage");e.css({opacity:1,top:0});B(b,"labelImage0",e).translateX=-b.thumbFullWidth;w(b,"labelImage0");e=a.find(".imgContainer");e.css({left:0,top:0});B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "slideLeft":a.css({overflow:"hidden"});e=a.find(".labelImage");e.css({opacity:1,top:0});B(b,"labelImage0",e).translateX=b.thumbFullWidth;
w(b,"labelImage0");e=a.find(".imgContainer");e.css({left:0,top:0});B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "imageSlideUp":case "imageSlideDown":case "imageSlideRight":case "imageSlideLeft":e=a.find(".imgContainer");M(a,e);a.css({overflow:"visible"});a.find(".labelImage").css({opacity:1});e.css({left:0,top:0});B(b,"imgContainer0",e);w(b,"imgContainer0");break;case "labelAppear":case "labelAppear75":var f="rgb("+G.oldLabelRed+","+G.oldLabelGreen+","+G.oldLabelBlue+",0)";a.find(".labelImage").css({backgroundColor:f});
a.find(".labelImageTitle").css({opacity:0});a.find(".labelFolderTitle").css({opacity:0});a.find(".labelDescription").css({opacity:0});break;case "descriptionAppear":a.find(".labelDescription").css({opacity:0});break;case "labelSlideUpTop":a.css({overflow:"hidden"});a.find(".labelImage").css({top:0,bottom:0});B(b,"labelImage0",a.find(".labelImage")).translateY=b.thumbFullHeight;w(b,"labelImage0");break;case "labelSlideUp":a.css({overflow:"hidden"});B(b,"labelImage0",a.find(".labelImage")).translateY=
b.thumbFullHeight;w(b,"labelImage0");break;case "labelSlideDown":a.css({overflow:"hidden"});B(b,"labelImage0",a.find(".labelImage")).translateY=-b.thumbFullHeight;w(b,"labelImage0");break;case "descriptionSlideUp":a.css({overflow:"hidden"});c="album"==b.kind?a.find(".labelFolderTitle").outerHeight(!0):a.find(".labelImageTitle").outerHeight(!0);a.find(".labelDescription").css({opacity:0});a.find(".labelImage").css({height:c});B(b,"labelImage0",a.find(".labelImage"));w(b,"labelImage0");break;case "imageExplode":M("",
a);M(a.find(".labelImage"),a.find(".imgContainer"));e=a.find(".subcontainer");for(var c=7,l=a.find(".imgContainer"),h=l.outerWidth(!0)/c,u=l.outerHeight(!0),u=l.outerHeight(!0)/c,q=0;q<c;q++)for(f=0;f<c;f++){var y="rect("+u*q+"px, "+h*(f+1)+"px, "+u*(q+1)+"px, "+h*f+"px)";l.clone().appendTo(e).css({top:0,scale:1,clip:y,left:0,position:"absolute"}).data("ngScale",1)}l.remove();break;case "imageFlipHorizontal":switch(g.thumbnailLabel.position){case "overImageOnTop":a.find(".labelImage").css({top:-k.imgcBorderHeight/
2,bottom:k.imgcBorderWidth/2,left:0,right:0});break;case "overImageOnMiddle":a.find(".labelImage").css({top:-k.imgcBorderHeight/2,bottom:k.imgcBorderWidth/2,left:0,right:0});break;default:a.find(".labelImage").css({bottom:k.imgcBorderWidth/2,left:0,right:0})}d.base.css({overflow:"visible"});d.conTn.css({overflow:"visible"});a.css({overflow:"visible"});M("",a);M(a.find(".labelImage"),a.find(".imgContainer"));e=a.find(".subcontainer");e.css({overflow:"visible"});e[0].style[Lb]="preserve-3d";c=Math.round(1.2*
b.thumbFullHeight)+"px";e[0].style[Ua]=c;e=a.find(".imgContainer");e[0].style[va]="hidden";B(b,"imgContainer0",e);w(b,"imgContainer0");a.find(".image")[0].style[va]="hidden";e=a.find(".labelImage");e[0].style[va]="hidden";B(b,"labelImage0",e).rotateX=180;w(b,"labelImage0");break;case "imageFlipVertical":switch(g.thumbnailLabel.position){case "overImageOnTop":a.find(".labelImage").css({top:-k.imgcBorderHeight/2,bottom:k.imgcBorderWidth/2,left:0,right:0});break;case "overImageOnMiddle":a.find(".labelImage").css({top:-k.imgcBorderHeight/
2,bottom:k.imgcBorderWidth/2,left:0,right:0});break;default:a.find(".labelImage").css({bottom:k.imgcBorderWidth/2,left:0,right:0})}d.base.css({overflow:"visible"});d.conTn.css({overflow:"visible"});a.css({overflow:"visible"});M("",a);M(a.find(".labelImage"),a.find(".imgContainer"));e=a.find(".subcontainer");e.css({overflow:"visible"});e[0].style[Lb]="preserve-3d";c=Math.round(1.2*b.thumbFullWidth)+"px";e[0].style[Ua]=c;e=a.find(".imgContainer");e[0].style[va]="hidden";B(b,"imgContainer0",e);w(b,"imgContainer0");
a.find(".image")[0].style[va]="hidden";e=a.find(".labelImage");e[0].style[va]="hidden";B(b,"labelImage0",e).rotateY=180;w(b,"labelImage0");break;case "imageScale150":a.css({overflow:"hidden"});B(b,"img0",a.find("img"));w(b,"img0");break;case "imageScaleIn80":a.css({overflow:"hidden"});B(b,"img0",a.find("img")).scale=120;w(b,"img0");break;case "imageSlide2Up":case "imageSlide2Down":case "imageSlide2Left":case "imageSlide2Right":case "imageSlide2UpRight":case "imageSlide2UpLeft":case "imageSlide2DownRight":case "imageSlide2DownLeft":a.css({overflow:"hidden"});
b.customData.hoverEffectRDir=D[j].name;pb(a,b);break;case "imageSlide2Random":a.css({overflow:"hidden"}),c="imageSlide2Up imageSlide2Down imageSlide2Left imageSlide2Left imageSlide2UpRight imageSlide2UpLeft imageSlide2DownRight imageSlide2DownLeft".split(" "),b.customData.hoverEffectRDir=c[Math.floor(Math.random()*c.length)],pb(a,b)}b.hoverInitDone=!0}}function pb(a,c){var b=c.thumbFullWidth,e=c.thumbFullHeight,d=B(c,"img0",a.find("img"));d.scale=140;switch(c.customData.hoverEffectRDir){case "imageSlide2Up":d.translateY=
c.thumbFullHeight<1.4*c.thumbImg().height?(1.4*c.thumbImg().height-c.thumbFullHeight)/2:0;d.translateX=c.thumbFullWidth<1.4*c.thumbImg().width?-(1.4*c.thumbImg().width-c.thumbFullWidth)/2:0;break;case "imageSlide2Down":e=c.thumbFullHeight<1.4*c.thumbImg().height?Math.min((1.4*c.thumbImg().height-c.thumbFullHeight)/2*.1,.1*e):0;d.translateY=-e;b=c.thumbFullWidth<1.4*c.thumbImg().width?Math.min((1.4*c.thumbImg().width-c.thumbFullWidth)/2*.1,.1*b):0;d.translateX=b;break;case "imageSlide2Left":d.translateY=
.1*-e;d.translateX=.1*b;break;case "imageSlide2Right":d.translateY=.1*-e;d.translateX=.1*-b;break;case "imageSlide2UpRight":d.translateY=.05*e;d.translateX=.05*-b;break;case "imageSlide2UpLeft":d.translateY=.05*e;d.translateX=.05*b;break;case "imageSlide2DownRight":d.translateY=.05*-e;d.translateX=.05*-b;break;case "imageSlide2DownLeft":d.translateY=.05*-e,d.translateX=.05*b}w(c,"img0")}function ob(a){var c=a.data("index");if(void 0!=c){var b=p[c];if(b.hoverInitDone)for("function"==typeof g.fnThumbnailHoverResize&&
g.fnThumbnailHoverResize(a,b,s()),j=0;j<D.length;j++)switch(D[j].name){case "imageSplit4":var c=b.thumbFullWidth-k.borderWidth-k.imgcBorderWidth,e=b.thumbFullHeight-k.borderHeight-k.imgcBorderHeight,d=a.find(".imgContainer"),f="rect(0px, "+Math.ceil(c/2)+"px, "+Math.ceil(e/2)+"px, 0px)";d.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+Math.ceil(e/2)+"px, "+Math.ceil(c/2)+"px)";d.eq(1).css({clip:f});f="rect("+Math.ceil(e/2)+"px, "+c+"px, "+e+"px, "+Math.ceil(c/2)+"px)";d.eq(2).css({clip:f});f="rect("+
Math.ceil(e/2)+"px, "+Math.ceil(c/2)+"px, "+e+"px, 0px)";d.eq(3).css({clip:f});break;case "imageSplitVert":d=a.find(".imgContainer");c=b.thumbFullWidth-k.borderWidth-k.imgcBorderWidth;e=b.thumbFullHeight-k.borderHeight-k.imgcBorderHeight;f="rect(0px, "+Math.ceil(c/2)+"px, "+e+"px, 0px)";d.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+e+"px, "+Math.ceil(c/2)+"px)";d.eq(1).css({clip:f});break;case "labelSplit4":c=b.thumbFullWidth-k.borderWidth-k.imgcBorderWidth;e=b.thumbFullHeight-k.borderHeight-k.imgcBorderHeight;
d=a.find(".labelImage");f="rect(0px, "+Math.ceil(c/2)+"px, "+Math.ceil(e/2)+"px, 0px)";d.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+Math.ceil(e/2)+"px, "+Math.ceil(c/2)+"px)";d.eq(1).css({clip:f});f="rect("+Math.ceil(e/2)+"px, "+c+"px, "+e+"px, "+Math.ceil(c/2)+"px)";d.eq(2).css({clip:f});f="rect("+Math.ceil(e/2)+"px, "+Math.ceil(c/2)+"px, "+e+"px, 0px)";d.eq(3).css({clip:f});break;case "labelSplitVert":c=b.thumbFullWidth-k.borderWidth-k.imgcBorderWidth;e=b.thumbFullHeight-k.borderHeight-k.imgcBorderHeight;
d=a.find(".labelImage");f="rect(0px, "+Math.ceil(c/2)+"px, "+e+"px, 0px)";d.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+e+"px, "+Math.ceil(c/2)+"px)";d.eq(1).css({clip:f});break;case "labelAppearSplit4":c=b.thumbFullWidth-k.borderWidth-k.imgcBorderWidth;e=b.thumbFullHeight-k.borderHeight-k.imgcBorderHeight;d=a.find(".labelImage");f="rect(0px, "+Math.ceil(c/2)+"px, "+Math.ceil(e/2)+"px, 0px)";d.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+Math.ceil(e/2)+"px, "+Math.ceil(c/2)+"px)";d.eq(1).css({clip:f});
f="rect("+Math.ceil(e/2)+"px, "+c+"px, "+e+"px, "+Math.ceil(c/2)+"px)";d.eq(2).css({clip:f});f="rect("+Math.ceil(e/2)+"px, "+Math.ceil(c/2)+"px, "+e+"px, 0px)";d.eq(3).css({clip:f});b.eltTransform.labelImage0.translateX=-b.thumbFullWidth/2;b.eltTransform.labelImage0.translateY=-b.thumbFullHeight/2;w(b,"labelImage0");b.eltTransform.labelImage1.translateX=b.thumbFullWidth/2;b.eltTransform.labelImage1.translateY=-b.thumbFullHeight/2;w(b,"labelImage1");b.eltTransform.labelImage2.translateX=b.thumbFullWidth/
2;b.eltTransform.labelImage2.translateY=b.thumbFullHeight/2;w(b,"labelImage2");b.eltTransform.labelImage3.translateX=-b.thumbFullWidth/2;b.eltTransform.labelImage3.translateY=b.thumbFullHeight/2;w(b,"labelImage3");break;case "labelAppearSplitVert":c=b.thumbFullWidth-k.borderWidth-k.imgcBorderWidth;e=b.thumbFullHeight-k.borderHeight-k.imgcBorderHeight;d=a.find(".labelImage");f="rect(0px, "+Math.ceil(c/2)+"px, "+e+"px, 0px)";d.eq(0).css({clip:f});f="rect(0px, "+c+"px, "+e+"px, "+Math.ceil(c/2)+"px)";
d.eq(1).css({clip:f});b.eltTransform.labelImage0.translateX=-b.thumbFullWidth/2;w(b,"labelImage0");b.eltTransform.labelImage1.translateX=b.thumbFullWidth/2;w(b,"labelImage1");break;case "slideUp":b.eltTransform.labelImage0.translateY=b.thumbFullHeight;w(b,"labelImage0");break;case "slideDown":b.eltTransform.labelImage0.translateY=-b.thumbFullHeight;w(b,"labelImage0");break;case "slideRight":b.eltTransform.labelImage0.translateX=-b.thumbFullWidth;w(b,"labelImage0");break;case "slideLeft":b.eltTransform.labelImage0.translateX=
b.thumbFullWidth;w(b,"labelImage0");break;case "imageExplode":a.find(".subcontainer");d=a.find(".imgContainer");c=Math.sqrt(d.length);d.eq(0).outerWidth(!0);d.eq(0).outerHeight(!0);for(e=0;e<c;e++)for(d=0;d<c;d++);break;case "imageFlipHorizontal":e=a.find(".subcontainer");c=Math.round(1.2*b.thumbFullHeight)+"px";e[0].style[Ua]=c;break;case "imageFlipVertical":e=a.find(".subcontainer");c=Math.round(1.2*b.thumbFullWidth)+"px";e[0].style[Ua]=c;break;case "imageSlide2Up":case "imageSlide2Down":case "imageSlide2Left":case "imageSlide2Right":case "imageSlide2UpRight":case "imageSlide2UpLeft":case "imageSlide2DownRight":case "imageSlide2DownLeft":case "imageSlide2Random":pb(a,
b);break;case "slideUp":b.eltTransform.labelImage0.translateY=b.thumbFullHeight;w(b,"labelImage0");break;case "slideDown":b.eltTransform.labelImage0.translateY=-b.thumbFullHeight;w(b,"labelImage0");break;case "slideRight":b.eltTransform.labelImage0.translateX=-b.thumbFullWidth;w(b,"labelImage0");break;case "slideLeft":b.eltTransform.labelImage0.translateX=b.thumbFullWidth;w(b,"labelImage0");break;case "labelSlideUpTop":case "labelSlideUp":b.eltTransform.labelImage0.translateY=b.thumbFullHeight;w(b,
"labelImage0");break;case "labelSlideDown":a.css({overflow:"hidden"}),b.eltTransform.labelImage0.translateY=-b.thumbFullHeight,w(b,"labelImage0")}else Kb(a)}}function B(a,c,b){void 0==a.eltTransform[c]&&(a.eltTransform[c]={translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,scale:100},a.eltTransform[c].$elt=b);return a.eltTransform[c]}function w(a,c){var b=a.eltTransform[c],e="translateX("+b.translateX+"px) translateY("+b.translateY+"px) scale("+b.scale/100+")",e=9>=hc||ic?e+(" rotate("+b.rotateZ+
"deg)"):e+(" rotateX("+b.rotateX+"deg) rotateY("+b.rotateY+"deg) rotateZ("+b.rotateZ+"deg)");b.$elt[0].style[ha]=e}function v(a,c,b,e,d){var g="translateX translateY scale rotateX rotateY rotateZ".split(" ");if("animate"==E)for(var f=0;f<g.length;f++){var k=g[f];if(void 0!==b[k]){var p={v:parseInt(e.eltTransform[d][k]),item:e,tf:k,eltClass:d,to:parseInt(b[k])},h={v:parseInt(b[k])};0<D[c].delay?jQuery(p).delay(D[c].delay).animate(h,{duration:D[c].duration,easing:D[c].easing,queue:!1,step:function(a){this.item.hovered&&
(e.eltTransform[this.eltClass][this.tf]=a,w(this.item,this.eltClass))},complete:function(){this.item.hovered&&(e.eltTransform[this.eltClass][this.tf]=this.to,w(this.item,this.eltClass))}}):jQuery(p).animate(h,{duration:D[c].duration,easing:D[c].easing,queue:!1,step:function(a){this.item.hovered&&(e.eltTransform[this.eltClass][this.tf]=a,w(this.item,this.eltClass))},complete:function(){this.item.hovered&&(e.eltTransform[this.eltClass][this.tf]=this.to,w(this.item,this.eltClass))}});delete b[k]}}if(0!=
b.length)if(0<D[c].delay)if("transition"==E)a.delay(D[c].delay)[E](b,D[c].duration,D[c].easing);else a.delay(D[c].delay)[E](b,{duration:D[c].duration,easing:D[c].easing,queue:!1});else if("transition"==E)a[E](b,D[c].duration,D[c].easing);else a[E](b,{duration:D[c].duration,easing:D[c].easing,queue:!1})}function $a(a){var c=a.data("index");if(void 0!=c){"velocity"==E?a.find("*").velocity("stop",!0):a.find("*").stop(!0,!1);var b=p[c];b.hovered=!0;var e="animate"==E?1:100;"function"==typeof g.fnThumbnailHover&&
g.fnThumbnailHover(a,b,s());try{for(j=0;j<D.length;j++)switch(D[j].name){case "imageSplit4":var d=a.find(".imgContainer");v(d.eq(0),j,{translateX:-b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"imgContainer0");v(d.eq(1),j,{translateX:b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"imgContainer1");v(d.eq(2),j,{translateX:b.thumbFullWidth/2,translateY:b.thumbFullHeight/2},b,"imgContainer2");v(d.eq(3),j,{translateX:-b.thumbFullWidth/2,translateY:b.thumbFullHeight/2},b,"imgContainer3");
break;case "imageSplitVert":d=a.find(".imgContainer");v(d.eq(0),j,{translateX:-b.thumbFullWidth/2},b,"imgContainer0");v(d.eq(1),j,{translateX:b.thumbFullWidth/2},b,"imgContainer1");break;case "labelSplit4":d=a.find(".labelImage");v(d.eq(0),j,{translateX:-b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"labelImage0");v(d.eq(1),j,{translateX:b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"labelImage1");v(d.eq(2),j,{translateX:b.thumbFullWidth/2,translateY:b.thumbFullHeight/2},b,"labelImage2");
v(d.eq(3),j,{translateX:-b.thumbFullWidth/2,translateY:b.thumbFullHeight/2},b,"labelImage3");break;case "labelSplitVert":d=a.find(".labelImage");v(d.eq(0),j,{translateX:-b.thumbFullWidth/2},b,"labelImage0");v(d.eq(1),j,{translateX:b.thumbFullWidth/2},b,"labelImage1");break;case "labelAppearSplit4":d=a.find(".labelImage");v(d.eq(0),j,{translateX:0,translateY:0},b,"labelImage0");v(d.eq(1),j,{translateX:0,translateY:0},b,"labelImage1");v(d.eq(2),j,{translateX:0,translateY:0},b,"labelImage2");v(d.eq(3),
j,{translateX:0,translateY:0},b,"labelImage3");break;case "labelAppearSplitVert":d=a.find(".labelImage");v(d.eq(0),j,{translateX:0},b,"labelImage0");v(d.eq(1),j,{translateX:0},b,"labelImage1");break;case "scaleLabelOverImage":v(a.find(".labelImage"),j,{scale:100/e,opacity:1},b,"labelImage0");v(a.find(".imgContainer"),j,{scale:50/e},b,"imgContainer0");break;case "overScale":case "overScaleOutside":v(a.find(".labelImage"),j,{opacity:1,scale:100/e},b,"labelImage0");v(a.find(".imgContainer"),j,{opacity:0,
scale:50/e},b,"imgContainer0");break;case "imageInvisible":v(a.find(".imgContainer"),j,{opacity:0},b);break;case "rotateCornerBL":var f="transition"==E?{rotate:"0deg"}:{rotateZ:"0"};v(a.find(".labelImage"),j,f,b,"labelImage0");f="transition"==E?{rotate:"90deg"}:{rotateZ:"90"};v(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "rotateCornerBR":f="transition"==E?{rotate:"0deg"}:{rotateZ:"0"};v(a.find(".labelImage"),j,f,b,"labelImage0");f="transition"==E?{rotate:"-90deg"}:{rotateZ:"-90"};v(a.find(".imgContainer"),
j,f,b,"imgContainer0");break;case "imageRotateCornerBL":f="transition"==E?{rotate:"90deg"}:{rotateZ:"90"};v(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "imageRotateCornerBR":f="transition"==E?{rotate:"-90deg"}:{rotateZ:"-90"};v(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "slideUp":v(a.find(".imgContainer"),j,{translateY:-b.thumbFullHeight},b,"imgContainer0");v(a.find(".labelImage"),j,{translateY:0},b,"labelImage0");break;case "slideDown":v(a.find(".imgContainer"),j,{translateY:b.thumbFullHeight},
b,"imgContainer0");v(a.find(".labelImage"),j,{translateY:0},b,"labelImage0");break;case "slideRight":v(a.find(".imgContainer"),j,{translateX:b.thumbFullWidth},b,"imgContainer0");v(a.find(".labelImage"),j,{translateX:0},b,"labelImage0");break;case "slideLeft":v(a.find(".imgContainer"),j,{translateX:-b.thumbFullWidth},b,"imgContainer0");v(a.find(".labelImage"),j,{translateX:0},b,"labelImage0");break;case "imageSlideUp":v(a.find(".imgContainer"),j,{translateY:-b.thumbFullHeight},b,"imgContainer0");break;
case "imageSlideDown":v(a.find(".imgContainer"),j,{translateY:b.thumbFullHeight},b,"imgContainer0");break;case "imageSlideLeft":v(a.find(".imgContainer"),j,{translateX:-b.thumbFullWidth},b,"imgContainer0");break;case "imageSlideRight":v(a.find(".imgContainer"),j,{translateX:b.thumbFullWidth},b,"imgContainer0");break;case "labelAppear":if("velocity"==E)v(a.find(".labelImage"),j,{backgroundColorRed:G.oldLabelRed,backgroundColorGreen:G.oldLabelGreen,backgroundColorBlue:G.oldLabelBlue,backgroundColorAlpha:1},
b);else{var k="rgba("+G.oldLabelRed+","+G.oldLabelGreen+","+G.oldLabelBlue+",1)";v(a.find(".labelImage"),j,{backgroundColor:k},b)}v(a.find(".labelImageTitle"),j,{opacity:1},b);v(a.find(".labelFolderTitle"),j,{opacity:1},b);v(a.find(".labelDescription"),j,{opacity:1},b);break;case "labelAppear75":"velocity"==E?v(a.find(".labelImage"),j,{backgroundColorRed:G.oldLabelRed,backgroundColorGreen:G.oldLabelGreen,backgroundColorBlue:G.oldLabelBlue,backgroundColorAlpha:.75},b):(k="rgba("+G.oldLabelRed+","+
G.oldLabelGreen+","+G.oldLabelBlue+",0.75)",v(a.find(".labelImage"),j,{backgroundColor:k},b));v(a.find(".labelImageTitle"),j,{opacity:1},b);v(a.find(".labelFolderTitle"),j,{opacity:1},b);v(a.find(".labelDescription"),j,{opacity:1},b);break;case "descriptionAppear":v(a.find(".labelDescription"),j,{opacity:1},b);break;case "labelSlideDown":v(a.find(".labelImage"),j,{translateY:0},b,"labelImage0");break;case "labelSlideUpTop":case "labelSlideUp":v(a.find(".labelImage"),j,{translateY:0},b,"labelImage0");
break;case "descriptionSlideUp":var h="album"==b.kind?a.find(".labelFolderTitle").outerHeight(!0):a.find(".labelImageTitle").outerHeight(!0),u=a.find(".labelDescription").outerHeight(!0),q=b.thumbFullHeight-h-u;0>q&&(q=0);v(a.find(".labelImage"),j,{translateY:0,height:h+u},b,"labelImage0");v(a.find(".labelDescription"),j,{opacity:1},b);break;case "labelOpacity50":v(a.find(".labelImage"),j,{opacity:.5},b);break;case "imageOpacity50":v(a.find(".imgContainer"),j,{opacity:.5},b);break;case "borderLighter":if("velocity"==
E){var y=Va(G.oldBorderColor,.5,!1),C=y.substring(y.indexOf("(")+1,y.lastIndexOf(")")).split(/,\s*/);v(a,j,{borderColorRed:C[0],borderColorGreen:C[1],borderColorBlue:C[2],colorAlpha:C[3]},b)}else v(a,j,{borderColor:Va(G.oldBorderColor,.5,!1)},b);break;case "borderDarker":"velocity"==E?(y=Va(G.oldBorderColor,.5,!0),C=y.substring(y.indexOf("(")+1,y.lastIndexOf(")")).split(/,\s*/),v(a,j,{borderColorRed:C[0],borderColorGreen:C[1],borderColorBlue:C[2],colorAlpha:C[3]},b)):v(a,j,{borderColor:Va(G.oldBorderColor,
.5,!0)},b);break;case "imageScale150":v(a.find("img"),j,{scale:150/e},b,"img0");break;case "imageScaleIn80":v(a.find("img"),j,{scale:100/e},b,"img0");break;case "imageSlide2Up":case "imageSlide2Down":case "imageSlide2Left":case "imageSlide2Right":case "imageSlide2UpRight":case "imageSlide2UpLeft":case "imageSlide2DownRight":case "imageSlide2DownLeft":case "imageSlide2Random":switch(b.customData.hoverEffectRDir){case "imageSlide2Up":var r=b.thumbFullHeight<1.4*b.imgHeight?(1.4*b.imgHeight-b.thumbFullHeight)/
2:0;v(a.find("img"),j,{translateY:-r},b,"img0");break;case "imageSlide2Down":r=b.thumbFullHeight<1.4*b.imgHeight?(1.4*b.imgHeight-b.thumbFullHeight)/2:0;v(a.find("img"),j,{translateY:r},b,"img0");break;case "imageSlide2Left":v(a.find("img"),j,{translateX:.1*-b.thumbFullWidth},b,"img0");break;case "imageSlide2Right":v(a.find("img"),j,{translateX:.1*b.thumbFullWidth},b,"img0");break;case "imageSlide2UpRight":v(a.find("img"),j,{translateY:.05*-b.thumbFullHeight,translateX:.05*b.thumbFullWidth},b,"img0");
break;case "imageSlide2UpLeft":v(a.find("img"),j,{translateY:.05*-b.thumbFullHeight,translateX:.05*-b.thumbFullWidth},b,"img0");break;case "imageSlide2DownRight":v(a.find("img"),j,{translateY:.05*b.thumbFullHeight,translateX:.05*b.thumbFullWidth},b,"img0");break;case "imageSlide2DownLeft":v(a.find("img"),j,{translateY:.05*b.thumbFullHeight,translateX:.05*-b.thumbFullWidth},b,"img0")}break;case "imageScale150Outside":M("",a);v(a.find("img"),j,{scale:150/e},b,"img0");break;case "scale120":M("",a);v(a,
j,{scale:120/e},b,"base");break;case "imageExplode":M("",a);for(var w=a.find(".imgContainer"),c=Math.sqrt(w.length),m=[],x=0;x<=Math.PI;x+=Math.PI/(c-1))m.push(Math.sin(x));for(var t=w.outerWidth(!0)/c,B=w.outerHeight(!0)/c,f=x=0;f<c;f++)for(k=0;k<c;k++)v(w.eq(x++),j,{top:(-B*c/3+B*f-B)*m[k],left:(-t*c/3+t*k-t)*m[f],scale:1.5,opacity:0},b);break;case "imageFlipHorizontal":M("",a);v(a.find(".imgContainer"),j,{rotateX:180},b,"imgContainer0");v(a.find(".labelImage"),j,{rotateX:360},b,"labelImage0");
break;case "imageFlipVertical":M("",a),v(a.find(".imgContainer"),j,{rotateY:180},b,"imgContainer0"),v(a.find(".labelImage"),j,{rotateY:360},b,"labelImage0")}}catch(fb){X("error on hover "+fb.message)}}}function x(a,c,b,e,d){var g="translateX translateY scale rotateX rotateY rotateZ".split(" ");if("animate"==E)for(var f=0;f<g.length;f++){var k=g[f];if(void 0!==b[k]){var p={v:parseInt(e.eltTransform[d][k]),item:e,tf:k,eltClass:d,to:parseInt(b[k])},h={v:parseInt(b[k])};0<D[c].delayBack?jQuery(p).delay(D[c].delayBack).animate(h,
{duration:D[c].durationBack,easing:D[c].easingBack,queue:!1,step:function(a){e.eltTransform[this.eltClass][this.tf]=a;w(this.item,this.eltClass)},complete:function(){e.eltTransform[this.eltClass][this.tf]=this.to;w(this.item,this.eltClass)}}):jQuery(p).animate(h,{duration:D[c].durationBack,easing:D[c].easingBack,queue:!1,step:function(a){e.eltTransform[this.eltClass][this.tf]=a;w(this.item,this.eltClass)},complete:function(){e.eltTransform[this.eltClass][this.tf]=this.to;w(this.item,this.eltClass)}});
delete b[k]}}if(0!=b.length)if(0<D[c].delay)if("transition"==E)a.delay(D[c].delayBack)[E](b,D[c].durationBack,D[c].easingBack);else a.delay(D[c].delayBack)[E](b,{duration:D[c].durationBack,easing:D[c].easingBack,queue:!1});else if("transition"==E)a[E](b,D[c].durationBack,D[c].easingBack);else a[E](b,{duration:D[c].durationBack,easing:D[c].easingBack,queue:!1})}function bb(a){if(!Y){var c=a.data("index");if(void 0!=c){"velocity"==E?a.find("*").velocity("stop",!0):a.find("*").filter(":animated").stop(!0,
!1);var b=p[c];b.hovered=!1;var e="animate"==E?1:100;"function"==typeof g.fnThumbnailHoverOut&&g.fnThumbnailHoverOut(a,b,s());try{for(j=0;j<D.length;j++)switch(D[j].name){case "imageSplit4":var d=a.find(".imgContainer");x(d.eq(0),j,{translateX:0,translateY:0},b,"imgContainer0");x(d.eq(1),j,{translateX:0,translateY:0},b,"imgContainer1");x(d.eq(2),j,{translateX:0,translateY:0},b,"imgContainer2");x(d.eq(3),j,{translateX:0,translateY:0},b,"imgContainer3");break;case "imageSplitVert":d=a.find(".imgContainer");
x(d.eq(0),j,{translateX:0},b,"imgContainer0");x(d.eq(1),j,{translateX:0},b,"imgContainer1");break;case "labelSplit4":d=a.find(".labelImage");x(d.eq(0),j,{translateX:0,translateY:0},b,"labelImage0");x(d.eq(1),j,{translateX:0,translateY:0},b,"labelImage1");x(d.eq(2),j,{translateX:0,translateY:0},b,"labelImage2");x(d.eq(3),j,{translateX:0,translateY:0},b,"labelImage3");break;case "labelSplitVert":d=a.find(".labelImage");x(d.eq(0),j,{translateX:0},b,"labelImage0");x(d.eq(1),j,{translateX:0},b,"labelImage1");
break;case "labelAppearSplit4":d=a.find(".labelImage");x(d.eq(0),j,{translateX:-b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"labelImage0");x(d.eq(1),j,{translateX:b.thumbFullWidth/2,translateY:-b.thumbFullHeight/2},b,"labelImage1");x(d.eq(2),j,{translateX:b.thumbFullWidth/2,translateY:b.thumbFullHeight/2},b,"labelImage2");x(d.eq(3),j,{translateX:-b.thumbFullWidth/2,translateY:b.thumbFullHeight/2},b,"labelImage3");break;case "labelAppearSplitVert":d=a.find(".labelImage");x(d.eq(0),j,{translateX:-b.thumbFullWidth/
2},b,"labelImage0");x(d.eq(1),j,{translateX:b.thumbFullWidth/2},b,"labelImage1");break;case "scaleLabelOverImage":x(a.find(".labelImage"),j,{opacity:0,scale:50/e},b,"labelImage0");x(a.find(".imgContainer"),j,{scale:100/e},b,"imgContainer0");break;case "overScale":case "overScaleOutside":x(a.find(".labelImage"),j,{opacity:0,scale:150/e},b,"labelImage0");x(a.find(".imgContainer"),j,{opacity:1,scale:100/e},b,"imgContainer0");break;case "imageInvisible":x(a.find(".imgContainer"),j,{opacity:1});break;
case "rotateCornerBL":var f="transition"==E?{rotate:"-90deg"}:{rotateZ:"-90"};x(a.find(".labelImage"),j,f,b,"labelImage0");f="transition"==E?{rotate:"0deg"}:{rotateZ:"0"};x(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "rotateCornerBR":f="transition"==E?{rotate:"90deg"}:{rotateZ:"90"};x(a.find(".labelImage"),j,f,b,"labelImage0");f="transition"==E?{rotate:"0deg"}:{rotateZ:"0"};x(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "imageRotateCornerBL":case "imageRotateCornerBR":f=
"transition"==E?{rotate:"0deg"}:{rotateZ:"0"};x(a.find(".imgContainer"),j,f,b,"imgContainer0");break;case "slideUp":x(a.find(".imgContainer"),j,{translateY:0},b,"imgContainer0");x(a.find(".labelImage"),j,{translateY:b.thumbFullHeight},b,"labelImage0");break;case "slideDown":x(a.find(".imgContainer"),j,{translateY:0},b,"imgContainer0");x(a.find(".labelImage"),j,{translateY:-b.thumbFullHeight},b,"labelImage0");break;case "slideRight":x(a.find(".imgContainer"),j,{translateX:0},b,"imgContainer0");x(a.find(".labelImage"),
j,{translateX:-b.thumbFullWidth},b,"labelImage0");break;case "slideLeft":x(a.find(".imgContainer"),j,{translateX:0},b,"imgContainer0");x(a.find(".labelImage"),j,{translateX:b.thumbFullWidth},b,"labelImage0");break;case "imageSlideUp":case "imageSlideDown":x(a.find(".imgContainer"),j,{translateY:0},b,"imgContainer0");break;case "imageSlideLeft":case "imageSlideRight":x(a.find(".imgContainer"),j,{translateX:0},b,"imgContainer0");break;case "labelAppear":case "labelAppear75":if("velocity"==E)x(a.find(".labelImage"),
j,{backgroundColorRed:G.oldLabelRed,backgroundColorGreen:G.oldLabelGreen,backgroundColorBlue:G.oldLabelBlue,backgroundColorAlpha:0});else{var k="rgb("+G.oldLabelRed+","+G.oldLabelGreen+","+G.oldLabelBlue+",0)";x(a.find(".labelImage"),j,{backgroundColor:k})}x(a.find(".labelImageTitle"),j,{opacity:0});x(a.find(".labelFolderTitle"),j,{opacity:0});x(a.find(".labelDescription"),j,{opacity:0});break;case "descriptionAppear":x(a.find(".labelDescription"),j,{opacity:0});break;case "labelSlideDown":x(a.find(".labelImage"),
j,{translateY:-b.thumbFullHeight},b,"labelImage0");break;case "labelSlideUpTop":case "labelSlideUp":x(a.find(".labelImage"),j,{translateY:b.thumbFullHeight},b,"labelImage0");break;case "descriptionSlideUp":var h="album"==b.kind?a.find(".labelFolderTitle").outerHeight(!0):a.find(".labelImageTitle").outerHeight(!0);x(a.find(".labelImage"),j,{translateY:0,height:h},b,"labelImage0");break;case "labelOpacity50":x(a.find(".labelImage"),j,{opacity:G.oldLabelOpacity});break;case "imageOpacity50":x(a.find(".imgContainer"),
j,{opacity:1});break;case "borderLighter":case "borderDarker":if("velocity"==E){var u=G.oldBorderColor,y=u.substring(u.indexOf("(")+1,u.lastIndexOf(")")).split(/,\s*/);x(a,j,{borderColorRed:y[0],borderColorGreen:y[1],borderColorBlue:y[2],colorAlpha:y[3]})}else x(a,j,{borderColor:G.oldBorderColor});break;case "imageScale150":case "imageScale150Outside":x(a.find("img"),j,{scale:100/e},b,"img0");break;case "imageScaleIn80":x(a.find("img"),j,{scale:120/e},b,"img0");break;case "imageSlide2Up":case "imageSlide2Down":case "imageSlide2Left":case "imageSlide2Right":case "imageSlide2UpRight":case "imageSlide2UpLeft":case "imageSlide2DownRight":case "imageSlide2DownLeft":case "imageSlide2Random":switch(b.customData.hoverEffectRDir){case "imageSlide2Up":var q=
b.thumbFullHeight<1.4*b.imgHeight?(1.4*b.imgHeight-b.thumbFullHeight)/2:0;x(a.find("img"),j,{translateY:q},b,"img0");break;case "imageSlide2Down":q=b.thumbFullHeight<1.4*b.imgHeight?(1.4*b.imgHeight-b.thumbFullHeight)/2:0;x(a.find("img"),j,{translateY:-q},b,"img0");break;case "imageSlide2Left":x(a.find("img"),j,{translateX:.1*b.thumbFullWidth},b,"img0");break;case "imageSlide2Right":x(a.find("img"),j,{translateX:.1*-b.thumbFullWidth},b,"img0");break;case "imageSlide2UpRight":x(a.find("img"),j,{translateY:.05*
b.thumbFullHeight,translateX:.05*-b.thumbFullWidth},b,"img0");break;case "imageSlide2UpLeft":x(a.find("img"),j,{translateY:.05*b.thumbFullHeight,translateX:.05*b.thumbFullWidth},b,"img0");break;case "imageSlide2DownRight":x(a.find("img"),j,{translateY:.05*-b.thumbFullHeight,translateX:.05*-b.thumbFullWidth},b,"img0");break;case "imageSlide2DownLeft":x(a.find("img"),j,{translateY:.05*-b.thumbFullHeight,translateX:.05*b.thumbFullWidth},b,"img0")}break;case "scale120":x(a,j,{scale:100/e},b,"base");break;
case "imageExplode":for(var C=a.find(".imgContainer"),c=Math.sqrt(C.length),r=0,f=0;f<c;f++)for(k=0;k<c;k++)x(C.eq(r++),j,{top:0,left:0,scale:1,opacity:1});break;case "imageFlipHorizontal":x(a.find(".imgContainer"),j,{rotateX:0},b,"imgContainer0");x(a.find(".labelImage"),j,{rotateX:180},b,"labelImage0");break;case "imageFlipVertical":x(a.find(".imgContainer"),j,{rotateY:0},b,"imgContainer0"),x(a.find(".labelImage"),j,{rotateY:180},b,"labelImage0")}}catch(v){X("error on hoverOut "+v.message)}}}}function sa(a){if("fancybox"==
g.viewer){var c=[],b=0;c[b]={};c[b].href=p[a].responsiveURL();c[b].title=p[a].title;for(var e=p.length,d=a+1;d<e;d++)"image"==p[d].kind&&p[d].albumID==p[a].albumID&&""==p[d].destinationURL&&(b++,c[b]={},c[b].href=p[d].responsiveURL(),c[b].title=p[d].title);for(d=0;d<a;d++)"image"==p[d].kind&&p[d].albumID==p[a].albumID&&""==p[d].destinationURL&&(b++,c[b]={},c[b].href=p[d].responsiveURL(),c[b].title=p[d].title);jQuery.fancybox(c,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}else Y?
Wa(a,""):jc(a)}function jc(a){jQuery("body").css({overflow:"hidden"});d.conVwCon=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body");d.conVwCon.addClass("nanogallery_theme_"+g.theme);kc(d.conVwCon);d.conVw=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(d.conVwCon);var c;c=""+('<img class="image" src="'+p[a].responsiveURL()+'" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">');
c+='<img class="image" src="'+p[a].responsiveURL()+'" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';c+='<img class="image" src="'+p[a].responsiveURL()+'" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';d.vwContent=jQuery('<div class="content">'+c+'<div class="contentAreaPrevious"></div><div class="contentAreaNext"></div></div>').appendTo(d.conVw);
d.vwImgP=d.conVw.find(".image").eq(0);d.vwImgC=d.conVw.find(".image").eq(1);d.vwImgN=d.conVw.find(".image").eq(2);g.enableElevatezoom&&"function"==Q(jQuery().elevateZoom)&&(d.vwImgP.elevateZoom({zoomType:"lens",lensShape:"round",lensSize:200,onZoomedImageLoaded:function(){M("",".zoomContainer")}}),d.vwImgN.elevateZoom({zoomType:"lens",lensShape:"round",lensSize:200,onZoomedImageLoaded:function(){M("",".zoomContainer")}}),d.vwImgC.elevateZoom({zoomType:"lens",lensShape:"round",lensSize:200,onZoomedImageLoaded:function(){M("",
".zoomContainer")}}));d.conVwCon.find("*").attr("draggable","false").attr("unselectable","on");jQuery('<div class="closeButtonFloating"></div>').appendTo(d.conVw).on("touchstart click",function(a){a.stopPropagation();400>(new Date).getTime()-pa||ya(!0)});c="";Mb&&(c='<div class="ngbt setFullscreenButton fullscreenButton"></div>');var b="";"function"==typeof g.fnViewerInfo&&(b='<div class="ngbt infoButton"></div>');d.conVwTb=jQuery('<div class="toolbarContainer" style="visibility:hidden;"><div class="toolbar"><div class="previousButton ngbt"></div><div class="pageCounter"></div><div class="nextButton ngbt"></div><div class="playButton playPauseButton ngbt"></div>'+
c+b+'<div class="closeButton ngbt"></div><div class="label"><div class="title" itemprop="name"></div><div class="description" itemprop="description"></div></div></div>').appendTo(d.conVw);g.viewerDisplayLogo&&(d.vwLogo=jQuery('<div class="nanoLogo"></div>').appendTo(d.conVw));M("",d.conVw);Ea(d.vwImgC);pa=(new Date).getTime();d.conVwTb.find(".closeButton").on("touchstart click",function(a){a.stopPropagation();400>(new Date).getTime()-pa||ya(!0)});d.conVwTb.find(".playPauseButton").on("touchstart click",
function(a){a.stopPropagation();Za()});d.conVwTb.find(".fullscreenButton").on("touchstart click",function(a){a.stopPropagation();Nb()});d.conVwTb.find(".infoButton").on("touchstart click",function(a){a.stopPropagation();"function"==typeof g.fnViewerInfo&&g.fnViewerInfo(p[Fa],s())});d.conVwTb.find(".nextButton").on("touchstart click",function(a){a.stopPropagation();za()});d.conVwTb.find(".previousButton").on("touchstart click",function(a){a.stopPropagation();Aa()});d.vwContent.find(".contentAreaNext").on("touchstart click",
function(a){a.stopPropagation();za()});d.vwContent.find(".contentAreaPrevious").on("touchstart click",function(a){a.stopPropagation();Aa()});d.vwContent.on("click",function(a){400>(new Date).getTime()-pa||(a.stopPropagation(),ya(!0))});Wa(a,"");g.slideshowAutoStart&&(ja=!0,d.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),wa(),xa=window.setInterval(function(){wa()},Ma))}function lc(a){function c(a){var b={};a.targetTouches?(b.x=a.targetTouches[0].clientX,b.y=a.targetTouches[0].clientY):
(b.x=a.clientX,b.y=a.clientY);return b}function b(){if(e){var a=g.x-f.x;A(d.vwContent.find(".imgCurrent")[0],k-a);e=!1}}var e=!1,g=null,f=null,k=0;this.handleGestureStart=function(a){Y&&(a.preventDefault(),a.touches&&1<a.touches.length||(g=c(a),window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",
this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0))))}.bind(this);this.handleGestureMove=function(a){a.preventDefault();f=c(a);e||(e=!0,window.requestAnimFrame(b))}.bind(this);this.handleGestureEnd=function(a){a.preventDefault();a.touches&&0<a.touches.length||(e=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",
this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),null==f?(k=0,g=null):(a=g.x-f.x,k-=a,-50>a&&Aa(),50<a&&za(),k=0,f=
g=null,50>Math.abs(a)&&A(d.vwContent.find(".imgCurrent")[0],k)))}.bind(this);window.navigator.msPointerEnabled?a.addEventListener("MSPointerDown",this.handleGestureStart,!0):a.addEventListener("touchstart",this.handleGestureStart,!0)}function Nb(){Xa?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen(),Xa=!1,d.conVwTb.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):
(d.conVwCon[0].requestFullscreen?d.conVwCon[0].requestFullscreen():d.conVwCon[0].webkitRequestFullscreen?d.conVwCon[0].webkitRequestFullscreen():d.conVwCon[0].msRequestFullscreen?d.conVwCon[0].msRequestFullscreen():d.conVwCon[0].mozRequestFullScreen&&d.conVwCon[0].mozRequestFullScreen(),Xa=!0,d.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"))}function Za(){ja?(window.clearInterval(xa),ja=!1,d.conVwTb.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):
(ja=!0,d.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),wa(),xa=window.setInterval(function(){wa()},Ma))}function za(){ja&&(window.clearInterval(xa),xa=window.setInterval(function(){wa()},Ma));wa()}function wa(){if(!(Ga||300>(new Date).getTime()-pa)){var a=qb(Fa);Wa(a,"nextImage")}}function Aa(){if(!(Ga||300>(new Date).getTime()-pa)){ja&&Za();var a=rb(Fa);Wa(a,"previousImage")}}function Wa(a,c){pa=(new Date).getTime();Ga=!0;if(g.locationHash){var b="nanogallery/"+
ea+"/"+p[a].albumID+"/"+p[a].GetID();"#"+b!=location.hash?(qa="#"+b,top.location.hash=b):qa=top.location.hash}mc(a);Ea(d.vwImgC);Fa=a;b="-"+1*jQuery(window).width()+"px";b=!0;"fade"==g.imageTransition&&(b=!1);var e="";switch(c){case "nextImage":b?(b="-"+1*jQuery(window).width()+"px",e={left:b,opacity:0}):e={opacity:0};d.vwContent.find("*").stop(!0,!0);d.vwImgN.css({opacity:0,left:"0",visibility:"visible"});"velocity"==E?(d.vwImgC.velocity(e,500),d.vwImgN.velocity({opacity:1},300),setTimeout(function(){Ha(a,
c)},500)):jQuery.when(d.vwImgC.animate(e,500),d.vwImgN.animate({opacity:1},300)).done(function(){Ha(a,c)});break;case "previousImage":b?(b=1*jQuery(window).width()+"px",e={left:b,opacity:0}):e={opacity:0};d.vwContent.find("*").stop(!0,!0);d.vwImgP.css({opacity:0,left:"0",visibility:"visible"});"velocity"==E?(d.vwImgC.velocity(e,500),d.vwImgP.velocity({opacity:1},300),setTimeout(function(){Ha(a,c)},500)):jQuery.when(d.vwImgC.animate(e,500),d.vwImgP.animate({opacity:1},300)).done(function(){Ha(a,c)});
break;default:d.vwContent.find("*").stop(!0,!0),d.vwImgC.css({opacity:0,left:"0",visibility:"visible"}).attr("src",ba).attr("src",p[a].responsiveURL()),g.enableElevatezoom&&"function"==Q(jQuery().elevateZoom)&&d.vwImgC.attr("data-zoom-image",p[a].responsiveURL()),jQuery.when(d.vwImgC.animate({opacity:1},300)).done(function(){Ha(a,c)})}Y=!0}function Ha(a,c){d.vwImgC.off("click");d.vwImgC.removeClass("imgCurrent");var b=d.vwImgC;switch(c){case "nextImage":d.vwImgC=d.vwImgN;d.vwImgN=b;break;case "previousImage":d.vwImgC=
d.vwImgP,d.vwImgP=b}d.vwImgC.addClass("imgCurrent");null==sb&&(sb=new lc(d.conVwCon[0]));d.vwImgN.css({opacity:0,left:"0",visibility:"hidden"}).attr("src",ba).attr("src",p[qb(a)].responsiveURL());d.vwImgP.css({opacity:0,left:"0",visibility:"hidden"}).attr("src",ba).attr("src",p[rb(a)].responsiveURL());d.vwImgC.on("click",function(a){a.stopPropagation();a.pageX<jQuery(window).width()/2?Aa():za()});g.enableElevatezoom&&"function"==Q(jQuery().elevateZoom)&&(d.vwImgN.attr("data-zoom-image",p[qb(a)].responsiveURL()),
d.vwImgP.attr("data-zoom-image",p[rb(a)].responsiveURL()),jQuery(".zoomContainer").remove(),b=d.vwImgC.data("elevateZoom"),b.imageSrc=d.vwImgC.attr("src"),b.zoomImage=d.vwImgC.attr("src"),b.fetch(b.imageSrc));Ea(d.vwImgC);Ga=!1}function qb(a){for(var c=p.length,b=-1,e=a+1;e<c;e++)if(p[e].albumID==p[a].albumID&&"image"==p[e].kind){b=e;break}if(-1==b)for(e=0;e<=a;e++)if(p[e].albumID==p[a].albumID&&"image"==p[e].kind){b=e;break}return b}function rb(a){for(var c=-1,b=a-1;0<=b;b--)if(p[b].albumID==p[a].albumID&&
"image"==p[b].kind){c=b;break}if(-1==c)for(b=p.length-1;b>=a;b--)if(p[b].albumID==p[a].albumID&&"image"==p[b].kind){c=b;break}return c}function mc(a){void 0!==p[a].title?d.conVwTb.find(".title").html(p[a].title):d.conVwTb.find(".title").html("");void 0!==p[a].description?d.conVwTb.find(".description").html(p[a].description):d.conVwTb.find(".description").html("");for(var c=0,b=p.length,e=0;e<b;e++)p[e].albumID==p[a].albumID&&"image"==p[e].kind&&c++;0<c&&d.conVwTb.find(".pageCounter").html(p[a].imageNumber+
1+"/"+c)}function ya(a){Ga&&d.vwContent.find("*").stop(!0,!0);Y&&(sb=null,window.clearInterval(tb),ja&&(window.clearInterval(xa),ja=!1),Xa&&Nb(),Y=!1,d.conVwCon.off().remove(),d.base.hasClass("fullpage")||jQuery("body").css({overflow:"inherit"}),-1!=Pa?W(Pa,!0):(g.locationHash&&a&&(a="nanogallery/"+ea+"/"+p[Fa].albumID,qa="#"+a,top.location.hash=a),Ca()))}function Ea(a){window.clearInterval(tb);tb=window.setInterval(function(){Ea(d.vwImgC)},200);var c=d.conVw.width(),b=d.conVw.height();d.conVw.css({visibility:"visible",
position:"fixed"});40>=d.vwImgC.height()?d.conVwTb.css({visibility:"hidden"}):d.conVwTb.css({visibility:"visible"});var e=Math.abs(d.vwContent.outerHeight(!0)-d.vwContent.height()),f=Math.abs(d.vwContent.outerWidth(!0)-d.vwContent.width()),k=a.outerHeight(!1)-a.innerHeight(),p=Math.abs(a.outerWidth(!1)-a.innerWidth()),h=Math.abs(a.innerHeight()-a.height());a=Math.abs(a.innerWidth()-a.width());k+=h;p+=a;h=0;"innerImage"!=g.viewerToolbar.style&&(h=d.conVwTb.find(".toolbar").outerHeight(!0));b=b-h-e;
c-=f;switch(g.viewerToolbar.position){case "top":d.vwContent.css({height:b,width:c,top:h});f=0;"innerImage"==g.viewerToolbar.style&&(f=Math.abs(d.vwImgC.outerHeight(!0)-d.vwImgC.height())/2+5);"stuckImage"==g.viewerToolbar.style&&(f=Math.abs(d.vwImgC.outerHeight(!0)-d.vwImgC.height())/2-k);d.conVwTb.css({top:f});break;default:d.vwContent.css({height:b,width:c}),f=0,"innerImage"==g.viewerToolbar.style&&(f=Math.abs(d.vwImgC.outerHeight(!0)-d.vwImgC.height())/2+5),"stuckImage"==g.viewerToolbar.style&&
(f=Math.abs(d.vwImgC.outerHeight(!0)-d.vwImgC.height())/2-k),d.conVwTb.css({bottom:f})}"innerImage"==g.viewerToolbar.style&&d.conVwTb.find(".toolbar").css({"max-width":d.vwImgC.width()});"fullWidth"==g.viewerToolbar.style&&d.conVwTb.find(".toolbar").css({width:c});d.conVwTb.css({height:d.conVwTb.find(".toolbar").outerHeight(!0)});d.vwContent.children("img").css({"max-width":c-p,"max-height":b-k})}function nc(a){var c=null;switch(Q(g.colorScheme)){case "object":c=Ob;jQuery.extend(!0,c,g.colorScheme);
g_colorSchemeLabel="nanogallery_colorscheme_custom_"+ea;break;case "string":switch(g.colorScheme){case "none":return;case "light":c=oc;g_colorSchemeLabel="nanogallery_colorscheme_light";break;case "lightBackground":c=pc;g_colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case "darkRed":c=qc;g_colorSchemeLabel="nanogallery_colorscheme_darkred";break;case "darkGreen":c=rc;g_colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case "darkBlue":c=sc;g_colorSchemeLabel="nanogallery_colorscheme_darkblue";
break;case "darkOrange":c=tc;g_colorSchemeLabel="nanogallery_colorscheme_darkorange";break;default:c=Ob,g_colorSchemeLabel="nanogallery_colorscheme_default"}break;default:X("Error in colorScheme parameter.");return}var b="."+g_colorSchemeLabel+" ",e=b+".nanoGalleryNavigationbar { background:"+c.navigationbar.background+" !important; }\n";void 0!==c.navigationbar.border&&(e+=b+".nanoGalleryNavigationbar { border:"+c.navigationbar.border+" !important; }\n");void 0!==c.navigationbar.borderTop&&(e+=b+
".nanoGalleryNavigationbar { border-top:"+c.navigationbar.borderTop+" !important; }\n");void 0!==c.navigationbar.borderBottom&&(e+=b+".nanoGalleryNavigationbar { border-bottom:"+c.navigationbar.borderBottom+" !important; }\n");void 0!==c.navigationbar.borderRight&&(e+=b+".nanoGalleryNavigationbar { border-right:"+c.navigationbar.borderRight+" !important; }\n");void 0!==c.navigationbar.borderLeft&&(e+=b+".nanoGalleryNavigationbar { border-left:"+c.navigationbar.borderLeft+" !important; }\n");e+=b+
".nanoGalleryNavigationbar .oneFolder  { color:"+c.navigationbar.color+" !important; }\n";e+=b+".nanoGalleryNavigationbar .separator  { color:"+c.navigationbar.color+" !important; }\n";e+=b+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+c.navigationbar.color+" !important; }\n";e+=b+".nanoGalleryNavigationbar .setFullPageButton { color:"+c.navigationbar.color+" !important; }\n";e+=b+".nanoGalleryNavigationbar .removeFullPageButton { color:"+c.navigationbar.color+" !important; }\n";e+=b+".nanoGalleryNavigationbar .oneFolder:hover { color:"+
c.navigationbar.colorHover+" !important; }\n";e+=b+".nanoGalleryNavigationbar .separator:hover { color:"+c.navigationbar.colorHover+" !important; }\n";e+=b+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+c.navigationbar.colorHover+" !important; }\n";e+=b+".nanoGalleryNavigationbar .setFullPageButton:hover { color:"+c.navigationbar.colorHover+" !important; }\n";e+=b+".nanoGalleryNavigationbar .removeFullPageButton:hover { color:"+c.navigationbar.colorHover+" !important; }\n";e+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer { background:"+
c.thumbnail.background+" !important; border:"+c.thumbnail.border+" !important; }\n";e+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .imgContainer { background:"+c.thumbnail.background+" !important; }\n";e+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { background:"+c.thumbnail.labelBackground+" !important; }\n";e+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+c.thumbnail.titleColor+" !important; Text-Shadow:"+c.thumbnail.titleShadow+
" !important; }\n";e+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+c.thumbnail.titleColor+" !important; Text-Shadow:"+c.thumbnail.titleShadow+" !important; }\n";e+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+c.thumbnail.titleColor+" !important; Text-Shadow:"+c.thumbnail.titleShadow+" !important; }\n";e+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+c.thumbnail.titleColor+
" !important; Text-Shadow:"+c.thumbnail.titleShadow+" !important; }\n";e+=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelDescription { color:"+c.thumbnail.descriptionColor+" !important; Text-Shadow:"+c.thumbnail.descriptionShadow+" !important; }\n";c="nanogallery_galleryfullpage_bgcolor_"+ea;e+="."+c+".fullpage { background:"+g.galleryFullpageBgColor+" !important; }\n";jQuery("head").append("<style>"+e+"</style>");jQuery(a).addClass(g_colorSchemeLabel);jQuery(a).addClass(c)}function kc(a){var c=
null;switch(Q(g.colorSchemeViewer)){case "object":c=Pb;jQuery.extend(!0,c,g.colorSchemeViewer);g_colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case "string":switch(g.colorSchemeViewer){case "none":return;case "light":c=uc;g_colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case "darkRed":c=vc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case "darkGreen":c=wc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case "darkBlue":c=xc;g_colorSchemeLabel=
"nanogallery_colorschemeviewer_darkblue";break;case "darkOrange":c=yc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;case "dark":c=zc;g_colorSchemeLabel="nanogallery_colorschemeviewer_dark";break;default:c=Pb,g_colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:X("Error in colorSchemeViewer parameter.");return}var b="."+g_colorSchemeLabel+" ",e=b+".nanoGalleryViewer { background:"+c.background+" !important; }\n",e=e+(b+".nanoGalleryViewer .content img { border:"+
c.imageBorder+" !important; box-shadow:"+c.imageBoxShadow+" !important; }\n"),e=e+(b+".nanoGalleryViewer .toolbar { background:"+c.barBackground+" !important; border:"+c.barBorder+" !important; color:"+c.barColor+" !important; }\n"),e=e+(b+".nanoGalleryViewer .toolbar .previousButton:after { color:"+c.barColor+" !important; }\n"),e=e+(b+".nanoGalleryViewer .toolbar .nextButton:after { color:"+c.barColor+" !important; }\n"),e=e+(b+".nanoGalleryViewer .toolbar .closeButton:after { color:"+c.barColor+
" !important; }\n"),e=e+(b+".nanoGalleryViewer .toolbar .label .title { color:"+c.barColor+" !important; }\n"),e=e+(b+".nanoGalleryViewer .toolbar .label .description { color:"+c.barDescriptionColor+" !important; }\n");jQuery("head").append("<style>"+e+"</style>");jQuery(a).addClass(g_colorSchemeLabel)}function X(a){ga(a);null!=d.conConsole&&(d.conConsole.css({visibility:"visible",height:"60px"}),d.conConsole.append("<p>nanoGALLERY: "+a+" ["+ea+"]</p>"))}function ga(a){window.console&&console.log("nanoGALLERY: "+
a+" ["+ea+"]")}function ma(){var a=jQuery(window);return{l:a.scrollLeft(),t:a.scrollTop(),w:a.width(),h:a.height()}}function Jb(a,c){var b=ma(),e=a.offset(),d=a.outerHeight(!0),g=a.outerWidth(!0);return e.top>=b.t-c&&e.top+d<=b.t+b.h+c&&e.left>=b.l-c&&e.left+g<=b.l+b.w+c?!0:!1}function ta(a,c){var b=ma(),e=a.offset(),d=a.outerHeight(!0);a.outerWidth(!0);return 0==b.t&&e.top<=b.t+b.h?!0:e.top>=b.t&&e.top+d<=b.t+b.h-c?!0:!1}function M(a,c){var b=0;""==a&&(a="*");jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));
b=a>b?a:b});b++;jQuery(c).css("z-index",b)}function na(a){for(var c,b,e=a.length;e;c=Math.floor(Math.random()*e),b=a[--e],a[e]=a[c],a[c]=b);return a}var R={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},g=null,p=[],d={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conTn:null,conTnHid:null,conPagin:null,conBC:null,conNavB:null,conNavBCon:null,conNavBFullpage:null,
conVwCon:null,conVw:null,conVwTb:null,vwImgP:null,vwImgN:null,vwImgC:null,vwContent:null,vwLogo:null},aa=null,ea=null,Hb=null,Ib=!1,Y=!1,k={displayInterval:30,lazyLoadTreshold:100,scale:1,borderWidth:0,borderHeight:0,imgcBorderHeight:0,imgcBorderWidth:0,labelHeight:0,outerWidth:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},outerHeight:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,
sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}}},D=[],Ja=null,Ka=null,La=null,ja=!1,xa=0,Ma=3E3,ab=0,Mb=!1,Xa=!1,da="",pa=0,db=0,ia=1,T=0,eb=-1,qa="",Ga=!1,tb=-1,Fa=-1,Pa=-1,G={},fa=0,Sa=-1,Ta=-1,Eb=!1,sb=null,E="animate",ub=0,vb=0,Na=1E6,Oa=1E6,H="l1",I="me",ba="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",ha=K(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),Lb=K(["transformStyle","msTransformStyle","MozTransformStyle",
"WebkitTransformStyle","OTransformStyle"]),Ua=K(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),va=K(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]);K(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]);K(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]);var hc=function(){if(document.documentMode)return document.documentMode;for(var a=7;4<
a;a--){var c=document.createElement("div");c.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e";if(c.getElementsByTagName("span").length)return a}}(),Sb=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),ic=/Android 2\.3\.[3-7]/i.test(navigator.userAgent),la=!1,Cb={url:function(){return"https:"==location.protocol?"https://picasaweb.google.com/data/feed/api/":"http://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:[32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,
400,512,576,640,720,800,912,1024,1152,1280,1440,1600],thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "},L={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbSizeX2:"sq",thumbSizeDir:"height_",thumbAvailableSizes:[75,100,150,240,500,640],thumbAvailableSizesStr:"sq t q s m z".split(" "),photoSize:"sq",photoAvailableSizes:[75,100,150,240,500,640,1024,1024,1600,2048],photoAvailableSizesStr:"sq t q s m z b l h k".split(" "),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},
P={url:function(){return"https:"==location.protocol?"https://api.smugmug.com/services/api/json/1.3.0/":"http://api.smugmug.com/services/api/json/1.3.0/"},APIKey:"WJlHxuysNWKawKlzgrgDxTSirUOAYpbn",photoAvailableSizes:[100,150,400,600,800,1024,1280,1600],photoAvailableSizesStr:"TinyURL ThumbURL SmallURL MediumURL LargeURL XLargeURL X2LargeURL X3LargeURL".split(" "),thumbSize:0,thumbSizeX2:0,photoSize:0},Ob={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",
borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},qc={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},rc=
{navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},sc={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",
descriptionColor:"#ccc",descriptionShadow:""}},tc={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},oc={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",
border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none"}},pc={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:""}},Pb={background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",
barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},zc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},vc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},wc={background:"rgba(1, 1, 1, 0.75)",
imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},xc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},yc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",
barColor:"#eee",barDescriptionColor:"#aaa"},uc={background:"rgba(187, 187, 187, 0.75)",imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Yb=function(){function a(a,e){var d=0,d=void 0===e||null===e?c++:e;this.GetID=function(){return d};this.title=a;this.src=this.description="";this.height=this.width=0;this.thumbX2src=this.thumbsrc=this.author=this.kind=this.destinationURL="";this.thumbLabelHeight=
this.thumbLabelWidth=this.thumbFullHeight=this.thumbFullWidth=this.thumbImgHeight=this.thumbImgWidth=0;this.thumbSizes={};this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};this.picasaThumbs=null;this.hoverInitDone=this.hovered=!1;this.$elt=null;this.contentIsLoaded=!1;this.imageNumber=this.contentLength=0;this.eltTransform=
{};this.paginationLastWidth=this.paginationLastPage=this.albumID=0;this.customData={}}var c=1;a.get_nextId=function(){return c};a.prototype={thumbSetImgHeight:function(a){for(var c=["xs","sm","me","la","xl"],d=0;d<c.length;d++)k.settings.height.l1[c[d]]==k.settings.height[H][I]&&k.settings.width.l1[c[d]]==k.settings.width[H][I]&&(this.thumbs.height.l1[c[d]]=a);for(d=0;d<c.length;d++)k.settings.height.lN[c[d]]==k.settings.height[H][I]&&k.settings.width.l1[c[d]]==k.settings.width[H][I]&&(this.thumbs.height.lN[c[d]]=
a)},thumbSetImgWidth:function(a){for(var c=["xs","sm","me","la","xl"],d=0;d<c.length;d++)k.settings.height.l1[c[d]]==k.settings.height[H][I]&&k.settings.width.l1[c[d]]==k.settings.width[H][I]&&(this.thumbs.width.l1[c[d]]=a);for(d=0;d<c.length;d++)k.settings.height.lN[c[d]]==k.settings.height[H][I]&&k.settings.width.l1[c[d]]==k.settings.width[H][I]&&(this.thumbs.width.lN[c[d]]=a)},thumbImg:function(){var a={src:"",width:0,height:0};if("dummydummydummy"==this.title)return a.src=ba,a;switch(g.kind){case "smugmug":a.src=
this.thumbsrc;a.width=this.thumbImgWidth;a.height=this.thumbImgHeight;break;default:a.src=this.thumbs.url[H][I],a.width=this.thumbs.width[H][I],a.height=this.thumbs.height[H][I]}return a},responsiveURL:function(){var a="";switch(g.kind){case "":a=this.src;break;case "flickr":a=this.src;break;case "smugmug":a=this.src;break;default:a=this.src}return a}};return a}();this.Initiate=function(a,c){g=c;d.base=jQuery(a);ea=d.base.attr("id");Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==
typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;e.prototype=new d;return e});"object"==Q(jQuery.velocity)?E="velocity":"object"==Q(jQuery.transit)&&(E="transition");jQuery(a).addClass("nanogallery_theme_"+g.theme);nc(a);if(g.thumbnailLabel.hideIcons){var b=
".nanogallery_thumbnails_icons_off ",b=b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n"+(b+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n");jQuery("head").append("<style>"+b+"</style>");jQuery(a).addClass("nanogallery_thumbnails_icons_off")}g.galleryToolbarHideIcons&&(b=".nanogallery_breadcrumb_icons_off ",b=b+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n"+
(b+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n"),jQuery("head").append("<style>"+b+"</style>"),jQuery(a).addClass("nanogallery_breadcrumb_icons_off"));"right"==g.thumbnailLabel.align&&(b=".nanogallery_thumbnails_label_align_right .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n",jQuery("head").append("<style>"+b+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_right"));"center"==g.thumbnailLabel.align&&
(b=".nanogallery_thumbnails_label_align_center .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n",jQuery("head").append("<style>"+b+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_center"));"left"==g.thumbnailLabel.align&&(b=".nanogallery_thumbnails_label_align_left .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n",jQuery("head").append("<style>"+b+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_left"));
d.conNavBCon=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(a);d.conNavBCon.hide();d.conNavB=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(d.conNavBCon);d.conBC=jQuery('<div class="nanoGalleryBreadcrumb"></div>').appendTo(d.conNavB);d.conLoadingB=jQuery('<div class="nanoGalleryLBar" style="visibility:hidden;"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(a);d.conTnParent=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(a);
d.conTn=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(d.conTnParent);d.conConsole=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(a);switch(g.thumbnailAlignment){case "left":d.conTnParent.css({"text-align":"left"});d.conNavBCon.css({"margin-left":0});break;case "right":d.conTnParent.css({"text-align":"right"}),d.conNavBCon.css({"margin-right":0})}jQuery("head").append("<style>.nanogalleryHideElement {position: absolute !important; top: -9999px !important; left: -9999px !important;}</style>");
b=jQuery('<div class="nanogalleryHideElement '+jQuery(a).attr("class")+'"></div>').appendTo("body");b=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(b);d.conTnHid=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(b);h();d.conPagin=jQuery('<div class="nanoGalleryPagination"></div>').appendTo(d.conTnParent);new V(d.conTn[0]);y();document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?Mb=!0:ga("Your browser does not support the fullscreen API. Fullscreen button will not be displayed.");
fb();"loadData"!=g.lazyBuild&&J();var e=0;jQuery(window).resize(function(){e&&clearTimeout(e);Y?Ea(d.vwImgC):e=setTimeout(function(){var a=q();-1==Ta||k.settings.height[H][I]==k.settings.height[H][a]&&k.settings.width[H][I]==k.settings.width[H][a]?Ia():(I=a,ua(Ta,0))},50)});jQuery(window).on("scroll",function(){ub&&clearTimeout(ub);ub=setTimeout(function(){"loadData"==g.lazyBuild&&ta(d.conTnParent,g.lazyBuildTreshold)&&(g.lazyBuild="none",J());-1!=Sa&&ta(d.conTnParent,g.lazyBuildTreshold)&&kb(Sa,
Eb);lb()},200)});d.base.on("scroll",function(){vb&&clearTimeout(vb);vb=setTimeout(function(){lb()},200)})};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();var Q=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},Va=function(a,c,b){a=a.replace(/^\s*|\s*$/,"");a=a.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");c=Math.round(256*
c)*(b?-1:1);var d=a.match(RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),g=d&&null!=d[4]?d[4]:null;a=d?[d[1],d[2],d[3]]:a.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(a,b,c,d){return parseInt(b,16)+","+parseInt(c,16)+","+parseInt(d,16)}).split(/,/);return d?"rgb"+(null!==g?"a":"")+"("+Math[b?"max":"min"](parseInt(a[0],
10)+c,b?0:255)+", "+Math[b?"max":"min"](parseInt(a[1],10)+c,b?0:255)+", "+Math[b?"max":"min"](parseInt(a[2],10)+c,b?0:255)+(null!==g?", "+g:"")+")":["#",wb(Math[b?"max":"min"](parseInt(a[0],10)+c,b?0:255).toString(16),2),wb(Math[b?"max":"min"](parseInt(a[1],10)+c,b?0:255).toString(16),2),wb(Math[b?"max":"min"](parseInt(a[2],10)+c,b?0:255).toString(16),2)].join("")},wb=function(a,c){for(a+="";a.length<c;)a="0"+a;return a}}
(function(s,K){function J(f,h,y){var q=t[h.type]||{};if(null==f)return y||!h.def?null:h.def;f=q.floor?~~f:parseFloat(f);return isNaN(f)?h.def:q.mod?(f+q.mod)%q.mod:0>f?0:q.max<f?q.max:f}function A(f){var u=h(),y=u._rgba=[];f=f.toLowerCase();q(m,function(h,q){var m,t=q.re.exec(f);m=t&&q.parse(t);t=q.space||"rgba";if(m)return m=u[t](m),u[r[t].cache]=m[r[t].cache],y=u._rgba=m._rgba,!1});return y.length?("0,0,0,0"===y.join()&&s.extend(y,Z.transparent),u):Z[f]}function V(f,h,q){q=(q+1)%1;return 1>6*q?
f+(h-f)*q*6:1>2*q?h:2>3*q?f+(h-f)*(2/3-q)*6:f}var N=/^([\-+])=\s*(\d+\.?\d*)/,m=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(f){return[f[1],f[2],f[3],f[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(f){return[2.55*f[1],2.55*f[2],2.55*f[3],f[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(f){return[parseInt(f[1],16),parseInt(f[2],16),
parseInt(f[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(f){return[f[1],f[2]/100,f[3]/100,f[4]]}}],h=s.Color=function(f,h,q,C){return new s.Color.fn.parse(f,h,q,C)},r={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,
type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},t={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},F=h.support={},O=s("<p>")[0],Z,q=s.each;O.style.cssText="background-color:rgba(1,1,1,.5)";F.rgba=-1<O.style.backgroundColor.indexOf("rgba");q(r,function(f,h){h.cache="_"+f;h.props.alpha={idx:3,type:"percent",def:1}});h.fn=s.extend(h.prototype,{parse:function(f,u,y,C){if(f===K)return this._rgba=[null,null,null,null],this;if(f.jquery||f.nodeType)f=
s(f).css(u),u=K;var m=this,t=s.type(f),F=this._rgba=[];u!==K&&(f=[f,u,y,C],t="array");if("string"===t)return this.parse(A(f)||Z._default);if("array"===t)return q(r.rgba.props,function(h,q){F[q.idx]=J(f[q.idx],q)}),this;if("object"===t)return f instanceof h?q(r,function(h,q){f[q.cache]&&(m[q.cache]=f[q.cache].slice())}):q(r,function(h,u){var y=u.cache;q(u.props,function(h,q){if(!m[y]&&u.to){if("alpha"===h||null==f[h])return;m[y]=u.to(m._rgba)}m[y][q.idx]=J(f[h],q,!0)});m[y]&&0>s.inArray(null,m[y].slice(0,
3))&&(m[y][3]=1,u.from&&(m._rgba=u.from(m[y])))}),this},is:function(f){var u=h(f),y=!0,C=this;q(r,function(f,h){var m,r=u[h.cache];r&&(m=C[h.cache]||h.to&&h.to(C._rgba)||[],q(h.props,function(f,h){if(null!=r[h.idx])return y=r[h.idx]===m[h.idx]}));return y});return y},_space:function(){var f=[],h=this;q(r,function(q,C){h[C.cache]&&f.push(q)});return f.pop()},transition:function(f,u){var y=h(f),C=y._space(),m=r[C],s=0===this.alpha()?h("transparent"):this,F=s[m.cache]||m.to(s._rgba),A=F.slice(),y=y[m.cache];
q(m.props,function(f,h){var q=h.idx,m=F[q],C=y[q],r=t[h.type]||{};null!==C&&(null===m?A[q]=C:(r.mod&&(C-m>r.mod/2?m+=r.mod:m-C>r.mod/2&&(m-=r.mod)),A[q]=J((C-m)*u+m,h)))});return this[C](A)},blend:function(f){if(1===this._rgba[3])return this;var q=this._rgba.slice(),y=q.pop(),m=h(f)._rgba;return h(s.map(q,function(f,h){return(1-y)*m[h]+y*f}))},toRgbaString:function(){var f="rgba(",h=s.map(this._rgba,function(f,h){return null==f?2<h?1:0:f});1===h[3]&&(h.pop(),f="rgb(");return f+h.join()+")"},toHslaString:function(){var f=
"hsla(",h=s.map(this.hsla(),function(f,h){null==f&&(f=2<h?1:0);h&&3>h&&(f=Math.round(100*f)+"%");return f});1===h[3]&&(h.pop(),f="hsl(");return f+h.join()+")"},toHexString:function(f){var h=this._rgba.slice(),q=h.pop();f&&h.push(~~(255*q));return"#"+s.map(h,function(f){f=(f||0).toString(16);return 1===f.length?"0"+f:f}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});h.fn.parse.prototype=h.fn;r.hsla.to=function(f){if(null==f[0]||null==f[1]||null==f[2])return[null,
null,null,f[3]];var h=f[0]/255,q=f[1]/255,m=f[2]/255;f=f[3];var r=Math.max(h,q,m),t=Math.min(h,q,m),s=r-t,F=r+t,A=.5*F,F=0===s?0:.5>=A?s/F:s/(2-F);return[Math.round(t===r?0:h===r?60*(q-m)/s+360:q===r?60*(m-h)/s+120:60*(h-q)/s+240)%360,F,A,null==f?1:f]};r.hsla.from=function(f){if(null==f[0]||null==f[1]||null==f[2])return[null,null,null,f[3]];var h=f[0]/360,q=f[1],m=f[2];f=f[3];q=.5>=m?m*(1+q):m+q-m*q;m=2*m-q;return[Math.round(255*V(m,q,h+1/3)),Math.round(255*V(m,q,h)),Math.round(255*V(m,q,h-1/3)),
f]};q(r,function(f,m){var r=m.props,t=m.cache,F=m.to,A=m.from;h.fn[f]=function(f){F&&!this[t]&&(this[t]=F(this._rgba));if(f===K)return this[t].slice();var m,u=s.type(f),N="array"===u||"object"===u?f:arguments,O=this[t].slice();q(r,function(f,h){var q=N["object"===u?f:h.idx];null==q&&(q=O[h.idx]);O[h.idx]=J(q,h)});return A?(m=h(A(O)),m[t]=O,m):h(O)};q(r,function(q,m){h.fn[q]||(h.fn[q]=function(h){var r=s.type(h),u="alpha"===q?this._hsla?"hsla":"rgba":f,y=this[u](),t=y[m.idx];if("undefined"===r)return t;
"function"===r&&(h=h.call(this,t),r=s.type(h));if(null==h&&m.empty)return this;"string"===r&&(r=N.exec(h))&&(h=t+parseFloat(r[2])*("+"===r[1]?1:-1));y[m.idx]=h;return this[u](y)})})});h.hook=function(f){f=f.split(" ");q(f,function(f,q){s.cssHooks[q]={set:function(f,m){var r,u="";if("transparent"!==m&&("string"!==s.type(m)||(r=A(m)))){m=h(r||m);if(!F.rgba&&1!==m._rgba[3]){for(r="backgroundColor"===q?f.parentNode:f;(""===u||"transparent"===u)&&r&&r.style;)try{u=s.css(r,"backgroundColor"),r=r.parentNode}catch(t){}m=
m.blend(u&&"transparent"!==u?u:"_default")}m=m.toRgbaString()}try{f.style[q]=m}catch(N){}}};s.fx.step[q]=function(f){f.colorInit||(f.start=h(f.elem,q),f.end=h(f.end),f.colorInit=!0);s.cssHooks[q].set(f.elem,f.start.transition(f.end,f.pos))}})};h.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");s.cssHooks.borderColor={expand:function(f){var h={};q(["Top","Right","Bottom","Left"],function(q,
m){h["border"+m+"Color"]=f});return h}};Z=s.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
(function(){function s(){}function K(m,h){for(var r=m.length;r--;)if(m[r].listener===h)return r;return-1}function J(m){return function(){return this[m].apply(this,arguments)}}var A=s.prototype,V=this,N=V.ngEventEmitter;A.getListeners=function(m){var h=this._getEvents(),r,t;if("object"===typeof m)for(t in r={},h)h.hasOwnProperty(t)&&m.test(t)&&(r[t]=h[t]);else r=h[m]||(h[m]=[]);return r};A.flattenListeners=function(m){var h=[],r;for(r=0;r<m.length;r+=1)h.push(m[r].listener);return h};A.getListenersAsObject=
function(m){var h=this.getListeners(m),r;h instanceof Array&&(r={},r[m]=h);return r||h};A.addListener=function(m,h){var r=this.getListenersAsObject(m),t="object"===typeof h,s;for(s in r)r.hasOwnProperty(s)&&-1===K(r[s],h)&&r[s].push(t?h:{listener:h,once:!1});return this};A.on=J("addListener");A.addOnceListener=function(m,h){return this.addListener(m,{listener:h,once:!0})};A.once=J("addOnceListener");A.defineEvent=function(m){this.getListeners(m);return this};A.defineEvents=function(m){for(var h=0;h<
m.length;h+=1)this.defineEvent(m[h]);return this};A.removeListener=function(m,h){var r=this.getListenersAsObject(m),t,s;for(s in r)r.hasOwnProperty(s)&&(t=K(r[s],h),-1!==t&&r[s].splice(t,1));return this};A.off=J("removeListener");A.addListeners=function(m,h){return this.manipulateListeners(!1,m,h)};A.removeListeners=function(m,h){return this.manipulateListeners(!0,m,h)};A.manipulateListeners=function(m,h,r){var t,s,A=m?this.removeListener:this.addListener;m=m?this.removeListeners:this.addListeners;
if("object"!==typeof h||h instanceof RegExp)for(t=r.length;t--;)A.call(this,h,r[t]);else for(t in h)h.hasOwnProperty(t)&&(s=h[t])&&("function"===typeof s?A.call(this,t,s):m.call(this,t,s));return this};A.removeEvent=function(m){var h=typeof m,r=this._getEvents(),t;if("string"===h)delete r[m];else if("object"===h)for(t in r)r.hasOwnProperty(t)&&m.test(t)&&delete r[t];else delete this._events;return this};A.removeAllListeners=J("removeEvent");A.emitEvent=function(m,h){var r=this.getListenersAsObject(m),
t,s,A,N;for(A in r)if(r.hasOwnProperty(A))for(s=r[A].length;s--;)t=r[A][s],!0===t.once&&this.removeListener(m,t.listener),N=t.listener.apply(this,h||[]),N===this._getOnceReturnValue()&&this.removeListener(m,t.listener);return this};A.trigger=J("emitEvent");A.emit=function(m){var h=Array.prototype.slice.call(arguments,1);return this.emitEvent(m,h)};A.setOnceReturnValue=function(m){this._onceReturnValue=m;return this};A._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:
!0};A._getEvents=function(){return this._events||(this._events={})};s.noConflict=function(){V.ngEventEmitter=N;return s};"function"===typeof define&&define.amd?define("ngEventEmitter/ngEventEmitter",[],function(){return s}):"object"===typeof module&&module.exports?module.exports=s:this.ngEventEmitter=s}).call(this);
(function(s){function K(A){var m=s.event;m.target=m.target||m.srcElement||A;return m}var J=document.documentElement,A=function(){};J.addEventListener?A=function(s,m,h){s.addEventListener(m,h,!1)}:J.attachEvent&&(A=function(s,m,h){s[m+h]=h.handleEvent?function(){var m=K(s);h.handleEvent.call(h,m)}:function(){var m=K(s);h.call(s,m)};s.attachEvent("on"+m,s[m+h])});var V=function(){};J.removeEventListener?V=function(s,m,h){s.removeEventListener(m,h,!1)}:J.detachEvent&&(V=function(s,m,h){s.detachEvent("on"+
m,s[m+h]);try{delete s[m+h]}catch(r){s[m+h]=void 0}});J={bind:A,unbind:V};"function"===typeof define&&define.amd?define("eventie/eventie",J):s.eventie=J})(this);
(function(s,K){"function"===typeof define&&define.amd?define(["ngeventEmitter/ngEventEmitter","eventie/eventie"],function(J,A){return K(s,J,A)}):"object"===typeof exports?module.exports=K(s,require("ngeventEmitter"),require("eventie")):s.ngimagesLoaded=K(s,s.ngEventEmitter,s.eventie)})(this,function(s,K,J){function A(h,f){for(var m in f)h[m]=f[m];return h}function V(h){var f=[];if("[object Array]"===O.call(h))f=h;else if("number"===typeof h.length)for(var m=0,r=h.length;m<r;m++)f.push(h[m]);else f.push(h);
return f}function N(h,f,m){if(!(this instanceof N))return new N(h,f);"string"===typeof h&&(h=document.querySelectorAll(h));this.elements=V(h);this.options=A({},this.options);"function"===typeof f?m=f:A(this.options,f);if(m)this.on("always",m);this.getImages();r&&(this.jqDeferred=new r.Deferred);var s=this;setTimeout(function(){s.check()})}function m(h){this.img=h}function h(h){this.src=h;Z[h]=this}var r=s.jQuery,t=s.console,F="undefined"!==typeof t,O=Object.prototype.toString;N.prototype=new K;N.prototype.options=
{};N.prototype.getImages=function(){this.images=[];for(var h=0,f=this.elements.length;h<f;h++){var m=this.elements[h];"IMG"===m.nodeName&&this.addImage(m);if(m.nodeType&&(1===m.nodeType||9===m.nodeType))for(var m=m.querySelectorAll("img"),r=0,s=m.length;r<s;r++)this.addImage(m[r])}};N.prototype.addImage=function(h){h=new m(h);this.images.push(h)};N.prototype.check=function(){function h(q,s){f.options.debug&&F&&t.log("confirm",q,s);f.progress(q);m++;m===r&&f.complete();return!0}var f=this,m=0,r=this.images.length;
this.hasAnyBroken=!1;if(r)for(var s=0;s<r;s++){var A=this.images[s];A.on("confirm",h);A.check()}else this.complete()};N.prototype.progress=function(h){this.hasAnyBroken=this.hasAnyBroken||!h.isLoaded;var f=this;setTimeout(function(){f.emit("progress",f,h);f.jqDeferred&&f.jqDeferred.notify&&f.jqDeferred.notify(f,h)})};N.prototype.complete=function(){var h=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var f=this;setTimeout(function(){f.emit(h,f);f.emit("always",f);if(f.jqDeferred)f.jqDeferred[f.hasAnyBroken?
"reject":"resolve"](f)})};r&&(r.fn.ngimagesLoaded=function(h,f){return(new N(this,h,f)).jqDeferred.promise(r(this))});m.prototype=new K;m.prototype.check=function(){var m=Z[this.img.src]||new h(this.img.src);if(m.isConfirmed)this.confirm(m.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var f=this;m.on("confirm",function(h,m){f.confirm(h.isLoaded,m);return!0});m.check()}};m.prototype.confirm=function(h,
f){this.isLoaded=h;this.emit("confirm",this,f)};var Z={};h.prototype=new K;h.prototype.check=function(){if(!this.isChecked){var h=new Image;J.bind(h,"load",this);J.bind(h,"error",this);h.src=this.src;this.isChecked=!0}};h.prototype.handleEvent=function(h){var f="on"+h.type;if(this[f])this[f](h)};h.prototype.onload=function(h){this.confirm(!0,"onload");this.unbindProxyEvents(h)};h.prototype.onerror=function(h){this.confirm(!1,"onerror");this.unbindProxyEvents(h)};h.prototype.confirm=function(h,f){this.isConfirmed=
!0;this.isLoaded=h;this.emit("confirm",this,f)};h.prototype.unbindProxyEvents=function(h){J.unbind(h.target,"load",this);J.unbind(h.target,"error",this)};return N});
