/**
 * jQuery.minitranslate
 * http://bryce.io/minitranslate
 * minitranslate.herokuapp.com
 *
 * @version
 * 0.8.0 (June 7 2014)
 *
 * @license
 * The MIT license.
 */
function mt(a,b){var h;$(b).length>0&&a.length>0&&"mt-ignore"!==$(b).attr("class")&&($(b).children().length>0?$.each($(b).children(),function(b,c){"mt-ignore"!==$(c).attr("class")&&(punct_and_text=prepare_punct_and_text(c),iterate_lib(punct_and_text[0],h,a),append_punct(punct_and_text[0],punct_and_text[1]),apply_changes(c,punct_and_text[0]))}):(punct_and_text=prepare_punct_and_text(b),iterate_lib(punct_and_text[0],h,a),append_punct(punct_and_text[0],punct_and_text[1]),apply_changes(b,punct_and_text[0])))}function append_punct(a,b){for(i=0;i<b.length;i++)a[b[i].idx]+=b[i].c}function apply_changes(a,b){txt=b.join(" "),"mt-output"===$(a).attr("id")?$(a).val(txt):$(a).text(txt)}function prepare_punct_and_text(a){return txt="mt-output"===$(a).attr("id")?$(a).val():$(a).text(),tmp=txt.split(" "),punct=get_punct(tmp),txt=txt.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,""),txt_arr=txt.split(" "),[txt_arr,punct]}function iterate_lib(a,b,c){for(i=0;i<c.length;i++)for(j=0;j<a.length;j++)b=detect_capitals(a[j]),a[j].toLowerCase()===c[i].w.toLowerCase()&&(a[j]=apply_capitals(c[i].r,b))}function get_punct(a){var b=[];for(i=0;i<a.length;i++)for(j=0;j<a[i].length;j++)("!"===a[i].charAt(j)||"?"===a[i].charAt(j)||","===a[i].charAt(j)||"."===a[i].charAt(j))&&b.push(new Pun(a[i].charAt(j),i));return b}function detect_capitals(a){for(var b=[],c=0;c<a.length;c++)a.charAt(c)>="A"&&a.charAt(c)<="Z"?b.push(1):b.push(0);return b}function apply_capitals(a,b){for(var c="",d=a.length>=b.length?b.length:a.length,e=0;d>e;e++)c+=b[e]?a.charAt(e).toUpperCase():a.charAt(e).toLowerCase();return a.length>=b.length&&(c+=a.substr(e,a.length-1)),c}function Pun(a,b){this.c=a,this.idx=b}function mt_translate(a){$(".mt-translate").each(function(b,c){mt(a,c)})}function mt_watch(a,b,c){$(b).keyup(function(){b.hasClass("mt-patient")||($(c).val($(this).val()),mt(a,$(c)))}),$("#mt-button").click(function(){$(c).val($(b).val()),mt(a,$(c))})}$("#mt-input").length>0&&0===$("#mt-output").length&&console.log("MT-DEBUG: Input detected but no Output. Check your input IDs"),0===$("#mt-input").length&&$("#mt-output").length>0&&console.log("MT-DEBUG: Output detected but no Input. Check your input IDs"),mt_watch(mt_lib,$("#mt-input"),$("#mt-output")),mt_translate(mt_lib);