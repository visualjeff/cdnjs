/**
 * minitranslate.js
 * http://bryce.io/minitranslate
 * minitranslate.herokuapp.com
 *
 * @version
 * 1.0.3 (July 8 2014)
 *
 * @license
 * The MIT license.
 */
function mt(a,b){if((""!==b.innerHTML||""!==b.value)&&a.length>0&&"mt-ignore"!==b.getAttribute("class"))if(b.children.length>0){var c=b.children;Array.prototype.forEach.call(c,function(b){"mt-ignore"!==b.getAttribute("class")&&(punct_and_text=prepare_punct_and_text(b),iterate_lib(punct_and_text[0],a),append_punct(punct_and_text[0],punct_and_text[1]),apply_changes(b,punct_and_text[0]))})}else punct_and_text=prepare_punct_and_text(b),iterate_lib(punct_and_text[0],a),append_punct(punct_and_text[0],punct_and_text[1]),apply_changes(b,punct_and_text[0])}function append_punct(a,b){for(var c=0;c<b.length;c++)a[b[c].idx]+=b[c].c}function apply_changes(a,b){var c=b.join(" ");"mt-output"===a.id?a.value=c:a.innerHTML=c}function prepare_punct_and_text(a){if("mt-output"===a.id)var b=a.value;else var b=a.innerText;var c=b.split(" "),d=get_punct(c);b=b.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"");var e=b.split(" ");return[e,d]}function iterate_lib(a,b){for(var c=0;c<b.length;c++)for(var d=0;d<a.length;d++){var e=detect_capitals(a[d]);a[d].toLowerCase()===b[c].w.toLowerCase()&&(a[d]=apply_capitals(b[c].r,e))}}function get_punct(a){for(var b=[],c=0;c<a.length;c++)for(var d=0;d<a[c].length;d++)("!"===a[c].charAt(d)||"?"===a[c].charAt(d)||","===a[c].charAt(d)||"."===a[c].charAt(d))&&b.push(new Pun(a[c].charAt(d),c));return b}function detect_capitals(a){for(var b=[],c=0;c<a.length;c++)a.charAt(c)>="A"&&a.charAt(c)<="Z"?b.push(1):b.push(0);return b}function apply_capitals(a,b){for(var c="",d=a.length>=b.length?b.length:a.length,e=0;d>e;e++)c+=b[e]?a.charAt(e).toUpperCase():a.charAt(e).toLowerCase();return a.length>=b.length&&(c+=a.substr(e,a.length-1)),c}function Pun(a,b){this.c=a,this.idx=b}function mt_translate(a){var b=document.querySelectorAll(".mt-translate");Array.prototype.forEach.call(b,function(b){mt(a,b)})}function mt_watch(a){var b=document.getElementById("mt-input"),c=document.getElementById("mt-output"),d=document.getElementById("mt-button");null!==b&&null!==c&&(b.onkeyup=function(){b.getAttribute(!1)||(c.value=b.value,mt(a,c))}),null!==d&&document.getElementById("mt-button").click(function(){c.value=b.value,mt(a,c)})}document.getElementById("mt-input")&&!document.getElementById("mt-output")&&console.log("mt.js: Input detected but no output. Check your input IDs"),!document.getElementById("mt-input")&&document.getElementById("mt-output")&&console.log("mt.js: Output detected but no input. Check your input IDs"),(null!==document.getElementById("mt-input")&&null!==document.getElementById("mt-output")||null!==document.getElementById("mt-button"))&&mt_watch(mt_lib),mt_translate(mt_lib);