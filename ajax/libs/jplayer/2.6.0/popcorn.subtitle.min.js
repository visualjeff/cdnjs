!function(t){var e=0,n=function(e,n){var i=e.container=document.createElement("div"),o=i.style,r=e.media,a=function(){var t=e.position();o.fontSize="18px",o.width=r.offsetWidth+"px",o.top=t.top+r.offsetHeight-i.offsetHeight-40+"px",o.left=t.left+"px",setTimeout(a,10)};return i.id=n||t.guid(),o.position="absolute",o.color="white",o.textShadow="black 2px 2px 6px",o.fontWeight="bold",o.textAlign="center",a(),e.media.parentNode.appendChild(i),i};t.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(t){var i=document.createElement("div");i.id="subtitle-"+e++,i.style.display="none",!this.container&&(!t.target||"subtitle-container"===t.target)&&n(this),t.container=t.target&&"subtitle-container"!==t.target?document.getElementById(t.target)||n(this,t.target):this.container,document.getElementById(t.container.id)&&document.getElementById(t.container.id).appendChild(i),t.innerContainer=i,t.showSubtitle=function(){t.innerContainer.innerHTML=t.text||""}},start:function(t,e){e.innerContainer.style.display="inline",e.showSubtitle(e,e.text)},end:function(t,e){e.innerContainer.style.display="none",e.innerContainer.innerHTML=""},_teardown:function(t){t.container.removeChild(t.innerContainer)}})}(Popcorn);