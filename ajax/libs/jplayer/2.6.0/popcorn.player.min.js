!function(e){var t=function(t,n){return t=t||e.nop,n=n||e.nop,function(){t.apply(this,arguments),n.apply(this,arguments)}};e.player=function(n,r){if(!e[n]){r=r||{};var i=function(n,i,o){o=o||{};var a,u,c=new Date/1e3,d=c,p=0,f=0,s=1,l=!1,y={},v="string"==typeof n?e.dom.find(n):n,h={};Object.prototype.__defineGetter__||(h=v||document.createElement("div"));for(var m in v)m in h||("object"==typeof v[m]?h[m]=v[m]:"function"==typeof v[m]?h[m]=function(e){return"length"in v[e]&&!v[e].call?v[e]:function(){return v[e].apply(v,arguments)}}(m):e.player.defineProperty(h,m,{get:function(e){return function(){return v[e]}}(m),set:e.nop,configurable:!0}));var g=function(){c=new Date/1e3,h.paused||(h.currentTime=h.currentTime+(c-d),h.dispatchEvent("timeupdate"),a=setTimeout(g,10)),d=c};return h.play=function(){this.paused=!1,h.readyState>=4&&(d=new Date/1e3,h.dispatchEvent("play"),g())},h.pause=function(){this.paused=!0,h.dispatchEvent("pause")},e.player.defineProperty(h,"currentTime",{get:function(){return p},set:function(e){return p=+e,h.dispatchEvent("timeupdate"),p},configurable:!0}),e.player.defineProperty(h,"volume",{get:function(){return s},set:function(e){return s=+e,h.dispatchEvent("volumechange"),s},configurable:!0}),e.player.defineProperty(h,"muted",{get:function(){return l},set:function(e){return l=+e,h.dispatchEvent("volumechange"),l},configurable:!0}),e.player.defineProperty(h,"readyState",{get:function(){return f},set:function(e){return f=e},configurable:!0}),h.addEventListener=function(e,t){return y[e]||(y[e]=[]),y[e].push(t),t},h.removeEventListener=function(e,t){var n,r=y[e];if(r){for(n=y[e].length-1;n>=0;n--)t===r[n]&&r.splice(n,1);return t}},h.dispatchEvent=function(t){var n,r,i=this,o=t.type;if(o||(o=t,r=e.events.getInterface(o),r&&(n=document.createEvent(r),n.initEvent(o,!0,!0,window,1))),y[o])for(var a=y[o].length-1;a>=0;a--)y[o][a].call(i,n,i)},h.src=i||"",h.duration=0,h.paused=!0,h.ended=0,o&&o.events&&e.forEach(o.events,function(e,t){h.addEventListener(t,e,!1)}),r._canPlayType(v.nodeName,i)!==!1?r._setup?r._setup.call(h,o):(h.readyState=4,h.dispatchEvent("loadedmetadata"),h.dispatchEvent("loadeddata"),h.dispatchEvent("canplaythrough")):setTimeout(function(){h.dispatchEvent("error")},0),u=new e.p.init(h,o),r._teardown&&(u.destroy=t(u.destroy,function(){r._teardown.call(h,o)})),u};i.canPlayType=r._canPlayType=r._canPlayType||e.nop,e[n]=e.player.registry[n]=i}},e.player.registry={},e.player.defineProperty=Object.defineProperty||function(t,n,r){t.__defineGetter__(n,r.get||e.nop),t.__defineSetter__(n,r.set||e.nop)},e.player.playerQueue=function(){var e=[],t=!1;return{next:function(){t=!1,e.shift(),e[0]&&e[0]()},add:function(n){e.push(function(){t=!0,n&&n()}),!t&&e[0]()}}},e.smart=function(t,n,r){var i,o,a,u,c,d,p,f="string"==typeof t?e.dom.find(t):t,s="HTMLYouTubeVideoElement HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!f)return void e.error("Specified target `"+t+"` was not found.");for(n="string"==typeof n?[n]:n,i=0,p=n.length;p>i;i++){for(o=n[i],a=0;a<s.length;a++)if(c=e[s[a]],c&&"probably"===c._canPlaySrc(o))return u=c(f),d=e(u,r),setTimeout(function(){u.src=o},0),d;for(var l in e.player.registry)if(e.player.registry.hasOwnProperty(l)&&e.player.registry[l].canPlayType(f.nodeName,o))return e[l](f,o,r)}var y,v,h=e.guid("popcorn-video-"),m=document.createElement("div");if(m.style.width="100%",m.style.height="100%",1===n.length)return v=document.createElement("video"),v.id=h,f.appendChild(v),setTimeout(function(){var e=document.createElement("div");e.innerHTML=n[0],v.src=e.firstChild.nodeValue},0),e("#"+h,r);for(f.appendChild(m),y='<video id="'+h+'" preload=auto autobuffer>',i=0,p=n.length;p>i;i++)y+='<source src="'+n[i]+'">';return y+="</video>",m.innerHTML=y,r&&r.events&&r.events.error&&f.addEventListener("error",r.events.error,!1),e("#"+h,r)}}(Popcorn);