(function(root,factory){if(typeof exports==="object"){module.exports=factory(root)}else if(typeof define==="function"&&define.amd){define(factory)}else{root.ramda=factory(root)}})(this,function(global){"use strict";return function(){var R={};var undef=function(){}();var aliasFor=function(oldName){var fn=function(newName){R[newName]=R[oldName];return fn};fn.is=fn.are=fn.and=fn;return fn};var _slice=function(args,from,to){from=from||0;to=to||args.length;var length=to-from,arr=new Array(length),i=-1;while(++i<length){arr[i]=args[from+i]}return arr};var concat=function(set1,set2){set1=set1||[];set2=set2||[];var length1=set1.length,length2=set2.length,result=new Array(length1+length2);for(var i=0;i<length1;i++){result[i]=set1[i]}for(i=0;i<length2;i++){result[i+length1]=set2[i]}return result};var toString=Object.prototype.toString;var isArray=Array.isArray||function(val){return val&&val.length>=0&&toString.call(val)==="[object Array]"};var curry=R.curry=function(fn,fnArity){fnArity=typeof fnArity==="number"?fnArity:fn.length;function recurry(args){return arity(Math.max(fnArity-(args&&args.length||0),0),function(){if(arguments.length===0){throw NO_ARGS_EXCEPTION}var newArgs=concat(args,arguments);if(newArgs.length>=fnArity){return fn.apply(this,newArgs)}else{return recurry(newArgs)}})}return recurry([])};var NO_ARGS_EXCEPTION=new TypeError("Function called with no arguments");function curry2(fn){return function(a,b){switch(arguments.length){case 0:throw NO_ARGS_EXCEPTION;case 1:return function(b){return fn(a,b)}}return fn(a,b)}}function curry3(fn){return function(a,b,c){switch(arguments.length){case 0:throw NO_ARGS_EXCEPTION;case 1:return curry2(function(b,c){return fn(a,b,c)});case 2:return function(c){return fn(a,b,c)}}return fn(a,b,c)}}var hasMethod=function(methodName,obj){return obj&&!isArray(obj)&&typeof obj[methodName]==="function"};var mkArgStr=function(n){var arr=[],idx=-1;while(++idx<n){arr[idx]="arg"+idx}return arr.join(", ")};var nAry=R.nAry=function(){var cache={0:function(func){return function(){return func.call(this)}},1:function(func){return function(arg0){return func.call(this,arg0)}},2:function(func){return function(arg0,arg1){return func.call(this,arg0,arg1)}},3:function(func){return function(arg0,arg1,arg2){return func.call(this,arg0,arg1,arg2)}}};var makeN=function(n){var fnArgs=mkArgStr(n);var body=["    return function("+fnArgs+") {","        return func.call(this"+(fnArgs?", "+fnArgs:"")+");","    }"].join("\n");return new Function("func",body)};return function(n,fn){return(cache[n]||(cache[n]=makeN(n)))(fn)}}();R.unary=function(fn){return nAry(1,fn)};var binary=R.binary=function(fn){return nAry(2,fn)};var arity=R.arity=function(){var cache={0:function(func){return function(){return func.apply(this,arguments)}},1:function(func){return function(arg0){return func.apply(this,arguments)}},2:function(func){return function(arg0,arg1){return func.apply(this,arguments)}},3:function(func){return function(arg0,arg1,arg2){return func.apply(this,arguments)}}};var makeN=function(n){var fnArgs=mkArgStr(n);var body=["    return function("+fnArgs+") {","        return func.apply(this, arguments);","    }"].join("\n");return new Function("func",body)};return function(n,fn){return(cache[n]||(cache[n]=makeN(n)))(fn)}}();var invoker=R.invoker=function(name,obj,len){var method=obj[name];var length=len===undef?method.length:len;return method&&curry(function(){if(arguments.length){var target=Array.prototype.pop.call(arguments);var targetMethod=target[name];if(targetMethod==method){return targetMethod.apply(target,arguments)}}return undef},length+1)};var useWith=R.useWith=function(fn){var transformers=_slice(arguments,1);var tlen=transformers.length;return curry(arity(tlen,function(){var args=[],idx=-1;while(++idx<tlen){args.push(transformers[idx](arguments[idx]))}return fn.apply(this,args.concat(_slice(arguments,tlen)))}))};R.use=function(fn){return{over:function(){var transformers=_slice(arguments,0);var tlen=transformers.length;return curry(arity(tlen,function(){var args=[],idx=-1;while(++idx<tlen){args.push(transformers[idx](arguments[idx]))}return fn.apply(this,args.concat(_slice(arguments,tlen)))}))}}};var each=R.each=function(fn,list){function _each(list){var idx=-1,len=list.length;while(++idx<len){fn(list[idx])}return list}return arguments.length<2?_each:_each(list)};each.idx=function(fn,list){function _eachIdx(list){var idx=-1,len=list.length;while(++idx<len){fn(list[idx],idx,list)}return list}return arguments.length<2?_eachIdx:_eachIdx(list)};aliasFor("each").is("forEach");var clone=R.clone=function(list){return _slice(list)};var isEmpty=R.isEmpty=function(arr){return!arr||!arr.length};var prepend=R.prepend=function(el,arr){return concat([el],arr)};aliasFor("prepend").is("cons");var head=R.head=function(arr){arr=arr||[];return arr[0]};aliasFor("head").is("car").and("first");R.last=function(arr){arr=arr||[];return arr[arr.length-1]};var tail=R.tail=function(arr){arr=arr||[];if(hasMethod("tail",arr)){return arr.tail()}return arr.length>1?_slice(arr,1):[]};aliasFor("tail").is("cdr");R.isAtom=function(x){return x!==null&&x!==undef&&!isArray(x)};var append=R.append=function(el,list){return concat(list,[el])};aliasFor("append").is("push");var merge=R.merge=curry2(concat);aliasFor("merge").is("concat");var identity=R.identity=function(x){return x};aliasFor("identity").is("I");R.times=curry2(function(fn,n){var arr=new Array(n);var i=-1;while(++i<n){arr[i]=fn(i)}return arr});R.repeatN=curry2(function(value,n){return R.times(R.always(value),n)});function partially(f,a){return function(){return f.apply(this,concat([a],arguments))}}function internalCompose(f,g){return function(){return f.call(this,g.apply(this,arguments))}}var compose=R.compose=function(){var length=arguments.length,func=arguments[--length];if(!length){return partially(compose,func)}while(length--){func=internalCompose(arguments[length],func)}return func};R.pipe=function(){if(arguments.length==1){return partially(R.pipe,arguments[0])}return compose.apply(this,_slice(arguments).reverse())};aliasFor("pipe").is("sequence");var flip=R.flip=function(fn){return function(a,b){return arguments.length<2?function(b){return fn.apply(this,[b,a].concat(_slice(arguments,1)))}:fn.apply(this,[b,a].concat(_slice(arguments,2)))}};R.lPartial=function(fn){var args=_slice(arguments,1);return arity(Math.max(fn.length-args.length,0),function(){return fn.apply(this,concat(args,arguments))})};aliasFor("lPartial").is("applyLeft");R.rPartial=function(fn){var args=_slice(arguments,1);return arity(Math.max(fn.length-args.length,0),function(){return fn.apply(this,concat(arguments,args))})};aliasFor("rPartial").is("applyRight");R.memoize=function(fn){var cache={};return function(){var position=foldl(function(cache,arg){return cache[arg]||(cache[arg]={})},cache,_slice(arguments,0,arguments.length-1));var arg=arguments[arguments.length-1];return position[arg]||(position[arg]=fn.apply(this,arguments))}};R.once=function(fn){var called=false,result;return function(){if(called){return result}called=true;result=fn.apply(this,arguments);return result}};R.wrap=function(fn,wrapper){return function(){return wrapper.apply(this,concat([fn],arguments))}};R.construct=function(Fn){var f=function(){var obj=new Fn;Fn.apply(obj,arguments);return obj};return Fn.length>1?curry(nAry(Fn.length,f)):f};R.fork=function(after){var fns=_slice(arguments,1);return function(){var args=arguments;return after.apply(this,map(function(fn){return fn.apply(this,args)},fns))}};var foldl=R.foldl=curry3(function(fn,acc,list){if(hasMethod("foldl",list)){return list.foldl(fn,acc)}var idx=-1,len=list.length;while(++idx<len){acc=fn(acc,list[idx])}return acc});aliasFor("foldl").is("reduce");R.foldl.idx=curry3(function(fn,acc,list){if(hasMethod("foldl",list)){return list.foldl(fn,acc)}var idx=-1,len=list.length;while(++idx<len){acc=fn(acc,list[idx],idx,list)}return acc});var foldr=R.foldr=curry3(function(fn,acc,list){if(hasMethod("foldr",list)){return list.foldr(fn,acc)}var idx=list.length;while(idx--){acc=fn(acc,list[idx])}return acc});aliasFor("foldr").is("reduceRight");R.foldr.idx=curry3(function(fn,acc,list){if(hasMethod("foldr",list)){return list.foldr(fn,acc)}var idx=list.length;while(idx--){acc=fn(acc,list[idx],idx,list)}return acc});R.unfoldr=curry2(function(fn,seed){var pair=fn(seed);var result=[];while(pair&&pair.length){result.push(pair[0]);pair=fn(pair[1])}return result});function map(fn,list){if(hasMethod("map",list)){return list.map(fn)}var idx=-1,len=list.length,result=new Array(len);while(++idx<len){result[idx]=fn(list[idx])}return result}R.map=curry2(map);R.map.idx=curry2(function(fn,list){if(hasMethod("map",list)){return list.map(fn)}var idx=-1,len=list.length,result=new Array(len);while(++idx<len){result[idx]=fn(list[idx],idx,list)}return result});R.mapObj=curry2(function(fn,obj){return foldl(function(acc,key){acc[key]=fn(obj[key]);return acc},{},keys(obj))});R.mapObj.idx=function(fn,obj){function _mapObjIdx(obj){return foldl(function(acc,key){acc[key]=fn(obj[key],key,obj);return acc},{},keys(obj))}return arguments.length<2?_mapObjIdx:_mapObjIdx(obj)};R.size=function(arr){return arr.length};var filter=function(fn,list){if(hasMethod("filter",list)){return list.filter(fn)}var idx=-1,len=list.length,result=[];while(++idx<len){if(fn(list[idx])){result.push(list[idx])}}return result};var filterIdx=function(fn,list){if(hasMethod("filter",list)){return list.filter(fn)}var idx=-1,len=list.length,result=[];while(++idx<len){if(fn(list[idx],idx,list)){result.push(list[idx])}}return result};var reject=function(fn,list){return filter(not(fn),list)};R.filter=curry2(filter);R.filter.idx=curry2(filterIdx);R.reject=curry2(reject);R.reject.idx=curry2(function(fn,list){return filterIdx(not(fn),list)});R.takeWhile=curry2(function(fn,list){if(hasMethod("takeWhile",list)){return list.takeWhile(fn)}var idx=-1,len=list.length;while(++idx<len&&fn(list[idx])){}return _slice(list,0,idx)});R.take=curry2(function(n,list){if(hasMethod("take",list)){return list.take(n)}var ls=clone(list);ls.length=Math.min(n,list.length);return ls});R.skipUntil=curry2(function(fn,list){var idx=-1,len=list.length;while(++idx<len&&!fn(list[idx])){}return _slice(list,idx)});R.skip=curry2(function(n,list){if(hasMethod("skip",list)){return list.skip(n)}return _slice(list,n)});aliasFor("skip").is("drop");R.find=function(fn,list){function _find(list){var idx=-1;var len=list.length;while(++idx<len){if(fn(list[idx])){return list[idx]}}return undef}return arguments.length<2?_find:_find(list)};R.findIndex=curry2(function(fn,list){var idx=-1;var len=list.length;while(++idx<len){if(fn(list[idx])){return idx}}return-1});R.findLast=curry2(function(fn,list){var idx=list.length;while(--idx){if(fn(list[idx])){return list[idx]}}return undef});R.findLastIndex=curry2(function(fn,list){var idx=list.length;while(--idx){if(fn(list[idx])){return idx}}return-1});var all=function(fn,list){var i=-1;while(++i<list.length){if(!fn(list[i])){return false}}return true};R.all=curry2(all);aliasFor("all").is("every");var any=function(fn,list){var i=-1;while(++i<list.length){if(fn(list[i])){return true}}return false};R.any=curry2(any);aliasFor("any").is("some");var indexOf=function(array,item,from){var i=0,length=array.length;if(typeof from=="number"){i=from<0?Math.max(0,length+from):from}for(;i<length;i++){if(array[i]===item)return i}return-1};var lastIndexOf=function(array,item,from){var idx=array.length;if(typeof from=="number"){idx=from<0?idx+from+1:Math.min(idx,from+1)}while(--idx>=0){if(array[idx]===item)return idx}return-1};R.indexOf=curry2(function _indexOf(target,list){return indexOf(list,target)});R.indexOf.from=curry3(function indexOfFrom(target,fromIdx,list){return indexOf(list,target,fromIdx)});R.lastIndexOf=curry2(function _lastIndexOf(target,list){return lastIndexOf(list,target)});R.lastIndexOf.from=curry3(function lastIndexOfFrom(target,fromIdx,list){return lastIndexOf(list,target,fromIdx)});function contains(a,list){return indexOf(list,a)>-1}R.contains=curry2(contains);var containsWith=function(pred,x,list){var idx=-1,len=list.length;while(++idx<len){if(pred(x,list[idx])){return true}}return false};R.containsWith=curry3(containsWith);var uniq=R.uniq=foldr(function(acc,x){return contains(x,acc)?acc:prepend(x,acc)},[]);R.isSet=function(list){return uniq(list).length===list.length};var uniqWith=R.uniqWith=curry2(function(pred,list){return foldr(function(acc,x){return containsWith(pred,x,acc)?acc:prepend(x,acc)},[],list)});var pluck=R.pluck=curry2(function(p,list){return map(prop(p),list)});var flatten=R.flatten=function(list){var output=[],idx=0,value;for(var i=0,length=list.length;i<length;i++){value=list[i];if(isArray(value)){value=flatten(value);var j=0,len=value.length;output.length+=len;while(j<len){output[idx++]=value[j++]}}else{output[idx++]=value}}return output};R.zipWith=curry3(function(fn,a,b){var rv=[],i=-1,len=Math.min(a.length,b.length);while(++i<len){rv[i]=fn(a[i],b[i])}return rv});R.zip=curry2(function(a,b){var rv=[];var i=-1;var len=Math.min(a.length,b.length);while(++i<len){rv[i]=[a[i],b[i]]}return rv});R.xprodWith=curry3(function(fn,a,b){if(isEmpty(a)||isEmpty(b)){return[]}var i=-1,ilen=a.length,j,jlen=b.length,result=[];while(++i<ilen){j=-1;while(++j<jlen){result.push(fn(a[i],b[j]))}}return result});R.xprod=curry2(function(a,b){if(isEmpty(a)||isEmpty(b)){return[]}var i=-1;var ilen=a.length;var j;var jlen=b.length;var result=[];while(++i<ilen){j=-1;while(++j<jlen){result.push([a[i],b[j]])}}return result});R.reverse=function(list){return clone(list||[]).reverse()};R.range=curry2(function(from,to){if(from>=to){return[]}var idx=0,result=new Array(Math.floor(to)-Math.ceil(from));for(;from<to;idx++,from++){result[idx]=from}return result});R.join=invoker("join",Array.prototype);R.slice=invoker("slice",Array.prototype);R.slice.from=flip(R.slice)(undef);R.remove=curry3(function(start,count,list){return concat(_slice(list,0,Math.min(start,list.length)),_slice(list,Math.min(list.length,start+count)))});R.insert=curry3(function(index,elt,list){index=index<list.length&&index>=0?index:list.length;return concat(append(elt,_slice(list,0,index)),_slice(list,index))});R.insert.all=curry3(function(index,elts,list){index=index<list.length&&index>=0?index:list.length;return concat(concat(_slice(list,0,index),elts),_slice(list,index))});R.nth=function(n,list){return arguments.length<2?function _nth(list){return list[n]}:list[n]};var comparator=R.comparator=function(pred){return function(a,b){return pred(a,b)?-1:pred(b,a)?1:0}};var sort=R.sort=function(comparator,list){return arguments.length<2?function _sort(list){return clone(list).sort(comparator)}:clone(list).sort(comparator)};R.partition=curry2(function(fn,list){return foldl(function(acc,elt){var key=fn(elt);acc[key]=append(elt,acc[key]||(acc[key]=[]));return acc},{},list)});aliasFor("partition").is("groupBy");R.tap=curry2(function(x,fn){if(typeof fn==="function"){fn(x)}return x});aliasFor("tap").is("K");R.eq=function(a,b){return arguments.length<2?function _eq(b){return a===b}:a===b};var prop=R.prop=function(p,obj){return arguments.length<2?function _prop(obj){return obj[p]}:obj[p]};aliasFor("prop").is("get");R.func=function(fn,obj){function _func(obj){return obj[fn].apply(obj,_slice(arguments,1))}return arguments.length<2?_func:_func(obj)};R.props=function(obj,prop){return arguments.length<2?function _props(prop){return obj&&obj[prop]}:obj&&obj[prop]};var always=R.always=function(val){return function(){return val}};aliasFor("always").is("constant");var anyBlanks=R.any(function(val){return val===null||val===undef});var hasOwnProperty=Object.prototype.hasOwnProperty;var nativeKeys=Object.keys;var keys=R.keys=function(obj){if(nativeKeys)return nativeKeys(Object(obj));var prop,ks=[];for(prop in obj){if(hasOwnProperty.call(obj,prop)){ks.push(prop)}}return ks};R.keysIn=function(obj){var prop,ks=[];for(prop in obj){ks.push(prop)}return ks};R.values=function(obj){var prop,props=keys(obj),length=props.length,vals=new Array(length);for(var i=0;i<length;i++){vals[i]=obj[props[i]]}return vals};R.valuesIn=function(obj){var prop,vs=[];for(prop in obj){vs.push(obj[prop])}return vs};function pickWith(test,obj){var copy={},props=keys(obj),prop,val;for(var i=0,len=props.length;i<len;i++){prop=props[i];val=obj[prop];if(test(val,prop,obj)){copy[prop]=val}}return copy}R.pick=curry2(function pick(names,obj){return pickWith(function(val,key){return contains(key,names)},obj)});R.omit=curry2(function omit(names,obj){return pickWith(function(val,key){return!contains(key,names)},obj)});R.pickWith=curry2(pickWith);var pickAll=function(names,obj){var copy={};each(function(name){copy[name]=obj[name]},names);return copy};R.pickAll=curry2(pickAll);R.mixin=curry2(function(a,b){var mixed=pickAll(R.keys(a),a);each(function(key){mixed[key]=b[key]},R.keys(b));return mixed});R.eqProps=function(prop,obj1,obj2){var f1=function eqPropsCurried1(obj1,obj2){var f2=function eqPropsCurried2(obj2){return obj1[prop]===obj2[prop]};return arguments.length<2?f2:f2(obj2)};return arguments.length<2?f1:arguments.length<3?f1(obj1):f1(obj1,obj2)};function satisfiesSpec(spec,parsedSpec,testObj){if(spec===testObj){return true}if(testObj==null){return false}parsedSpec.fn=parsedSpec.fn||[];parsedSpec.obj=parsedSpec.obj||[];var key,val,i=-1,fnLen=parsedSpec.fn.length,j=-1,objLen=parsedSpec.obj.length;while(++i<fnLen){key=parsedSpec.fn[i];val=spec[key];if(!hasOwnProperty.call(testObj,key)){return false}if(!val(testObj[key],testObj)){return false}}while(++j<objLen){key=parsedSpec.obj[j];if(spec[key]!==testObj[key]){return false}}return true}R.where=function where(spec,testObj){var parsedSpec=R.partition(function(key){return typeof spec[key]==="function"?"fn":"obj"},keys(spec));switch(arguments.length){case 0:throw NO_ARGS_EXCEPTION;case 1:return function(testObj){return satisfiesSpec(spec,parsedSpec,testObj)}}return satisfiesSpec(spec,parsedSpec,testObj)};R.installTo=function(obj){each(function(key){(obj||global)[key]=R[key]})(keys(R))};R.alwaysZero=always(0);R.alwaysFalse=always(false);R.alwaysTrue=always(true);R.and=function(f,g){function _and(g){return function(){return!!(f.apply(this,arguments)&&g.apply(this,arguments))}}return arguments.length<2?_and:_and(g)};R.or=function(f,g){function _or(g){return function(){return!!(f.apply(this,arguments)||g.apply(this,arguments))}}return arguments.length<2?_or:_or(g)};var not=R.not=function(f){return function(){return!f.apply(this,arguments)}};var predicateWrap=function(predPicker){return function(preds){var predIterator=function(){var args=arguments;return predPicker(function(predicate){return predicate.apply(null,args)},preds)};return arguments.length>1?predIterator.apply(null,_slice(arguments,1)):arity(max(pluck("length",preds)),predIterator)}};R.allPredicates=predicateWrap(all);R.anyPredicates=predicateWrap(any);var add=R.add=function(a,b){return arguments.length<2?function(b){return a+b}:a+b};var multiply=R.multiply=function(a,b){return arguments.length<2?function(b){return a*b}:a*b};var subtract=R.subtract=function(a,b){return arguments.length<2?function(b){return a-b}:a-b};R.subtractN=flip(subtract);var divide=R.divide=function(a,b){return arguments.length<2?function(b){return a/b}:a/b};R.divideBy=flip(divide);var modulo=R.modulo=function(a,b){return arguments.length<2?function(b){return a%b}:a%b};R.moduloBy=flip(modulo);R.sum=foldl(add,0);R.product=foldl(multiply,1);R.lt=function(a,b){return arguments.length<2?function(b){return a<b}:a<b};R.lte=function(a,b){return arguments.length<2?function(b){return a<=b}:a<=b};R.gt=function(a,b){return arguments.length<2?function(b){return a>b}:a>b};R.gte=function(a,b){return arguments.length<2?function(b){return a>=b}:a>=b};var max=R.max=function(list){return foldl(binary(Math.max),-Infinity,list)};R.maxWith=curry2(function(keyFn,list){if(!(list&&list.length>0)){return undef}var idx=0,winner=list[idx],max=keyFn(winner),testKey;while(++idx<list.length){testKey=keyFn(list[idx]);if(testKey>max){max=testKey;winner=list[idx]}}return winner});R.minWith=curry2(function(keyFn,list){if(!(list&&list.length>0)){return undef}var idx=0,winner=list[idx],min=keyFn(list[idx]),testKey;while(++idx<list.length){testKey=keyFn(list[idx]);if(testKey<min){min=testKey;winner=list[idx]}}return winner});R.min=function(list){return foldl(binary(Math.min),Infinity,list)};var substring=R.substring=invoker("substring",String.prototype);R.substringFrom=flip(substring)(undef);R.substringTo=substring(0);R.charAt=invoker("charAt",String.prototype);R.charCodeAt=invoker("charCodeAt",String.prototype);R.match=invoker("match",String.prototype);R.strIndexOf=invoker("indexOf",String.prototype);R.strLastIndexOf=invoker("lastIndexOf",String.prototype);R.toUpperCase=invoker("toUpperCase",String.prototype);R.toLowerCase=invoker("toLowerCase",String.prototype);R.split=invoker("split",String.prototype,1);function path(paths,obj){var i=-1,length=paths.length,val;while(obj!=null&&++i<length){obj=val=obj[paths[i]]}return val}R.pathWith=curry3(function pathWith(fn,str,obj){var paths=fn(str)||[];return path(paths,obj)});R.pathOn=curry3(function pathOn(sep,str,obj){return path(str.split(sep),obj)});R.path=R.pathOn(".");R.project=useWith(map,R.pickAll,identity);R.propEq=function(name,val,obj){var f1=function propEqCurried1(val,obj){var f2=function propEqCurried2(obj){return obj[name]===val};return arguments.length<2?f2:f2(obj)};return arguments.length<2?f1:arguments.length<3?f1(val):f1(val,obj)};R.union=compose(uniq,merge);R.unionWith=curry3(function(pred,list1,list2){return uniqWith(pred,merge(list1,list2))});R.difference=curry2(function(first,second){return uniq(reject(flip(contains)(second),first))});R.differenceWith=function(pred,first,second){var f1=function differenceWithCurried1(first,second){var f2=function differenceWithCurried2(second){return uniqWith(pred)(reject(flip(R.containsWith(pred))(second),first))};return arguments.length<2?f2:f2(second)};return arguments.length<2?f1:arguments.length<3?f1(first):f1(first,second)};R.intersection=function(list1,list2){function _intersection(list2){return uniq(filter(flip(contains)(list1),list2))}return arguments.length<2?_intersection:_intersection(list2)};R.intersectionWith=function(pred,list1,list2){var f1=function intersectionWithCurried1(list1,list2){var f2=function intersectionWithCurried2(list2){var results=[],idx=-1;while(++idx<list1.length){if(containsWith(pred,list1[idx],list2)){results[results.length]=list1[idx]}}return uniqWith(pred,results)};return arguments.length<2?f2:f2(list2)};return arguments.length<2?f1:arguments.length<3?f1(list1):f1(list1,list2)};var keyValue=function(fn,list){function _keyValue(list){return map(function(item){return{key:fn(item),val:item}},list)}return arguments.length<2?_keyValue:_keyValue(list)};R.sortBy=function(fn,list){function _sortBy(list){return pluck("val",keyValue(fn,list).sort(comparator(function(a,b){return a.key<b.key})))}return arguments.length<2?_sortBy:_sortBy(list)};R.countBy=function(fn,list){function _countBy(list){return foldl(function(counts,obj){counts[obj.key]=(counts[obj.key]||0)+1;return counts},{},keyValue(fn,list))}return arguments.length<2?_countBy:_countBy(list)};return R}()});