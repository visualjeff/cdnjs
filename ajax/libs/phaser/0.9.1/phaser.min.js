var Phaser;!function(t){var e=function(){function t(t){this.name="",this._game=t,this.ID=-1,this.exists=!0,this.active=!0,this.visible=!0,this.alive=!0,this.isGroup=!1,this.ignoreDrawDebug=!1}return t.prototype.destroy=function(){},t.prototype.preUpdate=function(){},t.prototype.update=function(){},t.prototype.postUpdate=function(){},t.prototype.render=function(){},t.prototype.kill=function(){this.alive=!1,this.exists=!1},t.prototype.revive=function(){this.alive=!0,this.exists=!0},t.prototype.toString=function(){return""},t}();t.Basic=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t,e,i,n,s){"undefined"==typeof s&&(s=0),this.active=!0,this.params=null,this._listener=e,this._isOnce=i,this.context=n,this._signal=t,this.priority=s||0}return t.prototype.execute=function(t){var e,i;return this.active&&this._listener&&(i=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,i),this._isOnce&&this.detach()),e},t.prototype.detach=function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},t.prototype.isBound=function(){return!!this._signal&&!!this._listener},t.prototype.isOnce=function(){return this._isOnce},t.prototype.getListener=function(){return this._listener},t.prototype.getSignal=function(){return this._signal},t.prototype._destroy=function(){delete this._signal,delete this._listener,delete this.context},t.prototype.toString=function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"},t}();t.SignalBinding=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(){this._bindings=[],this._prevParams=null,this.memorize=!1,this._shouldPropagate=!0,this.active=!0}return e.VERSION="1.0.0",e.prototype.validateListener=function(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},e.prototype._registerListener=function(e,i,n,s){var o,h=this._indexOfListener(e,n);if(-1!==h){if(o=this._bindings[h],o.isOnce()!==i)throw new Error("You cannot add"+(i?"":"Once")+"() then add"+(i?"Once":"")+"() the same listener without removing the relationship first.")}else o=new t.SignalBinding(this,e,i,n,s),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},e.prototype._addBinding=function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t.priority<=this._bindings[e].priority);this._bindings.splice(e+1,0,t)},e.prototype._indexOfListener=function(t,e){for(var i,n=this._bindings.length;n--;)if(i=this._bindings[n],i.getListener()===t&&i.context===e)return n;return-1},e.prototype.has=function(t,e){return"undefined"==typeof e&&(e=null),-1!==this._indexOfListener(t,e)},e.prototype.add=function(t,e,i){return"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=0),this.validateListener(t,"add"),this._registerListener(t,!1,e,i)},e.prototype.addOnce=function(t,e,i){return"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=0),this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,i)},e.prototype.remove=function(t,e){"undefined"==typeof e&&(e=null),this.validateListener(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},e.prototype.removeAll=function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},e.prototype.getNumListeners=function(){return this._bindings.length},e.prototype.halt=function(){this._shouldPropagate=!1},e.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length-0;e++)t[e]=arguments[e+0];if(this.active){var i,n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){i=this._bindings.slice(0),this._shouldPropagate=!0;do n--;while(i[n]&&this._shouldPropagate&&i[n].execute(t)!==!1)}}},e.prototype.forget=function(){this._prevParams=null},e.prototype.dispose=function(){this.removeAll(),delete this._bindings,delete this._prevParams},e.prototype.toString=function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"},e}();t.Signal=e}(Phaser||(Phaser={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i},Phaser;!function(t){var e=function(e){function i(n,s,o,h,r){"undefined"==typeof s&&(s=0),"undefined"==typeof o&&(o=0),"undefined"==typeof h&&(h=16),"undefined"==typeof r&&(r=16),e.call(this,n),this._angle=0,this.z=0,this.moves=!0,this.inputEnabled=!1,this._inputOver=!1,this.bounds=new t.Rectangle(s,o,h,r),this.exists=!0,this.active=!0,this.visible=!0,this.alive=!0,this.isGroup=!1,this.alpha=1,this.scale=new t.MicroPoint(1,1),this.last=new t.MicroPoint(s,o),this.origin=new t.MicroPoint(this.bounds.halfWidth,this.bounds.halfHeight),this.align=i.ALIGN_TOP_LEFT,this.mass=1,this.elasticity=0,this.health=1,this.immovable=!1,this.moves=!0,this.touching=t.Collision.NONE,this.wasTouching=t.Collision.NONE,this.allowCollisions=t.Collision.ANY,this.velocity=new t.MicroPoint,this.acceleration=new t.MicroPoint,this.drag=new t.MicroPoint,this.maxVelocity=new t.MicroPoint(1e4,1e4),this.angle=0,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e4,this.scrollFactor=new t.MicroPoint(1,1)}return __extends(i,e),i.ALIGN_TOP_LEFT=0,i.ALIGN_TOP_CENTER=1,i.ALIGN_TOP_RIGHT=2,i.ALIGN_CENTER_LEFT=3,i.ALIGN_CENTER=4,i.ALIGN_CENTER_RIGHT=5,i.ALIGN_BOTTOM_LEFT=6,i.ALIGN_BOTTOM_CENTER=7,i.ALIGN_BOTTOM_RIGHT=8,i.prototype.preUpdate=function(){this.last.x=this.bounds.x,this.last.y=this.bounds.y},i.prototype.update=function(){},i.prototype.postUpdate=function(){this.moves&&this.updateMotion(),this.inputEnabled&&this.updateInput(),this.wasTouching=this.touching,this.touching=t.Collision.NONE},i.prototype.updateInput=function(){},i.prototype.updateMotion=function(){var t,e;e=(this._game.motion.computeVelocity(this.angularVelocity,this.angularAcceleration,this.angularDrag,this.maxAngular)-this.angularVelocity)/2,this.angularVelocity+=e,this._angle+=this.angularVelocity*this._game.time.elapsed,this.angularVelocity+=e,e=(this._game.motion.computeVelocity(this.velocity.x,this.acceleration.x,this.drag.x,this.maxVelocity.x)-this.velocity.x)/2,this.velocity.x+=e,t=this.velocity.x*this._game.time.elapsed,this.velocity.x+=e,this.bounds.x+=t,e=(this._game.motion.computeVelocity(this.velocity.y,this.acceleration.y,this.drag.y,this.maxVelocity.y)-this.velocity.y)/2,this.velocity.y+=e,t=this.velocity.y*this._game.time.elapsed,this.velocity.y+=e,this.bounds.y+=t},i.prototype.overlaps=function(t,e,i){if("undefined"==typeof e&&(e=!1),"undefined"==typeof i&&(i=null),t.isGroup){for(var n=!1,s=0,o=t.members;length>s;)this.overlaps(o[s++],e,i)&&(n=!0);return n}if(!e)return t.x+t.width>this.x&&t.x<this.x+this.width&&t.y+t.height>this.y&&t.y<this.y+this.height;null==i&&(i=this._game.camera);var h=t.getScreenXY(null,i);return this.getScreenXY(this._point,i),h.x+t.width>this._point.x&&h.x<this._point.x+this.width&&h.y+t.height>this._point.y&&h.y<this._point.y+this.height},i.prototype.overlapsAt=function(t,e,i,n,s){if("undefined"==typeof n&&(n=!1),"undefined"==typeof s&&(s=null),i.isGroup){for(var o=!1,h=0,r=i.members;length>h;)this.overlapsAt(t,e,r[h++],n,s)&&(o=!0);return o}if(!n)return i.x+i.width>t&&i.x<t+this.width&&i.y+i.height>e&&i.y<e+this.height;null==s&&(s=this._game.camera);var a=i.getScreenXY(null,s);return this._point.x=t-s.scroll.x*this.scrollFactor.x,this._point.y=e-s.scroll.y*this.scrollFactor.y,this._point.x+=this._point.x>0?1e-7:-1e-7,this._point.y+=this._point.y>0?1e-7:-1e-7,a.x+i.width>this._point.x&&a.x<this._point.x+this.width&&a.y+i.height>this._point.y&&a.y<this._point.y+this.height},i.prototype.overlapsPoint=function(t,e,i){if("undefined"==typeof e&&(e=!1),"undefined"==typeof i&&(i=null),!e)return t.x>this.x&&t.x<this.x+this.width&&t.y>this.y&&t.y<this.y+this.height;null==i&&(i=this._game.camera);var n=t.x-i.scroll.x,s=t.y-i.scroll.y;return this.getScreenXY(this._point,i),n>this._point.x&&n<this._point.x+this.width&&s>this._point.y&&s<this._point.y+this.height},i.prototype.onScreen=function(t){return"undefined"==typeof t&&(t=null),null==t&&(t=this._game.camera),this.getScreenXY(this._point,t),this._point.x+this.width>0&&this._point.x<t.width&&this._point.y+this.height>0&&this._point.y<t.height},i.prototype.getScreenXY=function(e,i){return"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=null),null==e&&(e=new t.MicroPoint),null==i&&(i=this._game.camera),e.x=this.x-i.scroll.x*this.scrollFactor.x,e.y=this.y-i.scroll.y*this.scrollFactor.y,e.x+=e.x>0?1e-7:-1e-7,e.y+=e.y>0?1e-7:-1e-7,e},Object.defineProperty(i.prototype,"solid",{get:function(){return(this.allowCollisions&t.Collision.ANY)>t.Collision.NONE},set:function(e){this.allowCollisions=e?t.Collision.ANY:t.Collision.NONE},enumerable:!0,configurable:!0}),i.prototype.getMidpoint=function(e){return"undefined"==typeof e&&(e=null),null==e&&(e=new t.MicroPoint),e.copyFrom(this.bounds.center),e},i.prototype.reset=function(e,i){this.revive(),this.touching=t.Collision.NONE,this.wasTouching=t.Collision.NONE,this.x=e,this.y=i,this.last.x=e,this.last.y=i,this.velocity.x=0,this.velocity.y=0},i.prototype.isTouching=function(e){return(this.touching&e)>t.Collision.NONE},i.prototype.justTouched=function(e){return(this.touching&e)>t.Collision.NONE&&(this.wasTouching&e)<=t.Collision.NONE},i.prototype.hurt=function(t){this.health=this.health-t,this.health<=0&&this.kill()},i.prototype.destroy=function(){},Object.defineProperty(i.prototype,"x",{get:function(){return this.bounds.x},set:function(t){this.bounds.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.bounds.y},set:function(t){this.bounds.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this._angle},set:function(t){this._angle=this._game.math.wrap(t,360,0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=this._game.math.wrap(t,360,0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.bounds.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.bounds.height},enumerable:!0,configurable:!0}),i}(t.Basic);t.GameObject=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(e){function i(i,n,s,o){"undefined"==typeof n&&(n=0),"undefined"==typeof s&&(s=0),"undefined"==typeof o&&(o=null),e.call(this,i,n,s),this._dynamicTexture=!1,this._sx=0,this._sy=0,this._sw=0,this._sh=0,this._dx=0,this._dy=0,this._dw=0,this._dh=0,this.renderDebug=!1,this.renderDebugColor="rgba(0,255,0,0.5)",this.renderDebugPointColor="rgba(255,255,255,1)",this._texture=null,this.animations=new t.AnimationManager(this._game,this),null!==o?this.loadGraphic(o):(this.bounds.width=16,this.bounds.height=16)}return __extends(i,e),i.prototype.loadGraphic=function(t){return null!==this._game.cache.getImage(t)&&(0==this._game.cache.isSpriteSheet(t)?(this._texture=this._game.cache.getImage(t),this.bounds.width=this._texture.width,this.bounds.height=this._texture.height):(this._texture=this._game.cache.getImage(t),this.animations.loadFrameData(this._game.cache.getFrameData(t))),this._dynamicTexture=!1),this},i.prototype.loadDynamicTexture=function(t){return this._texture=t,this.bounds.width=this._texture.width,this.bounds.height=this._texture.height,this._dynamicTexture=!0,this},i.prototype.makeGraphic=function(t,e,i){return"undefined"==typeof i&&(i=4294967295),this._texture=null,this.width=t,this.height=e,this._dynamicTexture=!1,this},i.prototype.inCamera=function(t){return 1!==this.scrollFactor.x||1!==this.scrollFactor.y?(this._dx=this.bounds.x-t.x*this.scrollFactor.x,this._dy=this.bounds.y-t.y*this.scrollFactor.x,this._dw=this.bounds.width*this.scale.x,this._dh=this.bounds.height*this.scale.y,t.right>this._dx&&t.x<this._dx+this._dw&&t.bottom>this._dy&&t.y<this._dy+this._dh):t.intersects(this.bounds,this.bounds.length)},i.prototype.postUpdate=function(){this.animations.update(),e.prototype.postUpdate.call(this)},Object.defineProperty(i.prototype,"frame",{get:function(){return this.animations.frame},set:function(t){this.animations.frame=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"frameName",{get:function(){return this.animations.frameName},set:function(t){this.animations.frameName=t},enumerable:!0,configurable:!0}),i.prototype.render=function(e,i,n){if(this.visible===!1||0==this.scale.x||0==this.scale.y||this.alpha<.1||0==this.inCamera(e.worldView))return!1;if(1!==this.alpha){var s=this._game.stage.context.globalAlpha;this._game.stage.context.globalAlpha=this.alpha}return this._sx=0,this._sy=0,this._sw=this.bounds.width,this._sh=this.bounds.height,this._dx=i+(this.bounds.topLeft.x-e.worldView.x),this._dy=n+(this.bounds.topLeft.y-e.worldView.y),this._dw=this.bounds.width*this.scale.x,this._dh=this.bounds.height*this.scale.y,this.align==t.GameObject.ALIGN_TOP_CENTER?this._dx-=this.bounds.halfWidth*this.scale.x:this.align==t.GameObject.ALIGN_TOP_RIGHT?this._dx-=this.bounds.width*this.scale.x:this.align==t.GameObject.ALIGN_CENTER_LEFT?this._dy-=this.bounds.halfHeight*this.scale.y:this.align==t.GameObject.ALIGN_CENTER?(this._dx-=this.bounds.halfWidth*this.scale.x,this._dy-=this.bounds.halfHeight*this.scale.y):this.align==t.GameObject.ALIGN_CENTER_RIGHT?(this._dx-=this.bounds.width*this.scale.x,this._dy-=this.bounds.halfHeight*this.scale.y):this.align==t.GameObject.ALIGN_BOTTOM_LEFT?this._dy-=this.bounds.height*this.scale.y:this.align==t.GameObject.ALIGN_BOTTOM_CENTER?(this._dx-=this.bounds.halfWidth*this.scale.x,this._dy-=this.bounds.height*this.scale.y):this.align==t.GameObject.ALIGN_BOTTOM_RIGHT&&(this._dx-=this.bounds.width*this.scale.x,this._dy-=this.bounds.height*this.scale.y),0==this._dynamicTexture&&null!==this.animations.currentFrame&&(this._sx=this.animations.currentFrame.x,this._sy=this.animations.currentFrame.y,this.animations.currentFrame.trimmed&&(this._dx+=this.animations.currentFrame.spriteSourceSizeX,this._dy+=this.animations.currentFrame.spriteSourceSizeY)),(1!==this.scrollFactor.x||1!==this.scrollFactor.y)&&(this._dx-=e.worldView.x*this.scrollFactor.x,this._dy-=e.worldView.y*this.scrollFactor.y),0!==this.angle&&(this._game.stage.context.save(),this._game.stage.context.translate(this._dx+this._dw/2,this._dy+this._dh/2),this._game.stage.context.rotate(this.angle*(Math.PI/180)),this._dx=-(this._dw/2),this._dy=-(this._dh/2)),this._sx=Math.round(this._sx),this._sy=Math.round(this._sy),this._sw=Math.round(this._sw),this._sh=Math.round(this._sh),this._dx=Math.round(this._dx),this._dy=Math.round(this._dy),this._dw=Math.round(this._dw),this._dh=Math.round(this._dh),null!=this._texture?this._dynamicTexture?this._game.stage.context.drawImage(this._texture.canvas,this._sx,this._sy,this._sw,this._sh,this._dx,this._dy,this._dw,this._dh):this._game.stage.context.drawImage(this._texture,this._sx,this._sy,this._sw,this._sh,this._dx,this._dy,this._dw,this._dh):(this._game.stage.context.fillStyle="rgb(255,255,255)",this._game.stage.context.fillRect(this._dx,this._dy,this._dw,this._dh)),this.renderDebug&&this.renderBounds(),0!==this.rotation&&(this._game.stage.context.translate(0,0),this._game.stage.context.restore()),s>-1&&(this._game.stage.context.globalAlpha=s),!0},i.prototype.renderBounds=function(){this._game.stage.context.fillStyle=this.renderDebugColor,this._game.stage.context.fillRect(this._dx,this._dy,this._dw,this._dh),this._game.stage.context.fillStyle=this.renderDebugPointColor;var t=this.bounds.halfWidth*this.scale.x,e=this.bounds.halfHeight*this.scale.y,i=this.bounds.width*this.scale.x-1,n=this.bounds.height*this.scale.y-1;this._game.stage.context.fillRect(this._dx,this._dy,1,1),this._game.stage.context.fillRect(this._dx+t,this._dy,1,1),this._game.stage.context.fillRect(this._dx+i,this._dy,1,1),this._game.stage.context.fillRect(this._dx,this._dy+e,1,1),this._game.stage.context.fillRect(this._dx+t,this._dy+e,1,1),this._game.stage.context.fillRect(this._dx+i,this._dy+e,1,1),this._game.stage.context.fillRect(this._dx,this._dy+n,1,1),this._game.stage.context.fillRect(this._dx+t,this._dy+n,1,1),this._game.stage.context.fillRect(this._dx+i,this._dy+n,1,1)},i.prototype.renderDebugInfo=function(t,e,i){"undefined"==typeof i&&(i="rgb(255,255,255)"),this._game.stage.context.fillStyle=i,this._game.stage.context.fillText("Sprite: "+this.name+" ("+this.bounds.width+" x "+this.bounds.height+")",t,e),this._game.stage.context.fillText("x: "+this.bounds.x.toFixed(1)+" y: "+this.bounds.y.toFixed(1)+" rotation: "+this.angle.toFixed(1),t,e+14),this._game.stage.context.fillText("dx: "+this._dx.toFixed(1)+" dy: "+this._dy.toFixed(1)+" dw: "+this._dw.toFixed(1)+" dh: "+this._dh.toFixed(1),t,e+28),this._game.stage.context.fillText("sx: "+this._sx.toFixed(1)+" sy: "+this._sy.toFixed(1)+" sw: "+this._sw.toFixed(1)+" sh: "+this._sh.toFixed(1),t,e+42)},i}(t.GameObject);t.Sprite=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t,e,i,n,s,o,h){this._game=t,this._parent=e,this._frames=s,this._frameData=i,this.name=n,this.delay=1e3/o,this.looped=h,this.isFinished=!1,this.isPlaying=!1}return Object.defineProperty(t.prototype,"frameTotal",{get:function(){return this._frames.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frameIndex},set:function(t){this.currentFrame=this._frameData.getFrame(t),null!==this.currentFrame&&(this._parent.bounds.width=this.currentFrame.width,this._parent.bounds.height=this.currentFrame.height,this._frameIndex=t)},enumerable:!0,configurable:!0}),t.prototype.play=function(t,e){"undefined"==typeof t&&(t=null),null!==t&&(this.delay=1e3/t),void 0!==e&&(this.looped=e),this.isPlaying=!0,this.isFinished=!1,this._timeLastFrame=this._game.time.now,this._timeNextFrame=this._game.time.now+this.delay,this._frameIndex=0,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex])},t.prototype.onComplete=function(){this.isPlaying=!1,this.isFinished=!0},t.prototype.stop=function(){this.isPlaying=!1,this.isFinished=!0},t.prototype.update=function(){return 1==this.isPlaying&&this._game.time.now>=this._timeNextFrame?(this._frameIndex++,this._frameIndex==this._frames.length?this.looped?(this._frameIndex=0,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex])):this.onComplete():this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this._timeLastFrame=this._game.time.now,this._timeNextFrame=this._game.time.now+this.delay,!0):!1},t.prototype.destroy=function(){this._game=null,this._parent=null,this._frames=null,this._frameData=null,this.currentFrame=null,this.isPlaying=!1},t}();t.Animation=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(){}return e.parseSpriteSheet=function(e,i,n,s,o){var h=e.cache.getImage(i);if(null==h)return null;var r=h.width,a=h.height,u=Math.round(r/n),l=Math.round(a/s),c=u*l;if(-1!==o&&(c=o),0==r||0==a||n>r||s>a||0===c)return null;for(var d=new t.FrameData,p=0,f=0,_=0;c>_;_++)d.addFrame(new t.Frame(p,f,n,s,"")),p+=n,p===r&&(p=0,f+=s);return d},e.parseJSONData=function(e,i){for(var n,s=new t.FrameData,o=i,h=0;h<o.length;h++)n=s.addFrame(new t.Frame(o[h].frame.x,o[h].frame.y,o[h].frame.w,o[h].frame.h,o[h].filename)),n.setTrim(o[h].trimmed,o[h].sourceSize.w,o[h].sourceSize.h,o[h].spriteSourceSize.x,o[h].spriteSourceSize.y,o[h].spriteSourceSize.w,o[h].spriteSourceSize.h);return s},e}();t.AnimationLoader=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t,e,i,n,s){this.name="",this.rotated=!1,this.rotationDirection="cw",this.x=t,this.y=e,this.width=i,this.height=n,this.name=s,this.rotated=!1,this.trimmed=!1}return t.prototype.setRotation=function(){},t.prototype.setTrim=function(t,e,i,n,s,o,h){this.trimmed=t,this.sourceSizeW=e,this.sourceSizeH=i,this.spriteSourceSizeX=n,this.spriteSourceSizeY=s,this.spriteSourceSizeW=o,this.spriteSourceSizeH=h},t}();t.Frame=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(){this._frames=[],this._frameNames=[]}return Object.defineProperty(t.prototype,"total",{get:function(){return this._frames.length},enumerable:!0,configurable:!0}),t.prototype.addFrame=function(t){return t.index=this._frames.length,this._frames.push(t),""!==t.name&&(this._frameNames[t.name]=t.index),t},t.prototype.getFrame=function(t){return this._frames[t]?this._frames[t]:null},t.prototype.getFrameByName=function(t){return this._frameNames[t]>=0?this._frames[this._frameNames[t]]:null},t.prototype.checkFrameName=function(t){return this._frameNames[t]>=0?!0:!1},t.prototype.getFrameRange=function(t,e,i){"undefined"==typeof i&&(i=[]);for(var n=t;e>=n;n++)i.push(this._frames[n]);return i},t.prototype.getFrameIndexes=function(t){"undefined"==typeof t&&(t=[]),t.length=0;for(var e=0;e<this._frames.length;e++)t.push(e);return t},t.prototype.getFrameIndexesByName=function(t){for(var e=[],i=0;i<t.length;i++)this.getFrameByName(t[i])&&e.push(this.getFrameByName(t[i]).index);return e},t.prototype.getAllFrames=function(){return this._frames},t.prototype.getFrames=function(t){for(var e=[],i=0;i<t.length;i++)e.push(this._frames[i]);return e},t}();t.FrameData=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t,e){this._frameData=null,this.currentFrame=null,this._game=t,this._parent=e,this._anims={}}return e.prototype.loadFrameData=function(t){this._frameData=t,this.frame=0},e.prototype.add=function(e,i,n,s,o){if("undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=60),"undefined"==typeof s&&(s=!1),"undefined"==typeof o&&(o=!0),null!=this._frameData){if(null==i)i=this._frameData.getFrameIndexes();else if(0==this.validateFrames(i,o))return;0==o&&(i=this._frameData.getFrameIndexesByName(i)),this._anims[e]=new t.Animation(this._game,this._parent,this._frameData,e,i,n,s),this.currentAnim=this._anims[e]}},e.prototype.validateFrames=function(t,e){for(var i=0;i<t.length;i++)if(1==e){if(t[i]>this._frameData.total)return!1}else if(0==this._frameData.checkFrameName(t[i]))return!1;return!0},e.prototype.play=function(t,e,i){"undefined"==typeof e&&(e=null),this._anims[t]&&(this.currentAnim=this._anims[t],this.currentAnim.play(e,i))},e.prototype.stop=function(t){this._anims[t]&&(this.currentAnim=this._anims[t],this.currentAnim.stop())},e.prototype.update=function(){this.currentAnim&&1==this.currentAnim.update()&&(this.currentFrame=this.currentAnim.currentFrame,this._parent.bounds.width=this.currentFrame.width,this._parent.bounds.height=this.currentFrame.height)},Object.defineProperty(e.prototype,"frameData",{get:function(){return this._frameData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameTotal",{get:function(){return this._frameData.total},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frameIndex},set:function(t){this.currentFrame=this._frameData.getFrame(t),null!==this.currentFrame&&(this._parent.bounds.width=this.currentFrame.width,this._parent.bounds.height=this.currentFrame.height,this._frameIndex=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameName",{get:function(){return this.currentFrame.name},set:function(t){this.currentFrame=this._frameData.getFrameByName(t),null!==this.currentFrame&&(this._parent.bounds.width=this.currentFrame.width,this._parent.bounds.height=this.currentFrame.height,this._frameIndex=this.currentFrame.index)},enumerable:!0,configurable:!0}),e}();t.AnimationManager=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t){this._game=t,this._canvases={},this._images={},this._sounds={},this._text={}}return e.prototype.addCanvas=function(t,e,i){this._canvases[t]={canvas:e,context:i}},e.prototype.addSpriteSheet=function(e,i,n,s,o,h){this._images[e]={url:i,data:n,spriteSheet:!0,frameWidth:s,frameHeight:o},this._images[e].frameData=t.AnimationLoader.parseSpriteSheet(this._game,e,s,o,h)},e.prototype.addTextureAtlas=function(e,i,n,s){this._images[e]={url:i,data:n,spriteSheet:!0},this._images[e].frameData=t.AnimationLoader.parseJSONData(this._game,s)},e.prototype.addImage=function(t,e,i){this._images[t]={url:e,data:i,spriteSheet:!1}},e.prototype.addSound=function(t,e,i){this._sounds[t]={url:e,data:i,decoded:!1}},e.prototype.decodedSound=function(t,e){this._sounds[t].data=e,this._sounds[t].decoded=!0},e.prototype.addText=function(t,e,i){this._text[t]={url:e,data:i}},e.prototype.getCanvas=function(t){return this._canvases[t]?this._canvases[t].canvas:null},e.prototype.getImage=function(t){return this._images[t]?this._images[t].data:null},e.prototype.getFrameData=function(t){return this._images[t]&&1==this._images[t].spriteSheet?this._images[t].frameData:null},e.prototype.getSound=function(t){return this._sounds[t]?this._sounds[t].data:null},e.prototype.isSoundDecoded=function(t){return this._sounds[t]?this._sounds[t].decoded:void 0},e.prototype.isSpriteSheet=function(t){return this._images[t]?this._images[t].spriteSheet:void 0},e.prototype.getText=function(t){return this._text[t]?this._text[t].data:null},e.prototype.destroy=function(){for(var t in this._canvases)delete this._canvases[t.key];for(var t in this._images)delete this._images[t.key];for(var t in this._sounds)delete this._sounds[t.key];for(var t in this._text)delete this._text[t.key]},e}();t.Cache=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(e,i,n,s,o,h){this._clip=!1,this._rotation=0,this._target=null,this._sx=0,this._sy=0,this._fxFlashComplete=null,this._fxFlashDuration=0,this._fxFlashAlpha=0,this._fxFadeComplete=null,this._fxFadeDuration=0,this._fxFadeAlpha=0,this._fxShakeIntensity=0,this._fxShakeDuration=0,this._fxShakeComplete=null,this._fxShakeOffset=new t.Point(0,0),this._fxShakeDirection=0,this._fxShakePrevX=0,this._fxShakePrevY=0,this.scale=new t.Point(1,1),this.scroll=new t.Point(0,0),this.bounds=null,this.deadzone=null,this.showBorder=!1,this.borderColor="rgb(255,255,255)",this.opaque=!0,this._bgColor="rgb(0,0,0)",this._bgTextureRepeat="repeat",this.showShadow=!1,this.shadowColor="rgb(0,0,0)",this.shadowBlur=10,this.shadowOffset=new t.Point(4,4),this.visible=!0,this.alpha=1,this.inputX=0,this.inputY=0,this._game=e,this.ID=i,this._stageX=n,this._stageY=s,this.worldView=new t.Rectangle(0,0,o,h),this.checkClip()}return e.STYLE_LOCKON=0,e.STYLE_PLATFORMER=1,e.STYLE_TOPDOWN=2,e.STYLE_TOPDOWN_TIGHT=3,e.SHAKE_BOTH_AXES=0,e.SHAKE_HORIZONTAL_ONLY=1,e.SHAKE_VERTICAL_ONLY=2,e.prototype.flash=function(t,e,i,n){if("undefined"==typeof t&&(t=16777215),"undefined"==typeof e&&(e=1),"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=!1),!(n===!1&&this._fxFlashAlpha>0)){0>=e&&(e=1);var s=t>>16&255,o=t>>8&255,h=255&t;this._fxFlashColor="rgba("+s+","+o+","+h+",",this._fxFlashDuration=e,this._fxFlashAlpha=1,this._fxFlashComplete=i}},e.prototype.fade=function(t,e,i,n){if("undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=1),"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=!1),!(n===!1&&this._fxFadeAlpha>0)){0>=e&&(e=1);var s=t>>16&255,o=t>>8&255,h=255&t;this._fxFadeColor="rgba("+s+","+o+","+h+",",this._fxFadeDuration=e,this._fxFadeAlpha=.01,this._fxFadeComplete=i}},e.prototype.shake=function(t,i,n,s,o){"undefined"==typeof t&&(t=.05),"undefined"==typeof i&&(i=.5),"undefined"==typeof n&&(n=null),"undefined"==typeof s&&(s=!0),"undefined"==typeof o&&(o=e.SHAKE_BOTH_AXES),(s||0==this._fxShakeOffset.x&&0==this._fxShakeOffset.y)&&(0==this._fxShakeOffset.x&&0==this._fxShakeOffset.y&&(this._fxShakePrevX=this._stageX,this._fxShakePrevY=this._stageY),this._fxShakeIntensity=t,this._fxShakeDuration=i,this._fxShakeComplete=n,this._fxShakeDirection=o,this._fxShakeOffset.setTo(0,0))},e.prototype.stopFX=function(){this._fxFlashAlpha=0,this._fxFadeAlpha=0,0!==this._fxShakeDuration&&(this._fxShakeDuration=0,this._fxShakeOffset.setTo(0,0),this._stageX=this._fxShakePrevX,this._stageY=this._fxShakePrevY)},e.prototype.follow=function(i,n){"undefined"==typeof n&&(n=e.STYLE_LOCKON),this._target=i;var s;switch(n){case e.STYLE_PLATFORMER:var o=this.width/8,h=this.height/3;this.deadzone=new t.Rectangle((this.width-o)/2,(this.height-h)/2-.25*h,o,h);break;case e.STYLE_TOPDOWN:s=Math.max(this.width,this.height)/4,this.deadzone=new t.Rectangle((this.width-s)/2,(this.height-s)/2,s,s);break;case e.STYLE_TOPDOWN_TIGHT:s=Math.max(this.width,this.height)/8,this.deadzone=new t.Rectangle((this.width-s)/2,(this.height-s)/2,s,s);break;case e.STYLE_LOCKON:default:this.deadzone=null}},e.prototype.focusOnXY=function(t,e){t+=t>0?1e-7:-1e-7,e+=e>0?1e-7:-1e-7,this.scroll.x=Math.round(t-this.worldView.halfWidth),this.scroll.y=Math.round(e-this.worldView.halfHeight)},e.prototype.focusOn=function(t){t.x+=t.x>0?1e-7:-1e-7,t.y+=t.y>0?1e-7:-1e-7,this.scroll.x=Math.round(t.x-this.worldView.halfWidth),this.scroll.y=Math.round(t.y-this.worldView.halfHeight)},e.prototype.setBounds=function(e,i,n,s,o){"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),"undefined"==typeof n&&(n=0),"undefined"==typeof s&&(s=0),"undefined"==typeof o&&(o=!1),null==this.bounds&&(this.bounds=new t.Rectangle),this.bounds.setTo(e,i,n,s),this.update()},e.prototype.update=function(){if(null!==this._target)if(null==this.deadzone)this.focusOnXY(this._target.x+this._target.origin.x,this._target.y+this._target.origin.y);else{var t,i=this._target.x+(this._target.x>0?1e-7:-1e-7),n=this._target.y+(this._target.y>0?1e-7:-1e-7);t=i-this.deadzone.x,this.scroll.x>t&&(this.scroll.x=t),t=i+this._target.width-this.deadzone.x-this.deadzone.width,this.scroll.x<t&&(this.scroll.x=t),t=n-this.deadzone.y,this.scroll.y>t&&(this.scroll.y=t),t=n+this._target.height-this.deadzone.y-this.deadzone.height,this.scroll.y<t&&(this.scroll.y=t)}null!==this.bounds&&(this.scroll.x<this.bounds.left&&(this.scroll.x=this.bounds.left),this.scroll.x>this.bounds.right-this.width&&(this.scroll.x=this.bounds.right-this.width),this.scroll.y<this.bounds.top&&(this.scroll.y=this.bounds.top),this.scroll.y>this.bounds.bottom-this.height&&(this.scroll.y=this.bounds.bottom-this.height)),this.worldView.x=this.scroll.x,this.worldView.y=this.scroll.y,this.inputX=this.worldView.x+this._game.input.x,this.inputY=this.worldView.y+this._game.input.y,this._fxFlashAlpha>0&&(this._fxFlashAlpha-=this._game.time.elapsed/this._fxFlashDuration,this._fxFlashAlpha=this._game.math.roundTo(this._fxFlashAlpha,-2),this._fxFlashAlpha<=0&&(this._fxFlashAlpha=0,null!==this._fxFlashComplete&&this._fxFlashComplete())),this._fxFadeAlpha>0&&(this._fxFadeAlpha+=this._game.time.elapsed/this._fxFadeDuration,this._fxFadeAlpha=this._game.math.roundTo(this._fxFadeAlpha,-2),this._fxFadeAlpha>=1&&(this._fxFadeAlpha=1,null!==this._fxFadeComplete&&this._fxFadeComplete())),this._fxShakeDuration>0&&(this._fxShakeDuration-=this._game.time.elapsed,this._fxShakeDuration=this._game.math.roundTo(this._fxShakeDuration,-2),this._fxShakeDuration<=0?(this._fxShakeDuration=0,this._fxShakeOffset.setTo(0,0),this._stageX=this._fxShakePrevX,this._stageY=this._fxShakePrevY,null!=this._fxShakeComplete&&this._fxShakeComplete()):((this._fxShakeDirection==e.SHAKE_BOTH_AXES||this._fxShakeDirection==e.SHAKE_HORIZONTAL_ONLY)&&(this._fxShakeOffset.x=this._game.math.random()*this._fxShakeIntensity*this.worldView.width*2-this._fxShakeIntensity*this.worldView.width),(this._fxShakeDirection==e.SHAKE_BOTH_AXES||this._fxShakeDirection==e.SHAKE_VERTICAL_ONLY)&&(this._fxShakeOffset.y=this._game.math.random()*this._fxShakeIntensity*this.worldView.height*2-this._fxShakeIntensity*this.worldView.height)))},e.prototype.render=function(){this.visible===!1&&this.alpha<.1||((0!=this._fxShakeOffset.x||0!=this._fxShakeOffset.y)&&(this._stageX=this._fxShakePrevX+this.worldView.halfWidth+this._fxShakeOffset.x,this._stageY=this._fxShakePrevY+this.worldView.halfHeight+this._fxShakeOffset.y),this._game.stage.context.save(),1!==this.alpha&&(this._game.stage.context.globalAlpha=this.alpha),this._sx=this._stageX,this._sy=this._stageY,this.showShadow&&(this._game.stage.context.shadowColor=this.shadowColor,this._game.stage.context.shadowBlur=this.shadowBlur,this._game.stage.context.shadowOffsetX=this.shadowOffset.x,this._game.stage.context.shadowOffsetY=this.shadowOffset.y),(1!==this.scale.x||1!==this.scale.y)&&(this._game.stage.context.scale(this.scale.x,this.scale.y),this._sx=this._sx/this.scale.x,this._sy=this._sy/this.scale.y),0!==this._rotation&&(this._game.stage.context.translate(this._sx+this.worldView.halfWidth,this._sy+this.worldView.halfHeight),this._game.stage.context.rotate(this._rotation*(Math.PI/180)),this._game.stage.context.translate(-(this._sx+this.worldView.halfWidth),-(this._sy+this.worldView.halfHeight))),1==this.opaque&&(this._bgTexture?(this._game.stage.context.fillStyle=this._bgTexture,this._game.stage.context.fillRect(this._sx,this._sy,this.worldView.width,this.worldView.height)):(this._game.stage.context.fillStyle=this._bgColor,this._game.stage.context.fillRect(this._sx,this._sy,this.worldView.width,this.worldView.height))),this.showShadow&&(this._game.stage.context.shadowBlur=0,this._game.stage.context.shadowOffsetX=0,this._game.stage.context.shadowOffsetY=0),this._clip&&(this._game.stage.context.beginPath(),this._game.stage.context.rect(this._sx,this._sy,this.worldView.width,this.worldView.height),this._game.stage.context.closePath(),this._game.stage.context.clip()),this._game.world.group.render(this,this._sx,this._sy),this.showBorder&&(this._game.stage.context.strokeStyle=this.borderColor,this._game.stage.context.lineWidth=1,this._game.stage.context.rect(this._sx,this._sy,this.worldView.width,this.worldView.height),this._game.stage.context.stroke()),this._fxFlashAlpha>0&&(this._game.stage.context.fillStyle=this._fxFlashColor+this._fxFlashAlpha+")",this._game.stage.context.fillRect(this._sx,this._sy,this.worldView.width,this.worldView.height)),this._fxFadeAlpha>0&&(this._game.stage.context.fillStyle=this._fxFadeColor+this._fxFadeAlpha+")",this._game.stage.context.fillRect(this._sx,this._sy,this.worldView.width,this.worldView.height)),(1!==this.scale.x||1!==this.scale.y)&&this._game.stage.context.scale(1,1),(0!==this._rotation||this._clip)&&this._game.stage.context.translate(0,0),this._game.stage.context.restore(),1!==this.alpha&&(this._game.stage.context.globalAlpha=1))
},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._bgColor},set:function(t){this._bgColor=t},enumerable:!0,configurable:!0}),e.prototype.setTexture=function(t,e){"undefined"==typeof e&&(e="repeat"),this._bgTexture=this._game.stage.context.createPattern(this._game.cache.getImage(t),e),this._bgTextureRepeat=e},e.prototype.setPosition=function(t,e){this._stageX=t,this._stageY=e,this.checkClip()},e.prototype.setSize=function(t,e){this.worldView.width=t,this.worldView.height=e,this.checkClip()},e.prototype.renderDebugInfo=function(t,e,i){"undefined"==typeof i&&(i="rgb(255,255,255)"),this._game.stage.context.fillStyle=i,this._game.stage.context.fillText("Camera ID: "+this.ID+" ("+this.worldView.width+" x "+this.worldView.height+")",t,e),this._game.stage.context.fillText("X: "+this._stageX+" Y: "+this._stageY+" Rotation: "+this._rotation,t,e+14),this._game.stage.context.fillText("World X: "+this.scroll.x.toFixed(1)+" World Y: "+this.scroll.y.toFixed(1),t,e+28),this.bounds&&this._game.stage.context.fillText("Bounds: "+this.bounds.width+" x "+this.bounds.height,t,e+56)},Object.defineProperty(e.prototype,"x",{get:function(){return this._stageX},set:function(t){this._stageX=t,this.checkClip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._stageY},set:function(t){this._stageY=t,this.checkClip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.worldView.width},set:function(t){this.worldView.width=t,this.checkClip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.worldView.height},set:function(t){this.worldView.height=t,this.checkClip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=this._game.math.wrap(t,360,0)},enumerable:!0,configurable:!0}),e.prototype.checkClip=function(){this._clip=0!==this._stageX||0!==this._stageY||this.worldView.width<this._game.stage.width||this.worldView.height<this._game.stage.height?!0:!1},e}();t.Camera=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t,e,i,n,s){this._game=t,this._cameras=[],this.current=this.addCamera(e,i,n,s)}return e.prototype.getAll=function(){return this._cameras},e.prototype.update=function(){this._cameras.forEach(function(t){return t.update()})},e.prototype.render=function(){this._cameras.forEach(function(t){return t.render()})},e.prototype.addCamera=function(e,i,n,s){var o=new t.Camera(this._game,this._cameras.length,e,i,n,s);return this._cameras.push(o),o},e.prototype.removeCamera=function(t){return this._cameras[t]?(this.current===this._cameras[t]&&(this.current=null),this._cameras.splice(t,1),!0):!1},e.prototype.destroy=function(){this._cameras.length=0,this.current=this.addCamera(0,0,this._game.stage.width,this._game.stage.height)},e}();t.CameraManager=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t,e){"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),this.setTo(t,e)}return t.prototype.add=function(e,i){return"undefined"==typeof i&&(i=new t),i.setTo(this.x+e.x,this.y+e.y)},t.prototype.addTo=function(t,e){return"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),this.setTo(this.x+t,this.y+e)},t.prototype.subtractFrom=function(t,e){return"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),this.setTo(this.x-t,this.y-e)},t.prototype.invert=function(){return this.setTo(this.y,this.x)},t.prototype.clamp=function(t,e){return this.clampX(t,e),this.clampY(t,e),this},t.prototype.clampX=function(t,e){return this.x=Math.max(Math.min(this.x,e),t),this},t.prototype.clampY=function(t,e){return this.x=Math.max(Math.min(this.x,e),t),this.y=Math.max(Math.min(this.y,e),t),this},t.prototype.clone=function(e){return"undefined"==typeof e&&(e=new t),e.setTo(this.x,this.y)},t.prototype.copyFrom=function(t){return this.setTo(t.x,t.y)},t.prototype.copyTo=function(t){return t.setTo(this.x,this.y)},t.prototype.distanceTo=function(t,e){"undefined"==typeof e&&(e=!1);var i=this.x-t.x,n=this.y-t.y;return e===!0?Math.round(Math.sqrt(i*i+n*n)):Math.sqrt(i*i+n*n)},t.distanceBetween=function(t,e,i){"undefined"==typeof i&&(i=!1);var n=t.x-e.x,s=t.y-e.y;return i===!0?Math.round(Math.sqrt(n*n+s*s)):Math.sqrt(n*n+s*s)},t.prototype.distanceCompare=function(t,e){return this.distanceTo(t)>=e?!0:!1},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y?!0:!1},t.prototype.interpolate=function(){},t.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},t.prototype.polar=function(){},t.prototype.setTo=function(t,e){return this.x=t,this.y=e,this},t.prototype.subtract=function(e,i){return"undefined"==typeof i&&(i=new t),i.setTo(this.x-e.x,this.y-e.y)},t.prototype.toString=function(){return"[{Point (x="+this.x+" y="+this.y+")}]"},t}();t.Point=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(e,i,n,s){"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),"undefined"==typeof n&&(n=0),"undefined"==typeof s&&(s=0),this._tempX=null,this._tempY=null,this._tempWidth=null,this._tempHeight=null,this._width=0,this._height=0,this._halfWidth=0,this._halfHeight=0,this.length=0,this._width=n,n>0&&(this._halfWidth=Math.round(n/2)),this._height=s,s>0&&(this._halfHeight=Math.round(s/2)),this.length=Math.max(this._width,this._height),this.topLeft=new t.MicroPoint(e,i,this),this.topCenter=new t.MicroPoint(e+this._halfWidth,i,this),this.topRight=new t.MicroPoint(e+this._width-1,i,this),this.leftCenter=new t.MicroPoint(e,i+this._halfHeight,this),this.center=new t.MicroPoint(e+this._halfWidth,i+this._halfHeight,this),this.rightCenter=new t.MicroPoint(e+this._width-1,i+this._halfHeight,this),this.bottomLeft=new t.MicroPoint(e,i+this._height-1,this),this.bottomCenter=new t.MicroPoint(e+this._halfWidth,i+this._height-1,this),this.bottomRight=new t.MicroPoint(e+this._width-1,i+this._height-1,this)}return Object.defineProperty(e.prototype,"x",{get:function(){return this.topLeft.x},set:function(t){this.topLeft.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.topLeft.y},set:function(t){this.topLeft.y=t},enumerable:!0,configurable:!0}),e.prototype.updateBounds=function(){null!==this._tempWidth&&(this._width=this._tempWidth,this._halfWidth=0,this._width>0&&(this._halfWidth=Math.round(this._width/2))),null!==this._tempHeight&&(this._height=this._tempHeight,this._halfHeight=0,this._height>0&&(this._halfHeight=Math.round(this._height/2))),this.length=Math.max(this._width,this._height),null!==this._tempX&&null!==this._tempY?this.topLeft.setTo(this._tempX,this._tempY,!1):null!==this._tempX&&null==this._tempY?this.topLeft.setTo(this._tempX,this.topLeft.y,!1):null==this._tempX&&null!==this._tempY?this.topLeft.setTo(this.topLeft.x,this._tempY,!1):this.topLeft.setTo(this.x,this.y,!1),this.topCenter.setTo(this.x+this._halfWidth,this.y,!1),this.topRight.setTo(this.x+this._width-1,this.y,!1),this.leftCenter.setTo(this.x,this.y+this._halfHeight,!1),this.center.setTo(this.x+this._halfWidth,this.y+this._halfHeight,!1),this.rightCenter.setTo(this.x+this._width-1,this.y+this._halfHeight,!1),this.bottomLeft.setTo(this.x,this.y+this._height-1,!1),this.bottomCenter.setTo(this.x+this._halfWidth,this.y+this._height-1,!1),this.bottomRight.setTo(this.x+this._width-1,this.y+this._height-1,!1),this._tempX=null,this._tempY=null,this._tempWidth=null,this._tempHeight=null},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._halfWidth=Math.round(t/2),this.updateBounds()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._halfHeight=Math.round(t/2),this.updateBounds()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfWidth",{get:function(){return this._halfWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfHeight",{get:function(){return this._halfHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.bottomCenter.y},set:function(t){this._tempHeight=t<this.y?0:this.y+t,this.updateBounds()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},set:function(t){var e=this.x-t;this._width+e<0?(this._tempWidth=0,this._tempX=t):(this._tempWidth=this._width+e,this._tempX=t),this.updateBounds()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.rightCenter.x},set:function(t){this._tempWidth=t<this.topLeft.x?0:t-this.topLeft.x,this.updateBounds()},enumerable:!0,configurable:!0}),e.prototype.size=function(e){return"undefined"==typeof e&&(e=new t.Point),e.setTo(this._width,this._height)},Object.defineProperty(e.prototype,"volume",{get:function(){return this._width*this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"perimeter",{get:function(){return 2*this._width+2*this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.topCenter.y},set:function(t){var e=this.topCenter.y-t;this._height+e<0?(this._tempHeight=0,this._tempY=t):(this._tempHeight=this._height+e,this._tempY=t),this.updateBounds()},enumerable:!0,configurable:!0}),e.prototype.clone=function(t){return"undefined"==typeof t&&(t=new e),t.setTo(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,e){return t>=this.topLeft.x&&t<=this.topRight.x&&e>=this.topLeft.y&&e<=this.bottomRight.y?!0:!1},e.prototype.containsPoint=function(t){return this.contains(t.x,t.y)},e.prototype.containsRect=function(t){return t.volume>this.volume?!1:t.x>=this.topLeft.x&&t.y>=this.topLeft.y&&t.rightCenter.x<=this.rightCenter.x&&t.bottomCenter.y<=this.bottomCenter.y?!0:!1},e.prototype.copyFrom=function(t){return this.setTo(t.x,t.y,t.width,t.height)},e.prototype.copyTo=function(t){return t.copyFrom(this)},e.prototype.equals=function(t){return this.topLeft.equals(t.topLeft)&&this.bottomRight.equals(t.bottomRight)?!0:!1},e.prototype.inflate=function(t,e){return this._tempX=this.topLeft.x-t,this._tempWidth=this._width+2*t,this._tempY=this.topLeft.y-e,this._tempHeight=this._height+2*e,this.updateBounds(),this},e.prototype.inflatePoint=function(t){return this.inflate(t.x,t.y)},e.prototype.intersection=function(t,i){return"undefined"==typeof i&&(i=new e),this.intersects(t)===!0&&(i.x=Math.max(t.topLeft.x,this.topLeft.x),i.y=Math.max(t.topLeft.y,this.topLeft.y),i.width=Math.min(t.rightCenter.x,this.rightCenter.x)-i.x,i.height=Math.min(t.bottomCenter.y,this.bottomCenter.y)-i.y),i},e.prototype.intersects=function(t,e){return"undefined"==typeof e&&(e=0),!(t.left>this.right+e||t.right<this.left-e||t.top>this.bottom+e||t.bottom<this.top-e)},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.width<1||this.height<1?!0:!1},enumerable:!0,configurable:!0}),e.prototype.offset=function(t,e){return isNaN(t)||isNaN(e)||(this.x+=t,this.y+=e),this},e.prototype.offsetPoint=function(t){return this.offset(t.x,t.y)},e.prototype.setEmpty=function(){return this.setTo(0,0,0,0)},e.prototype.setTo=function(t,e,i,n){return this._tempX=t,this._tempY=e,this._tempWidth=i,this._tempHeight=n,this.updateBounds(),this},e.prototype.union=function(t,i){return"undefined"==typeof i&&(i=new e),i.setTo(Math.min(t.x,this.x),Math.min(t.y,this.y),Math.max(t.right,this.right),Math.max(t.bottom,this.bottom))},e.prototype.toString=function(){return"[{Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+" empty="+this.isEmpty+")}]"},e}();t.Rectangle=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t,e,i){"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),this._diameter=0,this._radius=0,this.x=0,this.y=0,this.setTo(t,e,i)}return Object.defineProperty(e.prototype,"diameter",{get:function(){return this._diameter},set:function(t){t>0&&(this._diameter=t,this._radius=.5*t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){t>0&&(this._radius=t,this._diameter=2*t)},enumerable:!0,configurable:!0}),e.prototype.circumference=function(){return 2*Math.PI*this._radius},Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this._radius},set:function(t){isNaN(t)||(t<this.y?(this._radius=0,this._diameter=0):this.radius=t-this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x-this._radius},set:function(t){isNaN(t)||(t<this.x?this.radius=this.x-t:(this._radius=0,this._diameter=0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this._radius},set:function(t){isNaN(t)||(t>this.x?this.radius=t-this.x:(this._radius=0,this._diameter=0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y-this._radius},set:function(t){isNaN(t)||(t>this.y?(this._radius=0,this._diameter=0):this.radius=this.y-t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this._radius>0?Math.PI*this._radius*this._radius:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._diameter<1?!0:!1},enumerable:!0,configurable:!0}),e.prototype.intersectCircleLine=function(e){return t.Collision.lineToCircle(e,this).result},e.prototype.clone=function(t){return"undefined"==typeof t&&(t=new e),t.setTo(this.x,this.y,this._diameter)},e.prototype.contains=function(e,i){return t.Collision.circleContainsPoint(this,{x:e,y:i}).result},e.prototype.containsPoint=function(e){return t.Collision.circleContainsPoint(this,e).result},e.prototype.containsCircle=function(e){return t.Collision.circleToCircle(this,e).result},e.prototype.copyFrom=function(t){return this.setTo(t.x,t.y,t.diameter)},e.prototype.copyTo=function(t){return t.copyFrom(this)},e.prototype.distanceTo=function(t,e){"undefined"==typeof e&&(e=!1);var i=this.x-t.x,n=this.y-t.y;return e===!0?Math.round(Math.sqrt(i*i+n*n)):Math.sqrt(i*i+n*n)},e.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.diameter===t.diameter?!0:!1},e.prototype.intersects=function(t){return this.distanceTo(t,!1)<this._radius+t._radius?!0:!1},e.prototype.circumferencePoint=function(e,i,n){return"undefined"==typeof i&&(i=!1),"undefined"==typeof n&&(n=new t.Point),i===!0&&(e*=t.GameMath.DEG_TO_RAD),n.x=this.x+this._radius*Math.cos(e),n.y=this.y+this._radius*Math.sin(e),n},e.prototype.offset=function(t,e){return isNaN(t)||isNaN(e)||(this.x+=t,this.y+=e),this},e.prototype.offsetPoint=function(t){return this.offset(t.x,t.y)},e.prototype.setTo=function(t,e,i){return this.x=t,this.y=e,this._diameter=i,this._radius=.5*i,this},e.prototype.toString=function(){return"[{Circle (x="+this.x+" y="+this.y+" diameter="+this.diameter+" radius="+this.radius+")}]"},e}();t.Circle=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t,e,i,n){"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),"undefined"==typeof n&&(n=0),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.setTo(t,e,i,n)}return t.prototype.clone=function(e){return"undefined"==typeof e&&(e=new t),e.setTo(this.x1,this.y1,this.x2,this.y2)},t.prototype.copyFrom=function(t){return this.setTo(t.x1,t.y1,t.x2,t.y2)},t.prototype.copyTo=function(t){return t.copyFrom(this)},t.prototype.setTo=function(t,e,i,n){return"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),"undefined"==typeof n&&(n=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this},Object.defineProperty(t.prototype,"width",{get:function(){return Math.max(this.x1,this.x2)-Math.min(this.x1,this.x2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.max(this.y1,this.y2)-Math.min(this.y1,this.y2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt((this.x2-this.x1)*(this.x2-this.x1)+(this.y2-this.y1)*(this.y2-this.y1))},enumerable:!0,configurable:!0}),t.prototype.getY=function(t){return this.slope*t+this.yIntercept},Object.defineProperty(t.prototype,"angle",{get:function(){return Math.atan2(this.x2-this.x1,this.y2-this.y1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slope",{get:function(){return(this.y2-this.y1)/(this.x2-this.x1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"perpSlope",{get:function(){return-((this.x2-this.x1)/(this.y2-this.y1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yIntercept",{get:function(){return this.y1-this.slope*this.x1},enumerable:!0,configurable:!0}),t.prototype.isPointOnLine=function(t,e){return(t-this.x1)*(this.y2-this.y1)===(this.x2-this.x1)*(e-this.y1)?!0:!1},t.prototype.isPointOnLineSegment=function(t,e){var i=Math.min(this.x1,this.x2),n=Math.max(this.x1,this.x2),s=Math.min(this.y1,this.y2),o=Math.max(this.y1,this.y2);return this.isPointOnLine(t,e)&&t>=i&&n>=t&&e>=s&&o>=e?!0:!1},t.prototype.intersectLineLine=function(){},t.prototype.perp=function(e,i,n){if(this.y1===this.y2){if(!n)return new t(e,i,e,this.y1);n.setTo(e,i,e,this.y1)}var s=i-this.perpSlope*e,o=this.intersectLineLine({x1:e,y1:i,x2:0,y2:s});return n?void n.setTo(e,i,o.x,o.y):new t(e,i,o.x,o.y)},t.prototype.toString=function(){return"[{Line (x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+")}]"},t}();t.Line=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(){this.result=!1}return t.prototype.setTo=function(t,e,i,n,s,o){"undefined"==typeof i&&(i=0),"undefined"==typeof n&&(n=0),"undefined"==typeof s&&(s=0),"undefined"==typeof o&&(o=0),this.x=t,this.y=e,this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.width=s,this.height=o},t}();t.IntersectResult=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(){this.object=null,this.next=null}return t.prototype.destroy=function(){this.object=null,null!=this.next&&this.next.destroy(),this.next=null},t}();t.LinkedList=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(e){function i(n,s,o,h,r){if("undefined"==typeof r&&(r=null),e.call(this,n,s,o,h),this._headA=this._tailA=new t.LinkedList,this._headB=this._tailB=new t.LinkedList,null!=r){var a,u;if(null!=r._headA.object)for(a=r._headA;null!=a;)null!=this._tailA.object&&(u=this._tailA,this._tailA=new t.LinkedList,u.next=this._tailA),this._tailA.object=a.object,a=a.next;if(null!=r._headB.object)for(a=r._headB;null!=a;)null!=this._tailB.object&&(u=this._tailB,this._tailB=new t.LinkedList,u.next=this._tailB),this._tailB.object=a.object,a=a.next}else i._min=(this.width+this.height)/(2*i.divisions);this._canSubdivide=this.width>i._min||this.height>i._min,this._northWestTree=null,this._northEastTree=null,this._southEastTree=null,this._southWestTree=null,this._leftEdge=this.x,this._rightEdge=this.x+this.width,this._halfWidth=this.width/2,this._midpointX=this._leftEdge+this._halfWidth,this._topEdge=this.y,this._bottomEdge=this.y+this.height,this._halfHeight=this.height/2,this._midpointY=this._topEdge+this._halfHeight}return __extends(i,e),i.A_LIST=0,i.B_LIST=1,i.prototype.destroy=function(){this._tailA.destroy(),this._tailB.destroy(),this._headA.destroy(),this._headB.destroy(),this._tailA=null,this._tailB=null,this._headA=null,this._headB=null,null!=this._northWestTree&&this._northWestTree.destroy(),null!=this._northEastTree&&this._northEastTree.destroy(),null!=this._southEastTree&&this._southEastTree.destroy(),null!=this._southWestTree&&this._southWestTree.destroy(),this._northWestTree=null,this._northEastTree=null,this._southEastTree=null,this._southWestTree=null,i._object=null,i._processingCallback=null,i._notifyCallback=null},i.prototype.load=function(t,e,n,s){"undefined"==typeof e&&(e=null),"undefined"==typeof n&&(n=null),"undefined"==typeof s&&(s=null),this.add(t,i.A_LIST),null!=e?(this.add(e,i.B_LIST),i._useBothLists=!0):i._useBothLists=!1,i._notifyCallback=n,i._processingCallback=s},i.prototype.add=function(t,e){if(i._list=e,1==t.isGroup)for(var n,s=0,o=t.members,h=t.length;h>s;)n=o[s++],null!=n&&n.exists&&(n.isGroup?this.add(n,e):(i._object=n,i._object.exists&&i._object.allowCollisions&&(i._objectLeftEdge=i._object.x,i._objectTopEdge=i._object.y,i._objectRightEdge=i._object.x+i._object.width,i._objectBottomEdge=i._object.y+i._object.height,this.addObject())));else i._object=t,i._object.exists&&i._object.allowCollisions&&(i._objectLeftEdge=i._object.x,i._objectTopEdge=i._object.y,i._objectRightEdge=i._object.x+i._object.width,i._objectBottomEdge=i._object.y+i._object.height,this.addObject())},i.prototype.addObject=function(){if(!this._canSubdivide||this._leftEdge>=i._objectLeftEdge&&this._rightEdge<=i._objectRightEdge&&this._topEdge>=i._objectTopEdge&&this._bottomEdge<=i._objectBottomEdge)return void this.addToList();if(i._objectLeftEdge>this._leftEdge&&i._objectRightEdge<this._midpointX){if(i._objectTopEdge>this._topEdge&&i._objectBottomEdge<this._midpointY)return null==this._northWestTree&&(this._northWestTree=new i(this._leftEdge,this._topEdge,this._halfWidth,this._halfHeight,this)),void this._northWestTree.addObject();if(i._objectTopEdge>this._midpointY&&i._objectBottomEdge<this._bottomEdge)return null==this._southWestTree&&(this._southWestTree=new i(this._leftEdge,this._midpointY,this._halfWidth,this._halfHeight,this)),void this._southWestTree.addObject()}if(i._objectLeftEdge>this._midpointX&&i._objectRightEdge<this._rightEdge){if(i._objectTopEdge>this._topEdge&&i._objectBottomEdge<this._midpointY)return null==this._northEastTree&&(this._northEastTree=new i(this._midpointX,this._topEdge,this._halfWidth,this._halfHeight,this)),void this._northEastTree.addObject();if(i._objectTopEdge>this._midpointY&&i._objectBottomEdge<this._bottomEdge)return null==this._southEastTree&&(this._southEastTree=new i(this._midpointX,this._midpointY,this._halfWidth,this._halfHeight,this)),void this._southEastTree.addObject()}i._objectRightEdge>this._leftEdge&&i._objectLeftEdge<this._midpointX&&i._objectBottomEdge>this._topEdge&&i._objectTopEdge<this._midpointY&&(null==this._northWestTree&&(this._northWestTree=new i(this._leftEdge,this._topEdge,this._halfWidth,this._halfHeight,this)),this._northWestTree.addObject()),i._objectRightEdge>this._midpointX&&i._objectLeftEdge<this._rightEdge&&i._objectBottomEdge>this._topEdge&&i._objectTopEdge<this._midpointY&&(null==this._northEastTree&&(this._northEastTree=new i(this._midpointX,this._topEdge,this._halfWidth,this._halfHeight,this)),this._northEastTree.addObject()),i._objectRightEdge>this._midpointX&&i._objectLeftEdge<this._rightEdge&&i._objectBottomEdge>this._midpointY&&i._objectTopEdge<this._bottomEdge&&(null==this._southEastTree&&(this._southEastTree=new i(this._midpointX,this._midpointY,this._halfWidth,this._halfHeight,this)),this._southEastTree.addObject()),i._objectRightEdge>this._leftEdge&&i._objectLeftEdge<this._midpointX&&i._objectBottomEdge>this._midpointY&&i._objectTopEdge<this._bottomEdge&&(null==this._southWestTree&&(this._southWestTree=new i(this._leftEdge,this._midpointY,this._halfWidth,this._halfHeight,this)),this._southWestTree.addObject())},i.prototype.addToList=function(){var e;i._list==i.A_LIST?(null!=this._tailA.object&&(e=this._tailA,this._tailA=new t.LinkedList,e.next=this._tailA),this._tailA.object=i._object):(null!=this._tailB.object&&(e=this._tailB,this._tailB=new t.LinkedList,e.next=this._tailB),this._tailB.object=i._object),this._canSubdivide&&(null!=this._northWestTree&&this._northWestTree.addToList(),null!=this._northEastTree&&this._northEastTree.addToList(),null!=this._southEastTree&&this._southEastTree.addToList(),null!=this._southWestTree&&this._southWestTree.addToList())},i.prototype.execute=function(){var t,e=!1;if(null!=this._headA.object)for(t=this._headA;null!=t;)i._object=t.object,i._iterator=i._useBothLists?this._headB:t.next,i._object.exists&&i._object.allowCollisions>0&&null!=i._iterator&&null!=i._iterator.object&&i._iterator.object.exists&&this.overlapNode()&&(e=!0),t=t.next;return null!=this._northWestTree&&this._northWestTree.execute()&&(e=!0),null!=this._northEastTree&&this._northEastTree.execute()&&(e=!0),null!=this._southEastTree&&this._southEastTree.execute()&&(e=!0),null!=this._southWestTree&&this._southWestTree.execute()&&(e=!0),e},i.prototype.overlapNode=function(){for(var t,e=!1;null!=i._iterator&&i._object.exists&&!(i._object.allowCollisions<=0);)t=i._iterator.object,i._object===t||!t.exists||t.allowCollisions<=0?i._iterator=i._iterator.next:(i._objectHullX=i._object.x<i._object.last.x?i._object.x:i._object.last.x,i._objectHullY=i._object.y<i._object.last.y?i._object.y:i._object.last.y,i._objectHullWidth=i._object.x-i._object.last.x,i._objectHullWidth=i._object.width+(i._objectHullWidth>0?i._objectHullWidth:-i._objectHullWidth),i._objectHullHeight=i._object.y-i._object.last.y,i._objectHullHeight=i._object.height+(i._objectHullHeight>0?i._objectHullHeight:-i._objectHullHeight),i._checkObjectHullX=t.x<t.last.x?t.x:t.last.x,i._checkObjectHullY=t.y<t.last.y?t.y:t.last.y,i._checkObjectHullWidth=t.x-t.last.x,i._checkObjectHullWidth=t.width+(i._checkObjectHullWidth>0?i._checkObjectHullWidth:-i._checkObjectHullWidth),i._checkObjectHullHeight=t.y-t.last.y,i._checkObjectHullHeight=t.height+(i._checkObjectHullHeight>0?i._checkObjectHullHeight:-i._checkObjectHullHeight),i._objectHullX+i._objectHullWidth>i._checkObjectHullX&&i._objectHullX<i._checkObjectHullX+i._checkObjectHullWidth&&i._objectHullY+i._objectHullHeight>i._checkObjectHullY&&i._objectHullY<i._checkObjectHullY+i._checkObjectHullHeight&&((null==i._processingCallback||i._processingCallback(i._object,t))&&(e=!0),e&&null!=i._notifyCallback&&i._notifyCallback(i._object,t)),i._iterator=i._iterator.next);return e},i}(t.Rectangle);t.QuadTree=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t){this._game=t}return e.LEFT=1,e.RIGHT=16,e.UP=256,e.DOWN=4096,e.NONE=0,e.CEILING=e.UP,e.FLOOR=e.DOWN,e.WALL=e.LEFT|e.RIGHT,e.ANY=e.LEFT|e.RIGHT|e.UP|e.DOWN,e.OVERLAP_BIAS=4,e.lineToLine=function(e,i,n){"undefined"==typeof n&&(n=new t.IntersectResult);var s=(e.x1-e.x2)*(i.y1-i.y2)-(e.y1-e.y2)*(i.x1-i.x2);return 0!==s&&(n.result=!0,n.x=((e.x1*e.y2-e.y1*e.x2)*(i.x1-i.x2)-(e.x1-e.x2)*(i.x1*i.y2-i.y1*i.x2))/s,n.y=((e.x1*e.y2-e.y1*e.x2)*(i.y1-i.y2)-(e.y1-e.y2)*(i.x1*i.y2-i.y1*i.x2))/s),n},e.lineToLineSegment=function(e,i,n){"undefined"==typeof n&&(n=new t.IntersectResult);var s=(e.x1-e.x2)*(i.y1-i.y2)-(e.y1-e.y2)*(i.x1-i.x2);if(0!==s){n.x=((e.x1*e.y2-e.y1*e.x2)*(i.x1-i.x2)-(e.x1-e.x2)*(i.x1*i.y2-i.y1*i.x2))/s,n.y=((e.x1*e.y2-e.y1*e.x2)*(i.y1-i.y2)-(e.y1-e.y2)*(i.x1*i.y2-i.y1*i.x2))/s;var o=Math.max(i.x1,i.x2),h=Math.min(i.x1,i.x2),r=Math.max(i.y1,i.y2),a=Math.min(i.y1,i.y2);((n.x<=o&&n.x>=h)==!0||(n.y<=r&&n.y>=a)==!0)&&(n.result=!0)}return n},e.lineToRawSegment=function(e,i,n,s,o,h){"undefined"==typeof h&&(h=new t.IntersectResult);var r=(e.x1-e.x2)*(n-o)-(e.y1-e.y2)*(i-s);if(0!==r){h.x=((e.x1*e.y2-e.y1*e.x2)*(i-s)-(e.x1-e.x2)*(i*o-n*s))/r,h.y=((e.x1*e.y2-e.y1*e.x2)*(n-o)-(e.y1-e.y2)*(i*o-n*s))/r;var a=Math.max(i,s),u=Math.min(i,s),l=Math.max(n,o),c=Math.min(n,o);((h.x<=a&&h.x>=u)==!0||(h.y<=l&&h.y>=c)==!0)&&(h.result=!0)}return h},e.lineToRay=function(e,i,n){"undefined"==typeof n&&(n=new t.IntersectResult);var s=(e.x1-e.x2)*(i.y1-i.y2)-(e.y1-e.y2)*(i.x1-i.x2);return 0!==s&&(n.x=((e.x1*e.y2-e.y1*e.x2)*(i.x1-i.x2)-(e.x1-e.x2)*(i.x1*i.y2-i.y1*i.x2))/s,n.y=((e.x1*e.y2-e.y1*e.x2)*(i.y1-i.y2)-(e.y1-e.y2)*(i.x1*i.y2-i.y1*i.x2))/s,n.result=!0,!(i.x1>=i.x2)&&n.x<i.x1&&(n.result=!1),!(i.y1>=i.y2)&&n.y<i.y1&&(n.result=!1)),n},e.lineToCircle=function(e,i,n){return"undefined"==typeof n&&(n=new t.IntersectResult),e.perp(i.x,i.y).length<=i.radius&&(n.result=!0),n},e.lineToRectangle=function(e,i,n){return"undefined"==typeof n&&(n=new t.IntersectResult),this.lineToRawSegment(e,i.x,i.y,i.right,i.y,n),n.result===!0?n:(this.lineToRawSegment(e,i.x,i.y,i.x,i.bottom,n),n.result===!0?n:(this.lineToRawSegment(e,i.x,i.bottom,i.right,i.bottom,n),n.result===!0?n:(this.lineToRawSegment(e,i.right,i.y,i.right,i.bottom,n),n)))},e.lineSegmentToLineSegment=function(e,i,n){return"undefined"==typeof n&&(n=new t.IntersectResult),this.lineToLineSegment(e,i,n),n.result===!0&&(n.x>=Math.min(e.x1,e.x2)&&n.x<=Math.max(e.x1,e.x2)&&n.y>=Math.min(e.y1,e.y2)&&n.y<=Math.max(e.y1,e.y2)||(n.result=!1)),n},e.lineSegmentToRay=function(e,i,n){return"undefined"==typeof n&&(n=new t.IntersectResult),this.lineToRay(e,i,n),n.result===!0&&(n.x>=Math.min(e.x1,e.x2)&&n.x<=Math.max(e.x1,e.x2)&&n.y>=Math.min(e.y1,e.y2)&&n.y<=Math.max(e.y1,e.y2)||(n.result=!1)),n},e.lineSegmentToCircle=function(e,i,n){"undefined"==typeof n&&(n=new t.IntersectResult);var s=e.perp(i.x,i.y);if(s.length<=i.radius){var o=Math.max(e.x1,e.x2),h=Math.min(e.x1,e.x2),r=Math.max(e.y1,e.y2),a=Math.min(e.y1,e.y2);s.x2<=o&&s.x2>=h&&s.y2<=r&&s.y2>=a?n.result=!0:(this.circleContainsPoint(i,{x:e.x1,y:e.y1})||this.circleContainsPoint(i,{x:e.x2,y:e.y2}))&&(n.result=!0)}return n},e.lineSegmentToRectangle=function(e,i,n){return"undefined"==typeof n&&(n=new t.IntersectResult),i.contains(e.x1,e.y1)&&i.contains(e.x2,e.y2)?(n.result=!0,n):(this.lineToRawSegment(e,i.x,i.y,i.right,i.bottom,n),n.result===!0?n:(this.lineToRawSegment(e,i.x,i.y,i.x,i.bottom,n),n.result===!0?n:(this.lineToRawSegment(e,i.x,i.bottom,i.right,i.bottom,n),n.result===!0?n:(this.lineToRawSegment(e,i.right,i.y,i.right,i.bottom,n),n))))},e.rayToRectangle=function(e,i,n){return"undefined"==typeof n&&(n=new t.IntersectResult),this.lineToRectangle(e,i,n),n},e.rayToLineSegment=function(e,i,n,s,o,h,r,a,u){"undefined"==typeof u&&(u=new t.IntersectResult);var l,c,d;return(s-i)/(n-e)!=(a-h)/(r-o)&&(d=(n-e)*(a-h)-(s-i)*(r-o),0!=d&&(l=((i-h)*(r-o)-(e-o)*(a-h))/d,c=((i-h)*(n-e)-(e-o)*(s-i))/d,l>=0&&c>=0&&1>=c&&(u.result=!0,u.x=e+l*(n-e),i+l*(s-i)))),u},e.pointToRectangle=function(e,i,n){return"undefined"==typeof n&&(n=new t.IntersectResult),n.setTo(e.x,e.y),n.result=i.containsPoint(e),n},e.rectangleToRectangle=function(e,i,n){"undefined"==typeof n&&(n=new t.IntersectResult);var s=Math.max(e.x,i.x),o=Math.min(e.right,i.right),h=Math.max(e.y,i.y),r=Math.min(e.bottom,i.bottom);n.setTo(s,h,o-s,r-h,o-s,r-h);var a=n.x+.5*n.width,u=n.y+.5*n.height;return a>e.x&&a<e.right&&u>e.y&&u<e.bottom&&(n.result=!0),n},e.rectangleToCircle=function(e,i,n){return"undefined"==typeof n&&(n=new t.IntersectResult),this.circleToRectangle(i,e,n)},e.circleToCircle=function(e,i,n){return"undefined"==typeof n&&(n=new t.IntersectResult),n.result=(e.radius+i.radius)*(e.radius+i.radius)>=this.distanceSquared(e.x,e.y,i.x,i.y),n},e.circleToRectangle=function(e,i,n){"undefined"==typeof n&&(n=new t.IntersectResult);var s=i.clone();return s.inflate(e.radius,e.radius),n.result=s.contains(e.x,e.y),n},e.circleContainsPoint=function(e,i,n){return"undefined"==typeof n&&(n=new t.IntersectResult),n.result=e.radius*e.radius>=this.distanceSquared(e.x,e.y,i.x,i.y),n},e.prototype.overlap=function(e,i,n,s){"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=null),"undefined"==typeof s&&(s=null),null==e&&(e=this._game.world.group),i==e&&(i=null),t.QuadTree.divisions=this._game.world.worldDivisions;var o=new t.QuadTree(this._game.world.bounds.x,this._game.world.bounds.y,this._game.world.bounds.width,this._game.world.bounds.height);o.load(e,i,n,s);var h=o.execute();return o.destroy(),o=null,h},e.separate=function(t,i){var n=e.separateX(t,i),s=e.separateY(t,i);return n||s},e.separateX=function(i,n){var s=i.immovable,o=n.immovable;if(s&&o)return!1;var h=0,r=i.x-i.last.x,a=n.x-n.last.x;if(r!=a){var u=r>0?r:-r,l=a>0?a:-a,c=new t.Rectangle(i.x-(r>0?r:0),i.last.y,i.width+(r>0?r:-r),i.height),d=new t.Rectangle(n.x-(a>0?a:0),n.last.y,n.width+(a>0?a:-a),n.height);if(c.x+c.width>d.x&&c.x<d.x+d.width&&c.y+c.height>d.y&&c.y<d.y+d.height){var p=u+l+e.OVERLAP_BIAS;
r>a?(h=i.x+i.width-n.x,!(h>p)&&i.allowCollisions&e.RIGHT&&n.allowCollisions&e.LEFT?(i.touching|=e.RIGHT,n.touching|=e.LEFT):h=0):a>r&&(h=i.x-n.width-n.x,!(-h>p)&&i.allowCollisions&e.LEFT&&n.allowCollisions&e.RIGHT?(i.touching|=e.LEFT,n.touching|=e.RIGHT):h=0)}}if(0!=h){var f=i.velocity.x,_=n.velocity.x;if(s||o)s?o||(n.x+=h,n.velocity.x=f-_*n.elasticity):(i.x=i.x-h,i.velocity.x=_-f*i.elasticity);else{h*=.5,i.x=i.x-h,n.x+=h;var y=Math.sqrt(_*_*n.mass/i.mass)*(_>0?1:-1),g=Math.sqrt(f*f*i.mass/n.mass)*(f>0?1:-1),m=.5*(y+g);y-=m,g-=m,i.velocity.x=m+y*i.elasticity,n.velocity.x=m+g*n.elasticity}return!0}return!1},e.separateY=function(i,n){var s=i.immovable,o=n.immovable;if(s&&o)return!1;var h=0,r=i.y-i.last.y,a=n.y-n.last.y;if(r!=a){var u=r>0?r:-r,l=a>0?a:-a,c=new t.Rectangle(i.x,i.y-(r>0?r:0),i.width,i.height+u),d=new t.Rectangle(n.x,n.y-(a>0?a:0),n.width,n.height+l);if(c.x+c.width>d.x&&c.x<d.x+d.width&&c.y+c.height>d.y&&c.y<d.y+d.height){var p=u+l+e.OVERLAP_BIAS;r>a?(h=i.y+i.height-n.y,!(h>p)&&i.allowCollisions&e.DOWN&&n.allowCollisions&e.UP?(i.touching|=e.DOWN,n.touching|=e.UP):h=0):a>r&&(h=i.y-n.height-n.y,!(-h>p)&&i.allowCollisions&e.UP&&n.allowCollisions&e.DOWN?(i.touching|=e.UP,n.touching|=e.DOWN):h=0)}}if(0!=h){var f=i.velocity.y,_=n.velocity.y;if(s||o)s?o||(n.y+=h,n.velocity.y=f-_*n.elasticity,i.active&&i.moves&&a>r&&(n.x+=i.x-i.last.x)):(i.y=i.y-h,i.velocity.y=_-f*i.elasticity,n.active&&n.moves&&r>a&&(i.x+=n.x-n.last.x));else{h*=.5,i.y=i.y-h,n.y+=h;var y=Math.sqrt(_*_*n.mass/i.mass)*(_>0?1:-1),g=Math.sqrt(f*f*i.mass/n.mass)*(f>0?1:-1),m=.5*(y+g);y-=m,g-=m,i.velocity.y=m+y*i.elasticity,n.velocity.y=m+g*n.elasticity}return!0}return!1},e.distance=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},e.distanceSquared=function(t,e,i,n){return(i-t)*(i-t)+(n-e)*(n-e)},e}();t.Collision=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(e,i,n,s){this._sx=0,this._sy=0,this._sw=0,this._sh=0,this._dx=0,this._dy=0,this._dw=0,this._dh=0,this._game=e,this.canvas=document.createElement("canvas"),this.canvas.width=n,this.canvas.height=s,this.context=this.canvas.getContext("2d"),this.bounds=new t.Rectangle(0,0,n,s)}return e.prototype.getPixel=function(t,e){var i=this.context.getImageData(t,e,1,1);return this.getColor(i.data[0],i.data[1],i.data[2])},e.prototype.getPixel32=function(t,e){var i=this.context.getImageData(t,e,1,1);return this.getColor32(i.data[3],i.data[0],i.data[1],i.data[2])},e.prototype.getPixels=function(t){return this.context.getImageData(t.x,t.y,t.width,t.height)},e.prototype.setPixel=function(t,e,i){this.context.fillStyle=i,this.context.fillRect(t,e,1,1)},e.prototype.setPixel32=function(t,e,i){this.context.fillStyle=i,this.context.fillRect(t,e,1,1)},e.prototype.setPixels=function(t,e){this.context.putImageData(e,t.x,t.y)},e.prototype.fillRect=function(t,e){this.context.fillStyle=e,this.context.fillRect(t.x,t.y,t.width,t.height)},e.prototype.pasteImage=function(t,e,i,n,s,o){"undefined"==typeof e&&(e=-1),"undefined"==typeof i&&(i=0),"undefined"==typeof n&&(n=0),"undefined"==typeof s&&(s=null),"undefined"==typeof o&&(o=null);var h=null;this._sx=0,this._sy=0,this._dx=i,this._dy=n,e>-1||(h=this._game.cache.getImage(t),this._sw=h.width,this._sh=h.height,this._dw=h.width,this._dh=h.height),null!==s&&(this._dw=s),null!==o&&(this._dh=o),null!=h&&this.context.drawImage(h,this._sx,this._sy,this._sw,this._sh,this._dx,this._dy,this._dw,this._dh)},e.prototype.copyPixels=function(t,e,i){1==e.equals(this.bounds)?this.context.drawImage(t.canvas,i.x,i.y):this.context.putImageData(t.getPixels(e),i.x,i.y)},e.prototype.clear=function(){this.context.clearRect(0,0,this.bounds.width,this.bounds.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this.bounds.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bounds.height},enumerable:!0,configurable:!0}),e.prototype.getColor32=function(t,e,i,n){return t<<24|e<<16|i<<8|n},e.prototype.getColor=function(t,e,i){return t<<16|e<<8|i},e}();t.DynamicTexture=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t){this.cosTable=[],this.sinTable=[],this.globalSeed=Math.random(),this._game=t}return t.PI=3.141592653589793,t.PI_2=1.5707963267948966,t.PI_4=.7853981633974483,t.PI_8=.39269908169872414,t.PI_16=.19634954084936207,t.TWO_PI=6.283185307179586,t.THREE_PI_2=4.71238898038469,t.E=2.71828182845905,t.LN10=2.302585092994046,t.LN2=.6931471805599453,t.LOG10E=.4342944819032518,t.LOG2E=1.4426950408889634,t.SQRT1_2=.7071067811865476,t.SQRT2=1.4142135623730951,t.DEG_TO_RAD=.017453292519943295,t.RAD_TO_DEG=57.29577951308232,t.B_16=65536,t.B_31=2147483648,t.B_32=4294967296,t.B_48=281474976710656,t.B_53=9007199254740992,t.B_64=0x10000000000000000,t.ONE_THIRD=.3333333333333333,t.TWO_THIRDS=.6666666666666666,t.ONE_SIXTH=.16666666666666666,t.COS_PI_3=.8660254037844386,t.SIN_2PI_3=.03654595,t.CIRCLE_ALPHA=.5522847498307935,t.ON=!0,t.OFF=!1,t.SHORT_EPSILON=.1,t.PERC_EPSILON=.001,t.EPSILON=1e-4,t.LONG_EPSILON=1e-8,t.prototype.fuzzyEqual=function(t,e,i){return"undefined"==typeof i&&(i=1e-4),Math.abs(t-e)<i},t.prototype.fuzzyLessThan=function(t,e,i){return"undefined"==typeof i&&(i=1e-4),e+i>t},t.prototype.fuzzyGreaterThan=function(t,e,i){return"undefined"==typeof i&&(i=1e-4),t>e-i},t.prototype.fuzzyCeil=function(t,e){return"undefined"==typeof e&&(e=1e-4),Math.ceil(t-e)},t.prototype.fuzzyFloor=function(t,e){return"undefined"==typeof e&&(e=1e-4),Math.floor(t+e)},t.prototype.average=function(){for(var t=[],e=0;e<arguments.length-0;e++)t[e]=arguments[e+0];for(var i=0,n=0;n<t.length;n++)i+=t[n];return i/t.length},t.prototype.slam=function(t,e,i){return"undefined"==typeof i&&(i=1e-4),Math.abs(t-e)<i?e:t},t.prototype.percentageMinMax=function(t,e,i){return"undefined"==typeof i&&(i=0),t-=i,e-=i,e?t/e:0},t.prototype.sign=function(t){return t?t/Math.abs(t):0},t.prototype.truncate=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.prototype.shear=function(t){return t%1},t.prototype.wrap=function(t,e,i){if("undefined"==typeof i&&(i=0),t-=i,e-=i,0==e)return i;for(t%=e,t+=i;i>t;)t+=e;return t},t.prototype.arithWrap=function(t,e,i){return"undefined"==typeof i&&(i=0),e-=i,0==e?i:t-e*Math.floor((t-i)/e)},t.prototype.clamp=function(t,e,i){return"undefined"==typeof i&&(i=0),Math.max(i,Math.min(e,t))},t.prototype.snapTo=function(t,e,i){return"undefined"==typeof i&&(i=0),0==e?t:(t-=i,t=e*Math.round(t/e),i+t)},t.prototype.snapToFloor=function(t,e,i){return"undefined"==typeof i&&(i=0),0==e?t:(t-=i,t=e*Math.floor(t/e),i+t)},t.prototype.snapToCeil=function(t,e,i){return"undefined"==typeof i&&(i=0),0==e?t:(t-=i,t=e*Math.ceil(t/e),i+t)},t.prototype.snapToInArray=function(t,e,i){if("undefined"==typeof i&&(i=!0),i&&e.sort(),t<e[0])return e[0];for(var n=1;e[n]<t;)n++;var s=e[n-1],o=n<e.length?e[n]:Number.POSITIVE_INFINITY;return t-s>=o-t?o:s},t.prototype.roundTo=function(t,e,i){"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=10);var n=Math.pow(i,-e);return Math.round(t*n)/n},t.prototype.floorTo=function(t,e,i){"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=10);var n=Math.pow(i,-e);return Math.floor(t*n)/n},t.prototype.ceilTo=function(t,e,i){"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=10);var n=Math.pow(i,-e);return Math.ceil(t*n)/n},t.prototype.interpolateFloat=function(t,e,i){return(e-t)*i+t},t.prototype.radiansToDegrees=function(e){return e*t.RAD_TO_DEG},t.prototype.degreesToRadians=function(e){return e*t.DEG_TO_RAD},t.prototype.angleBetween=function(t,e,i,n){return Math.atan2(n-e,i-t)},t.prototype.normalizeAngle=function(e,i){"undefined"==typeof i&&(i=!0);var n=i?t.PI:180;return this.wrap(e,n,-n)},t.prototype.nearestAngleBetween=function(e,i,n){"undefined"==typeof n&&(n=!0);var s=n?t.PI:180;return e=this.normalizeAngle(e,n),i=this.normalizeAngle(i,n),-s/2>e&&i>s/2&&(e+=2*s),-s/2>i&&e>s/2&&(i+=2*s),i-e},t.prototype.normalizeAngleToAnother=function(t,e,i){return"undefined"==typeof i&&(i=!0),e+this.nearestAngleBetween(e,t,i)},t.prototype.normalizeAngleAfterAnother=function(t,e,i){return"undefined"==typeof i&&(i=!0),t=this.normalizeAngle(t-e,i),e+t},t.prototype.normalizeAngleBeforeAnother=function(t,e,i){return"undefined"==typeof i&&(i=!0),t=this.normalizeAngle(e-t,i),e-t},t.prototype.interpolateAngles=function(t,e,i,n,s){return"undefined"==typeof n&&(n=!0),"undefined"==typeof s&&(s=null),t=this.normalizeAngle(t,n),e=this.normalizeAngleToAnother(e,t,n),"function"==typeof s?s(i,t,e-t,1):this.interpolateFloat(t,e,i)},t.prototype.logBaseOf=function(t,e){return Math.log(t)/Math.log(e)},t.prototype.GCD=function(t,e){var i;for(t=Math.abs(t),e=Math.abs(e),e>t&&(i=t,t=e,e=i);;){if(i=t%e,!i)return e;t=e,e=i}return 1},t.prototype.LCM=function(t,e){return t*e/this.GCD(t,e)},t.prototype.factorial=function(t){if(0==t)return 1;for(var e=t;--t;)e*=t;return e},t.prototype.gammaFunction=function(t){return this.factorial(t-1)},t.prototype.fallingFactorial=function(t,e){return this.factorial(t)/this.factorial(t-e)},t.prototype.risingFactorial=function(t,e){return this.factorial(t+e-1)/this.factorial(t-1)},t.prototype.binCoef=function(t,e){return this.fallingFactorial(t,e)/this.factorial(e)},t.prototype.risingBinCoef=function(t,e){return this.risingFactorial(t,e)/this.factorial(e)},t.prototype.chanceRoll=function(t){return"undefined"==typeof t&&(t=50),0>=t?!1:t>=100?!0:100*Math.random()>=t?!1:!0},t.prototype.maxAdd=function(t,e,i){return t+=e,t>i&&(t=i),t},t.prototype.minSub=function(t,e,i){return t-=e,i>t&&(t=i),t},t.prototype.wrapValue=function(t,e,i){var n;return t=Math.abs(t),e=Math.abs(e),i=Math.abs(i),n=(t+e)%i},t.prototype.randomSign=function(){return Math.random()>.5?1:-1},t.prototype.isOdd=function(t){return 1&t?!0:!1},t.prototype.isEven=function(t){return 1&t?!1:!0},t.prototype.wrapAngle=function(t){var e=t;return t>=-180&&180>=t?t:(e=(t+180)%360,0>e&&(e+=360),e-180)},t.prototype.angleLimit=function(t,e,i){var n=t;return t>i?n=i:e>t&&(n=e),n},t.prototype.linearInterpolation=function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n);return 0>e?this.linear(t[0],t[1],n):e>1?this.linear(t[i],t[i-1],i-n):this.linear(t[s],t[s+1>i?i:s+1],n-s)},t.prototype.bezierInterpolation=function(t,e){for(var i=0,n=t.length-1,s=0;n>=s;s++)i+=Math.pow(1-e,n-s)*Math.pow(e,s)*t[s]*this.bernstein(n,s);return i},t.prototype.catmullRomInterpolation=function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n);return t[0]===t[i]?(0>e&&(s=Math.floor(n=i*(1+e))),this.catmullRom(t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i],n-s)):0>e?t[0]-(this.catmullRom(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[i]-(this.catmullRom(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):this.catmullRom(t[s?s-1:0],t[s],t[s+1>i?i:s+1],t[s+2>i?i:s+2],n-s)},t.prototype.linear=function(t,e,i){return(e-t)*i+t},t.prototype.bernstein=function(t,e){return this.factorial(t)/this.factorial(e)/this.factorial(t-e)},t.prototype.catmullRom=function(t,e,i,n,s){var o=.5*(i-t),h=.5*(n-e),r=s*s,a=s*r;return(2*e-2*i+o+h)*a+(-3*e+3*i-2*o-h)*r+o*s+e},t.prototype.difference=function(t,e){return Math.abs(t-e)},t.prototype.random=function(){return this.globalSeed=this.srand(this.globalSeed)},t.prototype.srand=function(t){return 0x87fa7ffef00b*t%2147483647/2147483647},t.prototype.getRandom=function(t,e,i){if("undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),null!=t){var n=i;if((0==n||n>t.length-e)&&(n=t.length-e),n>0)return t[e+Math.floor(Math.random()*n)]}return null},t.prototype.floor=function(t){var e=0|t;return t>0?e:e!=t?e-1:e},t.prototype.ceil=function(t){var e=0|t;return t>0&&e!=t?e+1:e},t.prototype.sinCosGenerator=function(t,e,i,n){"undefined"==typeof e&&(e=1),"undefined"==typeof i&&(i=1),"undefined"==typeof n&&(n=1);var s=e,o=i,h=n*Math.PI/t;this.cosTable=[],this.sinTable=[];for(var r=0;t>r;r++)o-=s*h,s+=o*h,this.cosTable[r]=o,this.sinTable[r]=s;return this.sinTable},t.prototype.vectorLength=function(t,e){return Math.sqrt(t*t+e*e)},t.prototype.dotProduct=function(t,e,i,n){return t*i+e*n},t}();t.GameMath=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(t){function e(e,i){"undefined"==typeof i&&(i=0),t.call(this,e),this.isGroup=!0,this.members=[],this.length=0,this._maxSize=i,this._marker=0,this._sortIndex=null}return __extends(e,t),e.ASCENDING=-1,e.DESCENDING=1,e.prototype.destroy=function(){if(null!=this.members){for(var t,e=0;e<this.length;)t=this.members[e++],null!=t&&t.destroy();this.members.length=0}this._sortIndex=null},e.prototype.update=function(){for(var t,e=0;e<this.length;)t=this.members[e++],null!=t&&t.exists&&t.active&&(t.preUpdate(),t.update(),t.postUpdate())},e.prototype.render=function(t,e,i){for(var n,s=0;s<this.length;)n=this.members[s++],null!=n&&n.exists&&n.visible&&n.render(t,e,i)},Object.defineProperty(e.prototype,"maxSize",{get:function(){return this._maxSize},set:function(t){if(this._maxSize=t,this._marker>=this._maxSize&&(this._marker=0),!(0==this._maxSize||null==this.members||this._maxSize>=this.members.length)){for(var e,i=this._maxSize,n=this.members.length;n>i;)e=this.members[i++],null!=e&&e.destroy();this.length=this.members.length=this._maxSize}},enumerable:!0,configurable:!0}),e.prototype.add=function(t){if(this.members.indexOf(t)>=0)return t;for(var e=0,i=this.members.length;i>e;){if(null==this.members[e])return this.members[e]=t,e>=this.length&&(this.length=e+1),t;e++}if(this._maxSize>0){if(this.members.length>=this._maxSize)return t;2*this.members.length<=this._maxSize?this.members.length*=2:this.members.length=this._maxSize}else this.members.length*=2;return this.members[e]=t,this.length=e+1,t},e.prototype.recycle=function(t){"undefined"==typeof t&&(t=null);var e;return this._maxSize>0?this.length<this._maxSize?null==t?null:this.add(new t):(e=this.members[this._marker++],this._marker>=this._maxSize&&(this._marker=0),e):(e=this.getFirstAvailable(t),null!=e?e:null==t?null:this.add(new t))},e.prototype.remove=function(t,e){"undefined"==typeof e&&(e=!1);var i=this.members.indexOf(t);return 0>i||i>=this.members.length?null:(e?(this.members.splice(i,1),this.length--):this.members[i]=null,t)},e.prototype.replace=function(t,e){var i=this.members.indexOf(t);return 0>i||i>=this.members.length?null:(this.members[i]=e,e)},e.prototype.sort=function(t,i){"undefined"==typeof t&&(t="y"),"undefined"==typeof i&&(i=e.ASCENDING),this._sortIndex=t,this._sortOrder=i,this.members.sort(this.sortHandler)},e.prototype.setAll=function(t,e,i){"undefined"==typeof i&&(i=!0);for(var n,s=0;length>s;)n=this.members[s++],null!=n&&(i&&1==n.isGroup?n.setAll(t,e,i):n[t]=e)},e.prototype.callAll=function(t,e){"undefined"==typeof e&&(e=!0);for(var i,n=0;n<this.length;)i=this.members[n++],null!=i&&(e&&1==i.isGroup?i.callAll(t,e):i[t]())},e.prototype.forEach=function(t,e){"undefined"==typeof e&&(e=!1);for(var i,n=0;n<this.length;)i=this.members[n++],null!=i&&(e&&1==i.isGroup?i.forEach(t,!0):t.call(this,i))},e.prototype.getFirstAvailable=function(t){"undefined"==typeof t&&(t=null);for(var e,i=0;i<this.length;)if(e=this.members[i++],null!=e&&!e.exists&&(null==t||typeof e===t))return e;return null},e.prototype.getFirstNull=function(){for(var t=0,e=this.members.length;e>t;){if(null==this.members[t])return t;t++}return-1},e.prototype.getFirstExtant=function(){for(var t,e=0;length>e;)if(t=this.members[e++],null!=t&&t.exists)return t;return null},e.prototype.getFirstAlive=function(){for(var t,e=0;e<this.length;)if(t=this.members[e++],null!=t&&t.exists&&t.alive)return t;return null},e.prototype.getFirstDead=function(){for(var t,e=0;e<this.length;)if(t=this.members[e++],null!=t&&!t.alive)return t;return null},e.prototype.countLiving=function(){for(var t,e=-1,i=0;i<this.length;)t=this.members[i++],null!=t&&(0>e&&(e=0),t.exists&&t.alive&&e++);return e},e.prototype.countDead=function(){for(var t,e=-1,i=0;i<this.length;)t=this.members[i++],null!=t&&(0>e&&(e=0),t.alive||e++);return e},e.prototype.getRandom=function(t,e){return"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),0==e&&(e=this.length),this._game.math.getRandom(this.members,t,e)},e.prototype.clear=function(){this.length=this.members.length=0},e.prototype.kill=function(){for(var t,e=0;e<this.length;)t=this.members[e++],null!=t&&t.exists&&t.kill()},e.prototype.sortHandler=function(t,e){return t[this._sortIndex]<e[this._sortIndex]?this._sortOrder:t[this._sortIndex]>e[this._sortIndex]?-this._sortOrder:0},e}(t.Basic);t.Group=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t,e){this._game=t,this._gameCreateComplete=e,this._keys=[],this._fileList={},this._xhr=new XMLHttpRequest}return t.prototype.checkKeyExists=function(t){return this._fileList[t]?!0:!1},t.prototype.addImageFile=function(t,e){this.checkKeyExists(t)===!1&&(this._fileList[t]={type:"image",key:t,url:e,data:null,error:!1,loaded:!1},this._keys.push(t))},t.prototype.addSpriteSheet=function(t,e,i,n,s){"undefined"==typeof s&&(s=-1),this.checkKeyExists(t)===!1&&(this._fileList[t]={type:"spritesheet",key:t,url:e,data:null,frameWidth:i,frameHeight:n,frameMax:s,error:!1,loaded:!1},this._keys.push(t))},t.prototype.addTextureAtlas=function(t,e,i,n){if("undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=null),this.checkKeyExists(t)===!1)if(null!==i)this._fileList[t]={type:"textureatlas",key:t,url:e,data:null,jsonURL:i,jsonData:null,error:!1,loaded:!1},this._keys.push(t);else if("string"==typeof n){var s=JSON.parse(n);s.frames&&(this._fileList[t]={type:"textureatlas",key:t,url:e,data:null,jsonURL:null,jsonData:s.frames,error:!1,loaded:!1},this._keys.push(t))}else n.frames&&(this._fileList[t]={type:"textureatlas",key:t,url:e,data:null,jsonURL:null,jsonData:n.frames,error:!1,loaded:!1},this._keys.push(t))},t.prototype.addAudioFile=function(t,e){this.checkKeyExists(t)===!1&&(this._fileList[t]={type:"audio",key:t,url:e,data:null,buffer:null,error:!1,loaded:!1},this._keys.push(t))},t.prototype.addTextFile=function(t,e){this.checkKeyExists(t)===!1&&(this._fileList[t]={type:"text",key:t,url:e,data:null,error:!1,loaded:!1},this._keys.push(t))},t.prototype.removeFile=function(t){delete this._fileList[t]},t.prototype.removeAll=function(){this._fileList={}},t.prototype.load=function(t,e){"undefined"==typeof t&&(t=null),"undefined"==typeof e&&(e=null),this.progress=0,this.hasLoaded=!1,this._onComplete=e,null==e&&(this._onComplete=this._game.onCreateCallback),this._onFileLoad=t,this._keys.length>0?(this._progressChunk=100/this._keys.length,this.loadFile()):(this.progress=1,this.hasLoaded=!0,this._gameCreateComplete.call(this._game),null!==this._onComplete&&this._onComplete.call(this._game.callbackContext))},t.prototype.loadFile=function(){var t=this,e=this._fileList[this._keys.pop()];switch(e.type){case"image":case"spritesheet":case"textureatlas":e.data=new Image,e.data.name=e.key,e.data.onload=function(){return t.fileComplete(e.key)},e.data.onerror=function(){return t.fileError(e.key)},e.data.src=e.url;break;case"audio":this._xhr.open("GET",e.url,!0),this._xhr.responseType="arraybuffer",this._xhr.onload=function(){return t.fileComplete(e.key)},this._xhr.onerror=function(){return t.fileError(e.key)},this._xhr.send();break;case"text":this._xhr.open("GET",e.url,!0),this._xhr.responseType="text",this._xhr.onload=function(){return t.fileComplete(e.key)},this._xhr.onerror=function(){return t.fileError(e.key)},this._xhr.send()}},t.prototype.fileError=function(t){this._fileList[t].loaded=!0,this._fileList[t].error=!0,this.nextFile(t,!1)},t.prototype.fileComplete=function(t){var e=this;this._fileList[t].loaded=!0;var i=this._fileList[t],n=!0;switch(i.type){case"image":this._game.cache.addImage(i.key,i.url,i.data);break;case"spritesheet":this._game.cache.addSpriteSheet(i.key,i.url,i.data,i.frameWidth,i.frameHeight,i.frameMax);break;case"textureatlas":null==i.jsonURL?this._game.cache.addTextureAtlas(i.key,i.url,i.data,i.jsonData):(n=!1,this._xhr.open("GET",i.jsonURL,!0),this._xhr.responseType="text",this._xhr.onload=function(){return e.jsonLoadComplete(i.key)},this._xhr.onerror=function(){return e.jsonLoadError(i.key)},this._xhr.send());break;case"audio":i.data=this._xhr.response,this._game.cache.addSound(i.key,i.url,i.data);break;case"text":i.data=this._xhr.response,this._game.cache.addText(i.key,i.url,i.data)}n&&this.nextFile(t,!0)},t.prototype.jsonLoadComplete=function(t){var e=JSON.parse(this._xhr.response);if(e.frames){var i=this._fileList[t];this._game.cache.addTextureAtlas(i.key,i.url,i.data,e.frames)}this.nextFile(t,!0)},t.prototype.jsonLoadError=function(t){var e=this._fileList[t];e.error=!0,this.nextFile(t,!0)},t.prototype.nextFile=function(t,e){this.progress=Math.round(this.progress+this._progressChunk),this._onFileLoad&&this._onFileLoad.call(this._game.callbackContext,this.progress,t,e),this._keys.length>0?this.loadFile():(this.hasLoaded=!0,this.removeAll(),this._gameCreateComplete.call(this._game),null!==this._onComplete&&this._onComplete.call(this._game.callbackContext))},t}();t.Loader=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t){this._game=t}return e.prototype.computeVelocity=function(t,e,i,n){if("undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),"undefined"==typeof n&&(n=1e4),0!==e)t+=e*this._game.time.elapsed;else if(0!==i){var s=i*this._game.time.elapsed;t-s>0?t-=s:0>t+s?t+=s:t=0}return 0!=t&&1e4!=n&&(t>n?t=n:-n>t&&(t=-n)),t},e.prototype.velocityFromAngle=function(e,i){var n=this._game.math.degreesToRadians(e);return new t.Point(Math.cos(n)*i,Math.sin(n)*i)},e.prototype.moveTowardsObject=function(t,e,i,n){"undefined"==typeof i&&(i=60),"undefined"==typeof n&&(n=0);var s=this.angleBetween(t,e);if(n>0){var o=this.distanceBetween(t,e);i=o/(n/1e3)}t.velocity.x=Math.cos(s)*i,t.velocity.y=Math.sin(s)*i},e.prototype.accelerateTowardsObject=function(t,e,i,n,s){var o=this.angleBetween(t,e);t.velocity.x=0,t.velocity.y=0,t.acceleration.x=Math.cos(o)*i,t.acceleration.y=Math.sin(o)*i,t.maxVelocity.x=n,t.maxVelocity.y=s},e.prototype.moveTowardsMouse=function(t,e,i){"undefined"==typeof e&&(e=60),"undefined"==typeof i&&(i=0);var n=this.angleBetweenMouse(t);if(i>0){var s=this.distanceToMouse(t);e=s/(i/1e3)}t.velocity.x=Math.cos(n)*e,t.velocity.y=Math.sin(n)*e},e.prototype.accelerateTowardsMouse=function(t,e,i,n){var s=this.angleBetweenMouse(t);t.velocity.x=0,t.velocity.y=0,t.acceleration.x=Math.cos(s)*e,t.acceleration.y=Math.sin(s)*e,t.maxVelocity.x=i,t.maxVelocity.y=n},e.prototype.moveTowardsPoint=function(t,e,i,n){"undefined"==typeof i&&(i=60),"undefined"==typeof n&&(n=0);var s=this.angleBetweenPoint(t,e);if(n>0){var o=this.distanceToPoint(t,e);i=o/(n/1e3)}t.velocity.x=Math.cos(s)*i,t.velocity.y=Math.sin(s)*i},e.prototype.accelerateTowardsPoint=function(t,e,i,n,s){var o=this.angleBetweenPoint(t,e);t.velocity.x=0,t.velocity.y=0,t.acceleration.x=Math.cos(o)*i,t.acceleration.y=Math.sin(o)*i,t.maxVelocity.x=n,t.maxVelocity.y=s},e.prototype.distanceBetween=function(t,e){var i=t.x+t.origin.x-(e.x+e.origin.x),n=t.y+t.origin.y-(e.y+e.origin.y);return this._game.math.vectorLength(i,n)},e.prototype.distanceToPoint=function(t,e){var i=t.x+t.origin.x-e.x,n=t.y+t.origin.y-e.y;return this._game.math.vectorLength(i,n)},e.prototype.distanceToMouse=function(t){var e=t.x+t.origin.x-this._game.input.x,i=t.y+t.origin.y-this._game.input.y;return this._game.math.vectorLength(e,i)},e.prototype.angleBetweenPoint=function(t,e,i){"undefined"==typeof i&&(i=!1);var n=e.x-(t.x+t.origin.x),s=e.y-(t.y+t.origin.y);return i?this._game.math.radiansToDegrees(Math.atan2(s,n)):Math.atan2(s,n)},e.prototype.angleBetween=function(t,e,i){"undefined"==typeof i&&(i=!1);var n=e.x+e.origin.x-(t.x+t.origin.x),s=e.y+e.origin.y-(t.y+t.origin.y);return i?this._game.math.radiansToDegrees(Math.atan2(s,n)):Math.atan2(s,n)},e.prototype.velocityFromFacing=function(e,i){var n;return e.facing==t.Collision.LEFT?n=this._game.math.degreesToRadians(180):e.facing==t.Collision.RIGHT?n=this._game.math.degreesToRadians(0):e.facing==t.Collision.UP?n=this._game.math.degreesToRadians(-90):e.facing==t.Collision.DOWN&&(n=this._game.math.degreesToRadians(90)),new t.Point(Math.cos(n)*i,Math.sin(n)*i)},e.prototype.angleBetweenMouse=function(t,e){"undefined"==typeof e&&(e=!1);var i=t.getScreenXY(),n=t._game.input.x-i.x,s=t._game.input.y-i.y;return e?this._game.math.radiansToDegrees(Math.atan2(s,n)):Math.atan2(s,n)},e}();t.Motion=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t,e,i,n,s){"undefined"==typeof n&&(n=1),"undefined"==typeof s&&(s=!1),this.loop=!1,this.isPlaying=!1,this.isDecoding=!1,this._context=t,this._gainNode=e,this._buffer=i,this._volume=n,this.loop=s,null!==this._context&&(this._localGainNode=this._context.createGainNode(),this._localGainNode.connect(this._gainNode),this._localGainNode.gain.value=this._volume),null===this._buffer?this.isDecoding=!0:this.play()}return t.prototype.setDecodedBuffer=function(t){this._buffer=t,this.isDecoding=!1,this.play()},t.prototype.play=function(){null!==this._buffer&&this.isDecoding!==!0&&(this._sound=this._context.createBufferSource(),this._sound.buffer=this._buffer,this._sound.connect(this._localGainNode),this.loop&&(this._sound.loop=!0),this._sound.noteOn(0),this.duration=this._sound.buffer.duration,this.isPlaying=!0)},t.prototype.stop=function(){this.isPlaying===!0&&(this.isPlaying=!1,this._sound.noteOff(0))},t.prototype.mute=function(){this._localGainNode.gain.value=0},t.prototype.unmute=function(){this._localGainNode.gain.value=this._volume},Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this._localGainNode.gain.value=this._volume},enumerable:!0,configurable:!0}),t}();t.Sound=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t){this._context=null,this._game=t,1==t.device.webaudio&&(window.AudioContext?this._context=new window.AudioContext:window.webkitAudioContext&&(this._context=new window.webkitAudioContext),null!==this._context&&(this._gainNode=this._context.createGainNode(),this._gainNode.connect(this._context.destination),this._volume=1))}return e.prototype.mute=function(){this._gainNode.gain.value=0},e.prototype.unmute=function(){this._gainNode.gain.value=this._volume},Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this._gainNode.gain.value=this._volume},enumerable:!0,configurable:!0}),e.prototype.decode=function(t,e,i){"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=null);var n=this._game.cache.getSound(t);if(n&&this._game.cache.isSoundDecoded(t)===!1){var s=this;this._context.decodeAudioData(n,function(n){s._game.cache.decodedSound(t,n),i&&i.setDecodedBuffer(n),e()})}},e.prototype.play=function(e,i,n){"undefined"==typeof i&&(i=1),"undefined"==typeof n&&(n=!1);var s=this;if(null!==this._context){var o=this._game.cache.getSound(e);if(o){if(this._game.cache.isSoundDecoded(e)===!0)return new t.Sound(this._context,this._gainNode,o,i,n);var h=new t.Sound(this._context,this._gainNode,null,i,n);return this.decode(e,function(){return s.play(e)},h),h}}},e}();t.SoundManager=e}(Phaser||(Phaser={}));var Phaser;!function(t){t.VERSION="Phaser version 0.9"}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t){var e=this;this._startHeight=0,this.width=0,this.height=0,this._game=t,this.orientation=window.orientation,window.addEventListener("orientationchange",function(t){return e.checkOrientation(t)},!1)}return t.EXACT_FIT=0,t.NO_SCALE=1,t.SHOW_ALL=2,t.prototype.update=function(){this._game.stage.scaleMode===t.NO_SCALE||window.innerWidth===this.width&&window.innerHeight===this.height||this.refresh()},Object.defineProperty(t.prototype,"isLandscape",{get:function(){return 90===window.orientation||-90===window.orientation},enumerable:!0,configurable:!0}),t.prototype.checkOrientation=function(){window.orientation!==this.orientation&&(this.refresh(),this.orientation=window.orientation)},t.prototype.refresh=function(){var t=this;0==this._game.device.iPad&&0==this._game.device.webApp&&0==this._game.device.desktop&&(document.documentElement.style.minHeight="5000px",this._startHeight=window.innerHeight,this._game.device.android&&0==this._game.device.chrome?window.scrollTo(0,1):window.scrollTo(0,0)),null==this._check&&(this._iterations=40,this._check=window.setInterval(function(){return t.setScreenSize()},10))},t.prototype.setScreenSize=function(){if(0==this._game.device.iPad&&0==this._game.device.webApp&&0==this._game.device.desktop&&(this._game.device.android&&0==this._game.device.chrome?window.scrollTo(0,1):window.scrollTo(0,0)),this._iterations--,window.innerHeight>this._startHeight||this._iterations<0){if(document.documentElement.style.minHeight=window.innerHeight+"px",this._game.stage.scaleMode==t.EXACT_FIT)this.width=this._game.stage.maxScaleX&&window.innerWidth>this._game.stage.maxScaleX?this._game.stage.maxScaleX:window.innerWidth,this.height=this._game.stage.maxScaleY&&window.innerHeight>this._game.stage.maxScaleY?this._game.stage.maxScaleY:window.innerHeight;else if(this._game.stage.scaleMode==t.SHOW_ALL){var e=Math.min(window.innerHeight/this._game.stage.height,window.innerWidth/this._game.stage.width);this.width=Math.round(this._game.stage.width*e),this.height=Math.round(this._game.stage.height*e),this._game.stage.maxScaleX&&this.width>this._game.stage.maxScaleX&&(this.width=this._game.stage.maxScaleX),this._game.stage.maxScaleY&&this.height>this._game.stage.maxScaleY&&(this.height=this._game.stage.maxScaleY)}this._game.stage.canvas.style.width=this.width+"px",this._game.stage.canvas.style.height=this.height+"px",this._game.input.scaleX=this._game.stage.width/this.width,this._game.input.scaleY=this._game.stage.height/this.height,clearInterval(this._check),this._check=null}},t}();t.StageScaleMode=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(e,i,n,s){var o=this;this.clear=!0,this.minScaleX=null,this.maxScaleX=null,this.minScaleY=null,this.maxScaleY=null,this._logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAO1JREFUeNpi/P//PwM6YGRkxBQEAqBaRnQxFmwa10d6MAjrMqMofHv5L1we2SBGmAtAktg0ogOQQYHLd8ANYYFpPtTmzUAMAFmwnsEDrAdkCAvMZlIAsiFMMAEYsKvaSrQhIMCELkGsV2AAbIC8gCQYgwKIUABiNYBf9yoYH7n7n6CzN274g2IYEyFbsNmKLIaSkHpP7WSwUfbA0ASzFQRslBlxp0RcAF0TRhggA3zhAJIDpUKU5A9KyshpHDkjFZu5g2nJMFcwXVJSgqIGnBKx5bKenh4w/XzVbgbPtlIUcVgSxuoCUgHIIIAAAwArtXwJBABO6QAAAABJRU5ErkJggg==",this._game=e,this.canvas=document.createElement("canvas"),this.canvas.width=n,this.canvas.height=s,document.getElementById(i)?(document.getElementById(i).appendChild(this.canvas),document.getElementById(i).style.overflow="hidden"):document.body.appendChild(this.canvas),this.canvas.style.msTouchAction="none",this.canvas.style["touch-action"]="none",this.context=this.canvas.getContext("2d"),this.offset=this.getOffset(this.canvas),this.bounds=new t.Rectangle(this.offset.x,this.offset.y,n,s),this.aspectRatio=n/s,this.scaleMode=t.StageScaleMode.NO_SCALE,this.scale=new t.StageScaleMode(this._game),window.onblur=function(t){return o.visibilityChange(t)},window.onfocus=function(t){return o.visibilityChange(t)}}return e.ORIENTATION_LANDSCAPE=0,e.ORIENTATION_PORTRAIT=1,e.prototype.update=function(){this.scale.update(),this.clear&&this.context.clearRect(0,0,this.width,this.height)},e.prototype.renderDebugInfo=function(){this.context.fillStyle="rgb(255,255,255)",this.context.fillText(t.VERSION,10,20),this.context.fillText("Game Size: "+this.width+" x "+this.height,10,40),this.context.fillText("x: "+this.x+" y: "+this.y,10,60)},e.prototype.visibilityChange=function(t){"blur"==t.type&&0==this._game.paused&&1==this._game.isBooted?(this._game.paused=!0,this.drawPauseScreen()):"focus"==t.type&&(this._game.paused=!1)},e.prototype.drawInitScreen=function(){this.context.fillStyle="rgb(40, 40, 40)",this.context.fillRect(0,0,this.width,this.height),this.context.fillStyle="rgb(255,255,255)",this.context.font="bold 18px Arial",this.context.textBaseline="top",this.context.fillText(t.VERSION,54,32),this.context.fillText("Game Size: "+this.width+" x "+this.height,32,64),this.context.fillText("www.photonstorm.com",32,96),this.context.font="16px Arial",this.context.fillText("You are seeing this screen because you didn't specify any default",32,160),this.context.fillText("functions in the Game constructor, or use Game.loadState()",32,184);
var e=new Image,i=this;e.onload=function(){i.context.drawImage(e,32,32)},e.src=this._logo},e.prototype.drawPauseScreen=function(){this.saveCanvasValues(),this.context.fillStyle="rgba(0, 0, 0, 0.4)",this.context.fillRect(0,0,this.width,this.height);var t=Math.round(this.width/2),e=Math.round(this.height/2),i=this.centerX-t/2,n=this.centerY-e/2;this.context.beginPath(),this.context.moveTo(i,n),this.context.lineTo(i,n+e),this.context.lineTo(i+t,this.centerY),this.context.fillStyle="rgba(255, 255, 255, 0.8)",this.context.fill(),this.context.closePath(),this.restoreCanvasValues()},e.prototype.getOffset=function(e){var i=e.getBoundingClientRect(),n=e.clientTop||document.body.clientTop||0,s=e.clientLeft||document.body.clientLeft||0,o=window.pageYOffset||e.scrollTop||document.body.scrollTop,h=window.pageXOffset||e.scrollLeft||document.body.scrollLeft;return new t.Point(i.left+h-s,i.top+o-n)},e.prototype.saveCanvasValues=function(){this.strokeStyle=this.context.strokeStyle,this.lineWidth=this.context.lineWidth,this.fillStyle=this.context.fillStyle},e.prototype.restoreCanvasValues=function(){this.context.strokeStyle=this.strokeStyle,this.context.lineWidth=this.lineWidth,this.context.fillStyle=this.fillStyle},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._bgColor},set:function(t){this.canvas.style.backgroundColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.bounds.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.bounds.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.bounds.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bounds.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerX",{get:function(){return this.bounds.halfWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this.bounds.halfHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"randomX",{get:function(){return Math.round(Math.random()*this.bounds.width)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"randomY",{get:function(){return Math.round(Math.random()*this.bounds.height)},enumerable:!0,configurable:!0}),e}();t.Stage=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(){this.timeScale=1,this.elapsed=0,this.time=0,this.now=0,this.delta=0,this.fps=0,this.fpsMin=1e3,this.fpsMax=0,this.msMin=1e3,this.msMax=0,this.frames=0,this._timeLastSecond=0,this._started=Date.now(),this._timeLastSecond=this._started,this.time=this._started}return Object.defineProperty(t.prototype,"totalElapsedSeconds",{get:function(){return.001*(this.now-this._started)},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.now=Date.now(),this.delta=this.now-this.time,this.msMin=Math.min(this.msMin,this.delta),this.msMax=Math.max(this.msMax,this.delta),this.frames++,this.now>this._timeLastSecond+1e3&&(this.fps=Math.round(1e3*this.frames/(this.now-this._timeLastSecond)),this.fpsMin=Math.min(this.fpsMin,this.fps),this.fpsMax=Math.max(this.fpsMax,this.fps),this._timeLastSecond=this.now,this.frames=0),this.time=this.now},t.prototype.elapsedSince=function(t){return this.now-t},t.prototype.elapsedSecondsSince=function(t){return.001*(this.now-t)},t.prototype.reset=function(){this._started=this.now},t}();t.Time=e}(Phaser||(Phaser={}));var Phaser;!function(t){!function(t){var e=function(){function t(){}return t.In=function(t){var e=1.70158;return t*t*((e+1)*t-e)},t.Out=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},t.InOut=function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)},t}();t.Back=e}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){!function(e){var i=function(){function e(){}return e.In=function(e){return 1-t.Easing.Bounce.Out(1-e)},e.Out=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.InOut=function(e){return.5>e?.5*t.Easing.Bounce.In(2*e):.5*t.Easing.Bounce.Out(2*e-1)+.5},e}();e.Bounce=i}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){!function(t){var e=function(){function t(){}return t.In=function(t){return 1-Math.sqrt(1-t*t)},t.Out=function(t){return Math.sqrt(1- --t*t)},t.InOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t}();t.Circular=e}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){!function(t){var e=function(){function t(){}return t.In=function(t){return t*t*t},t.Out=function(t){return--t*t*t+1},t.InOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},t}();t.Cubic=e}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){!function(t){var e=function(){function t(){}return t.In=function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n)))},t.Out=function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/n)+1)},t.InOut=function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n):i*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n)*.5+1)},t}();t.Elastic=e}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){!function(t){var e=function(){function t(){}return t.In=function(t){return 0===t?0:Math.pow(1024,t-1)},t.Out=function(t){return 1===t?1:1-Math.pow(2,-10*t)},t.InOut=function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},t}();t.Exponential=e}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){!function(t){var e=function(){function t(){}return t.None=function(t){return t},t}();t.Linear=e}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){!function(t){var e=function(){function t(){}return t.In=function(t){return t*t},t.Out=function(t){return t*(2-t)},t.InOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},t}();t.Quadratic=e}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){!function(t){var e=function(){function t(){}return t.In=function(t){return t*t*t*t},t.Out=function(t){return 1- --t*t*t*t},t.InOut=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},t}();t.Quartic=e}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){!function(t){var e=function(){function t(){}return t.In=function(t){return t*t*t*t*t},t.Out=function(t){return--t*t*t*t*t+1},t.InOut=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},t}();t.Quintic=e}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){!function(t){var e=function(){function t(){}return t.In=function(t){return 1-Math.cos(t*Math.PI/2)},t.Out=function(t){return Math.sin(t*Math.PI/2)},t.InOut=function(t){return.5*(1-Math.cos(Math.PI*t))},t}();t.Sinusoidal=e}(t.Easing||(t.Easing={}));t.Easing}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(e,i){this._object=null,this._pausedTime=0,this._valuesStart={},this._valuesEnd={},this._duration=1e3,this._delayTime=0,this._startTime=null,this._chainedTweens=[],this._object=e,this._game=i,this._manager=this._game.tweens,this._interpolationFunction=this._game.math.linearInterpolation,this._easingFunction=t.Easing.Linear.None,this.onStart=new t.Signal,this.onUpdate=new t.Signal,this.onComplete=new t.Signal}return e.prototype.to=function(t,e,i,n){return"undefined"==typeof e&&(e=1e3),"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=!1),this._duration=e,this._valuesEnd=t,null!==i&&(this._easingFunction=i),n===!0?this.start():this},e.prototype.start=function(){if(null!==this._game&&null!==this._object){this._manager.add(this),this.onStart.dispatch(this._object),this._startTime=this._game.time.now+this._delayTime;for(var t in this._valuesEnd){if(null===this._object[t]||!(t in this._object))throw Error("Phaser.Tween interpolation of null value of non-existing property");if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}this._valuesStart[t]=this._object[t]}return this}},e.prototype.stop=function(){return null!==this._manager&&this._manager.remove(this),this},Object.defineProperty(e.prototype,"parent",{set:function(t){this._game=t,this._manager=this._game.tweens},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._delayTime},set:function(t){this._delayTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"easing",{get:function(){return this._easingFunction},set:function(t){this._easingFunction=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interpolation",{get:function(){return this._interpolationFunction},set:function(t){this._interpolationFunction=t},enumerable:!0,configurable:!0}),e.prototype.chain=function(t){return this._chainedTweens.push(t),this},e.prototype.update=function(t){if(1==this._game.paused?0==this._pausedTime&&(this._pausedTime=t):this._pausedTime>0&&(this._startTime+=t-this._pausedTime,this._pausedTime=0),t<this._startTime)return!0;var e=(t-this._startTime)/this._duration;e=e>1?1:e;var i=this._easingFunction(e);for(var n in this._valuesStart)this._object[n]=this._valuesEnd[n]instanceof Array?this._interpolationFunction(this._valuesEnd[n],i):this._valuesStart[n]+(this._valuesEnd[n]-this._valuesStart[n])*i;if(this.onUpdate.dispatch(this._object,i),1==e){this.onComplete.dispatch(this._object);for(var s=0;s<this._chainedTweens.length;s++)this._chainedTweens[s].start();return!1}return!0},e}();t.Tween=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t){this._game=t,this._tweens=[]}return e.prototype.getAll=function(){return this._tweens},e.prototype.removeAll=function(){this._tweens.length=0},e.prototype.create=function(e){return new t.Tween(e,this._game)},e.prototype.add=function(t){return t.parent=this._game,this._tweens.push(t),t},e.prototype.remove=function(t){var e=this._tweens.indexOf(t);-1!==e&&this._tweens.splice(e,1)},e.prototype.update=function(){if(0===this._tweens.length)return!1;for(var t=0,e=this._tweens.length;e>t;)this._tweens[t].update(this._game.time.now)?t++:(this._tweens.splice(t,1),e--);return!0},e}();t.TweenManager=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(e,i,n){this._game=e,this._cameras=new t.CameraManager(this._game,0,0,i,n),this._game.camera=this._cameras.current,this.group=new t.Group(this._game,0),this.bounds=new t.Rectangle(0,0,i,n),this.worldDivisions=6}return e.prototype.update=function(){this.group.preUpdate(),this.group.update(),this.group.postUpdate(),this._cameras.update()},e.prototype.render=function(){this._cameras.render()},e.prototype.destroy=function(){this.group.destroy(),this._cameras.destroy()},e.prototype.setSize=function(t,e,i){"undefined"==typeof i&&(i=!0),this.bounds.width=t,this.bounds.height=e,1==i&&this._game.camera.setBounds(0,0,t,e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.bounds.width},set:function(t){this.bounds.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bounds.height},set:function(t){this.bounds.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerX",{get:function(){return this.bounds.halfWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this.bounds.halfHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"randomX",{get:function(){return Math.round(Math.random()*this.bounds.width)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"randomY",{get:function(){return Math.round(Math.random()*this.bounds.height)},enumerable:!0,configurable:!0}),e.prototype.addExistingCamera=function(t){return t},e.prototype.createCamera=function(t,e,i,n){return this._cameras.addCamera(t,e,i,n)},e.prototype.removeCamera=function(t){return this._cameras.removeCamera(t)},e.prototype.getAllCameras=function(){return this._cameras.getAll()},e.prototype.addExistingSprite=function(t){return this.group.add(t)},e.prototype.createSprite=function(e,i,n){return"undefined"==typeof n&&(n=""),this.group.add(new t.Sprite(this._game,e,i,n))},e.prototype.createGeomSprite=function(e,i){return this.group.add(new t.GeomSprite(this._game,e,i))},e.prototype.createDynamicTexture=function(e,i,n){return new t.DynamicTexture(this._game,e,i,n)},e.prototype.createGroup=function(e){return"undefined"==typeof e&&(e=0),this.group.add(new t.Group(this._game,e))},e.prototype.createTilemap=function(e,i,n,s,o){return this.group.add(new t.Tilemap(this._game,e,i,n,s,o))},e.prototype.createParticle=function(){return new t.Particle(this._game)},e.prototype.createEmitter=function(e,i,n){return"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),"undefined"==typeof n&&(n=0),this.group.add(new t.Emitter(this._game,e,i,n))},e}();t.World=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(){this.desktop=!1,this.iOS=!1,this.android=!1,this.chromeOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.canvas=!1,this.file=!1,this.fileSystem=!1,this.localStorage=!1,this.webGL=!1,this.worker=!1,this.touch=!1,this.css3D=!1,this.arora=!1,this.chrome=!1,this.epiphany=!1,this.firefox=!1,this.ie=!1,this.ieVersion=0,this.mobileSafari=!1,this.midori=!1,this.opera=!1,this.safari=!1,this.webApp=!1,this.audioData=!1,this.webaudio=!1,this.ogg=!1,this.mp3=!1,this.wav=!1,this.m4a=!1,this.iPhone=!1,this.iPhone4=!1,this.iPad=!1,this.pixelRatio=0,this._checkAudio(),this._checkBrowser(),this._checkCSS3D(),this._checkDevice(),this._checkFeatures(),this._checkOS()}return t.prototype._checkOS=function(){var t=navigator.userAgent;/Android/.test(t)?this.android=!0:/CrOS/.test(t)?this.chromeOS=!0:/iP[ao]d|iPhone/i.test(t)?this.iOS=!0:/Linux/.test(t)?this.linux=!0:/Mac OS/.test(t)?this.macOS=!0:/Windows/.test(t)&&(this.windows=!0),(this.windows||this.macOS||this.linux)&&(this.desktop=!0)},t.prototype._checkFeatures=function(){this.canvas=!!window.CanvasRenderingContext2D;try{this.localStorage=!!localStorage.getItem}catch(t){this.localStorage=!1}this.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),this.fileSystem=!!window.requestFileSystem,this.webGL=!!window.WebGLRenderingContext,this.worker=!!window.Worker,("ontouchstart"in document.documentElement||window.navigator.msPointerEnabled)&&(this.touch=!0)},t.prototype._checkBrowser=function(){var t=navigator.userAgent;/Arora/.test(t)?this.arora=!0:/Chrome/.test(t)?this.chrome=!0:/Epiphany/.test(t)?this.epiphany=!0:/Firefox/.test(t)?this.firefox=!0:/Mobile Safari/.test(t)?this.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)?(this.ie=!0,this.ieVersion=parseInt(RegExp.$1)):/Midori/.test(t)?this.midori=!0:/Opera/.test(t)?this.opera=!0:/Safari/.test(t)&&(this.safari=!0),navigator.standalone&&(this.webApp=!0)},t.prototype._checkAudio=function(){this.audioData=!!window.Audio,this.webaudio=!(!window.webkitAudioContext&&!window.AudioContext);var t=document.createElement("audio"),e=!1;try{(e=!!t.canPlayType)&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(this.ogg=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(this.mp3=!0),t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(this.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(this.m4a=!0))}catch(i){}},t.prototype._checkDevice=function(){this.pixelRatio=window.devicePixelRatio||1,this.iPhone=-1!=navigator.userAgent.toLowerCase().indexOf("iphone"),this.iPhone4=2==this.pixelRatio&&this.iPhone,this.iPad=-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},t.prototype._checkCSS3D=function(){var t,e=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(e,null);for(var n in i)void 0!==e.style[n]&&(e.style[n]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(i[n]));document.body.removeChild(e),this.css3D=void 0!==t&&t.length>0&&"none"!==t},t.prototype.getAll=function(){var t="";return t=t.concat("Device\n"),t=t.concat("iPhone : "+this.iPhone+"\n"),t=t.concat("iPhone4 : "+this.iPhone4+"\n"),t=t.concat("iPad : "+this.iPad+"\n"),t=t.concat("\n"),t=t.concat("Operating System\n"),t=t.concat("iOS: "+this.iOS+"\n"),t=t.concat("Android: "+this.android+"\n"),t=t.concat("ChromeOS: "+this.chromeOS+"\n"),t=t.concat("Linux: "+this.linux+"\n"),t=t.concat("MacOS: "+this.macOS+"\n"),t=t.concat("Windows: "+this.windows+"\n"),t=t.concat("\n"),t=t.concat("Browser\n"),t=t.concat("Arora: "+this.arora+"\n"),t=t.concat("Chrome: "+this.chrome+"\n"),t=t.concat("Epiphany: "+this.epiphany+"\n"),t=t.concat("Firefox: "+this.firefox+"\n"),t=t.concat("Internet Explorer: "+this.ie+" ("+this.ieVersion+")\n"),t=t.concat("Mobile Safari: "+this.mobileSafari+"\n"),t=t.concat("Midori: "+this.midori+"\n"),t=t.concat("Opera: "+this.opera+"\n"),t=t.concat("Safari: "+this.safari+"\n"),t=t.concat("\n"),t=t.concat("Features\n"),t=t.concat("Canvas: "+this.canvas+"\n"),t=t.concat("File: "+this.file+"\n"),t=t.concat("FileSystem: "+this.fileSystem+"\n"),t=t.concat("LocalStorage: "+this.localStorage+"\n"),t=t.concat("WebGL: "+this.webGL+"\n"),t=t.concat("Worker: "+this.worker+"\n"),t=t.concat("Touch: "+this.touch+"\n"),t=t.concat("CSS 3D: "+this.css3D+"\n"),t=t.concat("\n"),t=t.concat("Audio\n"),t=t.concat("Audio Data: "+this.canvas+"\n"),t=t.concat("Web Audio: "+this.canvas+"\n"),t=t.concat("Can play OGG: "+this.canvas+"\n"),t=t.concat("Can play MP3: "+this.canvas+"\n"),t=t.concat("Can play M4A: "+this.canvas+"\n"),t=t.concat("Can play WAV: "+this.canvas+"\n")},t}();t.Device=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t){"undefined"==typeof t&&(t=[]),this.c=1,this.sow(t)}return t.prototype.uint32=function(){return 4294967296*this.rnd.apply(this)},t.prototype.fract32=function(){return this.rnd.apply(this)+1.1102230246251565e-16*(2097152*this.rnd.apply(this)|0)},t.prototype.rnd=function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},t.prototype.hash=function(t){var e,i,n;for(n=4022871197,t=t.toString(),i=0;i<t.length;i++)n+=t.charCodeAt(i),e=.02519603282416938*n,n=e>>>0,e-=n,e*=n,n=e>>>0,e-=n,n+=4294967296*e;return 2.3283064365386963e-10*(n>>>0)},t.prototype.sow=function(t){"undefined"==typeof t&&(t=[]),this.s0=this.hash(" "),this.s1=this.hash(this.s0),this.s2=this.hash(this.s1);for(var e,i=0;e=t[i++];)this.s0-=this.hash(e),this.s0+=~~(this.s0<0),this.s1-=this.hash(e),this.s1+=~~(this.s1<0),this.s2-=this.hash(e),this.s2+=~~(this.s2<0)},Object.defineProperty(t.prototype,"integer",{get:function(){return this.uint32()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frac",{get:function(){return this.fract32()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"real",{get:function(){return this.uint32()+this.fract32()},enumerable:!0,configurable:!0}),t.prototype.integerInRange=function(t,e){return Math.floor(this.realInRange(t,e))},t.prototype.realInRange=function(t,e){return t=t||0,e=e||0,this.frac*(e-t)+t},Object.defineProperty(t.prototype,"normal",{get:function(){return 1-2*this.frac},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){var t,e;for(e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac*(20^t?16:4):4).toString(16):"-");return e},enumerable:!0,configurable:!0}),t.prototype.pick=function(t){return t[this.integerInRange(0,t.length)]},t.prototype.weightedPick=function(t){return t[~~(Math.pow(this.frac,2)*t.length)]},t.prototype.timestamp=function(t,e){return"undefined"==typeof t&&(t=9466848e5),"undefined"==typeof e&&(e=1577862e6),this.realInRange(t,e)},Object.defineProperty(t.prototype,"angle",{get:function(){return this.integerInRange(-180,180)},enumerable:!0,configurable:!0}),t}();t.RandomDataGenerator=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t,e){this._isSetTimeOut=!1,this.lastTime=0,this.currentTime=0,this.isRunning=!1,this._callback=t,this._callbackContext=e;for(var i=["ms","moz","webkit","o"],n=0;n<i.length&&!window.requestAnimationFrame;n++)window.requestAnimationFrame=window[i[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[n]+"CancelAnimationFrame"];this.start()}return t.prototype.setCallback=function(t){this._callback=t},t.prototype.isUsingSetTimeOut=function(){return this._isSetTimeOut},t.prototype.isUsingRAF=function(){return this._isSetTimeOut===!0?!1:!0},t.prototype.start=function(t){"undefined"==typeof t&&(t=null);var e=this;t&&(this._callback=t),window.requestAnimationFrame?(this._isSetTimeOut=!1,window.requestAnimationFrame(function(){return e.RAFUpdate()})):(this._isSetTimeOut=!0,this._timeOutID=window.setTimeout(function(){return e.SetTimeoutUpdate()},0)),this.isRunning=!0},t.prototype.stop=function(){this._isSetTimeOut?clearTimeout(this._timeOutID):window.cancelAnimationFrame,this.isRunning=!1},t.prototype.RAFUpdate=function(){var t=this;this.currentTime=Date.now(),this._callback&&this._callback.call(this._callbackContext);var e=Math.max(0,16-(this.currentTime-this.lastTime));window.requestAnimationFrame(function(){return t.RAFUpdate()}),this.lastTime=this.currentTime+e},t.prototype.SetTimeoutUpdate=function(){var t=this;this.currentTime=Date.now(),this._callback&&this._callback.call(this._callbackContext);var e=Math.max(0,16-(this.currentTime-this.lastTime));this._timeOutID=window.setTimeout(function(){return t.SetTimeoutUpdate()},e),this.lastTime=this.currentTime+e},t}();t.RequestAnimationFrame=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(e){this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.worldX=0,this.worldY=0,this._game=e,this.mouse=new t.Mouse(this._game),this.keyboard=new t.Keyboard(this._game),this.touch=new t.Touch(this._game),this.onDown=new t.Signal,this.onUp=new t.Signal}return e.prototype.update=function(){this.x=Math.round(this.x),this.y=Math.round(this.y),this.worldX=this._game.camera.worldView.x+this.x,this.worldY=this._game.camera.worldView.y+this.y,this.mouse.update(),this.touch.update()},e.prototype.reset=function(){this.mouse.reset(),this.keyboard.reset(),this.touch.reset()},e.prototype.getWorldX=function(t){return"undefined"==typeof t&&(t=this._game.camera),t.worldView.x+this.x},e.prototype.getWorldY=function(t){return"undefined"==typeof t&&(t=this._game.camera),t.worldView.y+this.y},e.prototype.renderDebugInfo=function(t,e,i){"undefined"==typeof i&&(i="rgb(255,255,255)"),this._game.stage.context.fillStyle=i,this._game.stage.context.fillText("Input",t,e),this._game.stage.context.fillText("Screen X: "+this.x+" Screen Y: "+this.y,t,e+14),this._game.stage.context.fillText("World X: "+this.worldX+" World Y: "+this.worldY,t,e+28),this._game.stage.context.fillText("Scale X: "+this.scaleX.toFixed(1)+" Scale Y: "+this.scaleY.toFixed(1),t,e+42)},e}();t.Input=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t){this._keys={},this._capture={},this._game=t,this.start()}return t.prototype.start=function(){var t=this;document.body.addEventListener("keydown",function(e){return t.onKeyDown(e)},!1),document.body.addEventListener("keyup",function(e){return t.onKeyUp(e)},!1)},t.prototype.addKeyCapture=function(t){this._capture[t]=!0},t.prototype.removeKeyCapture=function(t){delete this._capture[t]},t.prototype.clearCaptures=function(){this._capture={}},t.prototype.onKeyDown=function(t){this._capture[t.keyCode]&&t.preventDefault(),this._keys[t.keyCode]?(this._keys[t.keyCode].isDown=!0,this._keys[t.keyCode].timeDown=this._game.time.now):this._keys[t.keyCode]={isDown:!0,timeDown:this._game.time.now,timeUp:0}},t.prototype.onKeyUp=function(t){this._capture[t.keyCode]&&t.preventDefault(),this._keys[t.keyCode]?(this._keys[t.keyCode].isDown=!1,this._keys[t.keyCode].timeUp=this._game.time.now):this._keys[t.keyCode]={isDown:!1,timeDown:0,timeUp:this._game.time.now}},t.prototype.reset=function(){for(var t in this._keys)this._keys[t].isDown=!1},t.prototype.justPressed=function(t,e){return"undefined"==typeof e&&(e=250),this._keys[t]&&this._keys[t].isDown===!0&&this._game.time.now-this._keys[t].timeDown<e?!0:!1},t.prototype.justReleased=function(t,e){return"undefined"==typeof e&&(e=250),this._keys[t]&&this._keys[t].isDown===!1&&this._game.time.now-this._keys[t].timeUp<e?!0:!1},t.prototype.isDown=function(t){return this._keys[t]?this._keys[t].isDown:!1},t.A="A".charCodeAt(0),t.B="B".charCodeAt(0),t.C="C".charCodeAt(0),t.D="D".charCodeAt(0),t.E="E".charCodeAt(0),t.F="F".charCodeAt(0),t.G="G".charCodeAt(0),t.H="H".charCodeAt(0),t.I="I".charCodeAt(0),t.J="J".charCodeAt(0),t.K="K".charCodeAt(0),t.L="L".charCodeAt(0),t.M="M".charCodeAt(0),t.N="N".charCodeAt(0),t.O="O".charCodeAt(0),t.P="P".charCodeAt(0),t.Q="Q".charCodeAt(0),t.R="R".charCodeAt(0),t.S="S".charCodeAt(0),t.T="T".charCodeAt(0),t.U="U".charCodeAt(0),t.V="V".charCodeAt(0),t.W="W".charCodeAt(0),t.X="X".charCodeAt(0),t.Y="Y".charCodeAt(0),t.Z="Z".charCodeAt(0),t.ZERO="0".charCodeAt(0),t.ONE="1".charCodeAt(0),t.TWO="2".charCodeAt(0),t.THREE="3".charCodeAt(0),t.FOUR="4".charCodeAt(0),t.FIVE="5".charCodeAt(0),t.SIX="6".charCodeAt(0),t.SEVEN="7".charCodeAt(0),t.EIGHT="8".charCodeAt(0),t.NINE="9".charCodeAt(0),t.NUMPAD_0=96,t.NUMPAD_1=97,t.NUMPAD_2=98,t.NUMPAD_3=99,t.NUMPAD_4=100,t.NUMPAD_5=101,t.NUMPAD_6=102,t.NUMPAD_7=103,t.NUMPAD_8=104,t.NUMPAD_9=105,t.NUMPAD_MULTIPLY=106,t.NUMPAD_ADD=107,t.NUMPAD_ENTER=108,t.NUMPAD_SUBTRACT=109,t.NUMPAD_DECIMAL=110,t.NUMPAD_DIVIDE=111,t.F1=112,t.F2=113,t.F3=114,t.F4=115,t.F5=116,t.F6=117,t.F7=118,t.F8=119,t.F9=120,t.F10=121,t.F11=122,t.F12=123,t.F13=124,t.F14=125,t.F15=126,t.COLON=186,t.EQUALS=187,t.UNDERSCORE=189,t.QUESTION_MARK=191,t.TILDE=192,t.OPEN_BRACKET=219,t.BACKWARD_SLASH=220,t.CLOSED_BRACKET=221,t.QUOTES=222,t.BACKSPACE=8,t.TAB=9,t.CLEAR=12,t.ENTER=13,t.SHIFT=16,t.CONTROL=17,t.ALT=18,t.CAPS_LOCK=20,t.ESC=27,t.SPACEBAR=32,t.PAGE_UP=33,t.PAGE_DOWN=34,t.END=35,t.HOME=36,t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.INSERT=45,t.DELETE=46,t.HELP=47,t.NUM_LOCK=144,t}();t.Keyboard=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t){this._x=0,this._y=0,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.duration=0,this.timeUp=0,this._game=t,this.start()}return t.LEFT_BUTTON=0,t.MIDDLE_BUTTON=1,t.RIGHT_BUTTON=2,t.prototype.start=function(){var t=this;this._game.stage.canvas.addEventListener("mousedown",function(e){return t.onMouseDown(e)},!0),this._game.stage.canvas.addEventListener("mousemove",function(e){return t.onMouseMove(e)},!0),this._game.stage.canvas.addEventListener("mouseup",function(e){return t.onMouseUp(e)},!0)},t.prototype.reset=function(){this.isDown=!1,this.isUp=!0},t.prototype.onMouseDown=function(t){this.button=t.button,this._x=t.clientX-this._game.stage.x,this._y=t.clientY-this._game.stage.y,this._game.input.x=this._x*this._game.input.scaleX,this._game.input.y=this._y*this._game.input.scaleY,this.isDown=!0,this.isUp=!1,this.timeDown=this._game.time.now,this._game.input.onDown.dispatch(this._game.input.x,this._game.input.y,this.timeDown)},t.prototype.update=function(){this.isDown&&(this.duration=this._game.time.now-this.timeDown)},t.prototype.onMouseMove=function(t){this.button=t.button,this._x=t.clientX-this._game.stage.x,this._y=t.clientY-this._game.stage.y,this._game.input.x=this._x*this._game.input.scaleX,this._game.input.y=this._y*this._game.input.scaleY},t.prototype.onMouseUp=function(t){this.button=t.button,this.isDown=!1,this.isUp=!0,this.timeUp=this._game.time.now,this.duration=this.timeUp-this.timeDown,this._x=t.clientX-this._game.stage.x,this._y=t.clientY-this._game.stage.y,this._game.input.x=this._x*this._game.input.scaleX,this._game.input.y=this._y*this._game.input.scaleY,this._game.input.onUp.dispatch(this._game.input.x,this._game.input.y,this.timeDown)},t}();t.Mouse=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t){this.point=null,this.circle=null,this.withinGame=!1,this.clientX=-1,this.clientY=-1,this.pageX=-1,this.pageY=-1,this.screenX=-1,this.screenY=-1,this.x=-1,this.y=-1,this.isDown=!1,this.isUp=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.justPressedRate=200,this.justReleasedRate=200,this._game=t,this.active=!1}return e.prototype.start=function(e){this.identifier=e.identifier,this.target=e.target,null===this.point&&(this.point=new t.Point),null===this.circle&&(this.circle=new t.Circle(0,0,44)),this.move(e),this.active=!0,this.withinGame=!0,this.isDown=!0,this.isUp=!1,this.timeDown=this._game.time.now},e.prototype.move=function(t){this.clientX=t.clientX,this.clientY=t.clientY,this.pageX=t.pageX,this.pageY=t.pageY,this.screenX=t.screenX,this.screenY=t.screenY,this.x=this.pageX-this._game.stage.offset.x,this.y=this.pageY-this._game.stage.offset.y,this.point.setTo(this.x,this.y),this.circle.setTo(this.x,this.y,44),this.duration=this._game.time.now-this.timeDown},e.prototype.leave=function(t){this.withinGame=!1,this.move(t)},e.prototype.stop=function(){this.active=!1,this.withinGame=!1,this.isDown=!1,this.isUp=!0,this.timeUp=this._game.time.now,this.duration=this.timeUp-this.timeDown},e.prototype.justPressed=function(t){return"undefined"==typeof t&&(t=this.justPressedRate),this.isDown===!0&&this.timeDown+t>this._game.time.now?!0:!1},e.prototype.justReleased=function(t){return"undefined"==typeof t&&(t=this.justReleasedRate),this.isUp===!0&&this.timeUp+t>this._game.time.now?!0:!1},e.prototype.toString=function(){return"[{Finger (identifer="+this.identifier+" active="+this.active+" duration="+this.duration+" withinGame="+this.withinGame+" x="+this.x+" y="+this.y+" clientX="+this.clientX+" clientY="+this.clientY+" screenX="+this.screenX+" screenY="+this.screenY+" pageX="+this.pageX+" pageY="+this.pageY+")}]"},e}();t.Finger=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(e){this.x=0,this.y=0,this.isDown=!1,this.isUp=!0,this._game=e,this.finger1=new t.Finger(this._game),this.finger2=new t.Finger(this._game),this.finger3=new t.Finger(this._game),this.finger4=new t.Finger(this._game),this.finger5=new t.Finger(this._game),this.finger6=new t.Finger(this._game),this.finger7=new t.Finger(this._game),this.finger8=new t.Finger(this._game),this.finger9=new t.Finger(this._game),this.finger10=new t.Finger(this._game),this._fingers=[this.finger1,this.finger2,this.finger3,this.finger4,this.finger5,this.finger6,this.finger7,this.finger8,this.finger9,this.finger10],this.touchDown=new t.Signal,this.touchUp=new t.Signal,this.start()}return e.prototype.start=function(){var t=this;this._game.stage.canvas.addEventListener("touchstart",function(e){return t.onTouchStart(e)},!1),this._game.stage.canvas.addEventListener("touchmove",function(e){return t.onTouchMove(e)},!1),this._game.stage.canvas.addEventListener("touchend",function(e){return t.onTouchEnd(e)},!1),this._game.stage.canvas.addEventListener("touchenter",function(e){return t.onTouchEnter(e)},!1),this._game.stage.canvas.addEventListener("touchleave",function(e){return t.onTouchLeave(e)},!1),this._game.stage.canvas.addEventListener("touchcancel",function(e){return t.onTouchCancel(e)},!1),document.addEventListener("touchmove",function(e){return t.consumeTouchMove(e)},!1)},e.prototype.consumeTouchMove=function(t){t.preventDefault()},e.prototype.onTouchStart=function(t){t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)for(var i=0;i<this._fingers.length;i++)if(this._fingers[i].active===!1){this._fingers[i].start(t.changedTouches[e]),this.x=this._fingers[i].x,this.y=this._fingers[i].y,this._game.input.x=this.x*this._game.input.scaleX,this._game.input.y=this.y*this._game.input.scaleY,this.touchDown.dispatch(this._fingers[i].x,this._fingers[i].y,this._fingers[i].timeDown,this._fingers[i].timeUp,this._fingers[i].duration),this._game.input.onDown.dispatch(this._game.input.x,this._game.input.y,this._fingers[i].timeDown),this.isDown=!0,this.isUp=!1;
break}},e.prototype.onTouchCancel=function(t){t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)for(var i=0;i<this._fingers.length;i++)if(this._fingers[i].identifier===t.changedTouches[e].identifier){this._fingers[i].stop(t.changedTouches[e]);break}},e.prototype.onTouchEnter=function(t){t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)for(var i=0;i<this._fingers.length;i++)if(this._fingers[i].active===!1){this._fingers[i].start(t.changedTouches[e]);break}},e.prototype.onTouchLeave=function(t){t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)for(var i=0;i<this._fingers.length;i++)if(this._fingers[i].identifier===t.changedTouches[e].identifier){this._fingers[i].leave(t.changedTouches[e]);break}},e.prototype.onTouchMove=function(t){t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)for(var i=0;i<this._fingers.length;i++)if(this._fingers[i].identifier===t.changedTouches[e].identifier){this._fingers[i].move(t.changedTouches[e]),this.x=this._fingers[i].x,this.y=this._fingers[i].y,this._game.input.x=this.x*this._game.input.scaleX,this._game.input.y=this.y*this._game.input.scaleY;break}},e.prototype.onTouchEnd=function(t){t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)for(var i=0;i<this._fingers.length;i++)if(this._fingers[i].identifier===t.changedTouches[e].identifier){this._fingers[i].stop(t.changedTouches[e]),this.x=this._fingers[i].x,this.y=this._fingers[i].y,this._game.input.x=this.x*this._game.input.scaleX,this._game.input.y=this.y*this._game.input.scaleY,this.touchUp.dispatch(this._fingers[i].x,this._fingers[i].y,this._fingers[i].timeDown,this._fingers[i].timeUp,this._fingers[i].duration),this._game.input.onUp.dispatch(this._game.input.x,this._game.input.y,this._fingers[i].timeUp),this.isDown=!1,this.isUp=!0;break}},e.prototype.calculateDistance=function(){},e.prototype.calculateAngle=function(){},e.prototype.checkOverlap=function(){},e.prototype.update=function(){},e.prototype.stop=function(){},e.prototype.reset=function(){this.isDown=!1,this.isUp=!1},e}();t.Touch=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(e){function i(i,n,s,o){"undefined"==typeof n&&(n=0),"undefined"==typeof s&&(s=0),"undefined"==typeof o&&(o=0),e.call(this,i,o),this.x=n,this.y=s,this.width=0,this.height=0,this.minParticleSpeed=new t.Point(-100,-100),this.maxParticleSpeed=new t.Point(100,100),this.minRotation=-360,this.maxRotation=360,this.gravity=0,this.particleClass=null,this.particleDrag=new t.Point,this.frequency=.1,this.lifespan=3,this.bounce=0,this._quantity=0,this._counter=0,this._explode=!0,this.on=!1,this._point=new t.Point}return __extends(i,e),i.prototype.destroy=function(){this.minParticleSpeed=null,this.maxParticleSpeed=null,this.particleDrag=null,this.particleClass=null,this._point=null,e.prototype.destroy.call(this)},i.prototype.makeParticles=function(e,i,n,s,o){"undefined"==typeof i&&(i=50),"undefined"==typeof n&&(n=16),"undefined"==typeof s&&(s=!1),"undefined"==typeof o&&(o=.8),this.maxSize=i;for(var h,r=0;i>r;)h=null==this.particleClass?new t.Particle(this._game):new this.particleClass(this._game),s||e&&h.loadGraphic(e),o>0?(h.width*=o,h.height*=o):h.allowCollisions=t.Collision.NONE,h.exists=!1,this.add(h),r++;return this},i.prototype.update=function(){if(this.on)if(this._explode){this.on=!1;var t=0,i=this._quantity;for((0>=i||i>this.length)&&(i=this.length);i>t;)this.emitParticle(),t++;this._quantity=0}else for(this._timer+=this._game.time.elapsed;this.frequency>0&&this._timer>this.frequency&&this.on;)this._timer-=this.frequency,this.emitParticle(),this._quantity>0&&++this._counter>=this._quantity&&(this.on=!1,this._quantity=0);e.prototype.update.call(this)},i.prototype.kill=function(){this.on=!1,e.prototype.kill.call(this)},i.prototype.start=function(t,e,i,n){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=.1),"undefined"==typeof n&&(n=0),this.revive(),this.visible=!0,this.on=!0,this._explode=t,this.lifespan=e,this.frequency=i,this._quantity+=n,this._counter=0,this._timer=0},i.prototype.emitParticle=function(){var e=this.recycle(t.Particle);e.lifespan=this.lifespan,e.elasticity=this.bounce,e.reset(this.x-(e.width>>1)+this._game.math.random()*this.width,this.y-(e.height>>1)+this._game.math.random()*this.height),e.visible=!0,e.velocity.x=this.minParticleSpeed.x!=this.maxParticleSpeed.x?this.minParticleSpeed.x+this._game.math.random()*(this.maxParticleSpeed.x-this.minParticleSpeed.x):this.minParticleSpeed.x,e.velocity.y=this.minParticleSpeed.y!=this.maxParticleSpeed.y?this.minParticleSpeed.y+this._game.math.random()*(this.maxParticleSpeed.y-this.minParticleSpeed.y):this.minParticleSpeed.y,e.acceleration.y=this.gravity,e.angularVelocity=this.minRotation!=this.maxRotation?this.minRotation+this._game.math.random()*(this.maxRotation-this.minRotation):this.minRotation,0!=e.angularVelocity&&(e.angle=360*this._game.math.random()-180),e.drag.x=this.particleDrag.x,e.drag.y=this.particleDrag.y,e.onEmit()},i.prototype.setSize=function(t,e){this.width=t,this.height=e},i.prototype.setXSpeed=function(t,e){"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),this.minParticleSpeed.x=t,this.maxParticleSpeed.x=e},i.prototype.setYSpeed=function(t,e){"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),this.minParticleSpeed.y=t,this.maxParticleSpeed.y=e},i.prototype.setRotation=function(t,e){"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),this.minRotation=t,this.maxRotation=e},i.prototype.at=function(t){t.getMidpoint(this._point),this.x=this._point.x-(this.width>>1),this.y=this._point.y-(this.height>>1)},i}(t.Group);t.Emitter=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(e){function i(t,n,s){return"undefined"==typeof n&&(n=0),"undefined"==typeof s&&(s=0),e.call(this,t,n,s),this._dx=0,this._dy=0,this._dw=0,this._dh=0,this.type=0,this.renderOutline=!0,this.renderFill=!0,this.lineWidth=1,this.lineColor="rgb(0,255,0)",this.fillColor="rgb(0,100,0)",this.type=i.UNASSIGNED,this}return __extends(i,e),i.UNASSIGNED=0,i.CIRCLE=1,i.LINE=2,i.POINT=3,i.RECTANGLE=4,i.prototype.loadCircle=function(t){return this.refresh(),this.circle=t,this.type=i.CIRCLE,this},i.prototype.loadLine=function(t){return this.refresh(),this.line=t,this.type=i.LINE,this},i.prototype.loadPoint=function(t){return this.refresh(),this.point=t,this.type=i.POINT,this},i.prototype.loadRectangle=function(t){return this.refresh(),this.rect=t,this.type=i.RECTANGLE,this},i.prototype.createCircle=function(e){return this.refresh(),this.circle=new t.Circle(this.x,this.y,e),this.type=i.CIRCLE,this.bounds.setTo(this.circle.x-this.circle.radius,this.circle.y-this.circle.radius,this.circle.diameter,this.circle.diameter),this},i.prototype.createLine=function(e,n){return this.refresh(),this.line=new t.Line(this.x,this.y,e,n),this.type=i.LINE,this.bounds.setTo(this.x,this.y,this.line.width,this.line.height),this},i.prototype.createPoint=function(){return this.refresh(),this.point=new t.Point(this.x,this.y),this.type=i.POINT,this.bounds.width=1,this.bounds.height=1,this},i.prototype.createRectangle=function(e,n){return this.refresh(),this.rect=new t.Rectangle(this.x,this.y,e,n),this.type=i.RECTANGLE,this.bounds.copyFrom(this.rect),this},i.prototype.refresh=function(){this.circle=null,this.line=null,this.point=null,this.rect=null},i.prototype.update=function(){this.type!=i.UNASSIGNED&&(this.type==i.CIRCLE?(this.circle.x=this.x,this.circle.y=this.y,this.bounds.width=this.circle.diameter,this.bounds.height=this.circle.diameter):this.type==i.LINE?(this.line.x1=this.x,this.line.y1=this.y,this.bounds.setTo(this.x,this.y,this.line.width,this.line.height)):this.type==i.POINT?(this.point.x=this.x,this.point.y=this.y):this.type==i.RECTANGLE&&(this.rect.x=this.x,this.rect.y=this.y,this.bounds.copyFrom(this.rect)))},i.prototype.inCamera=function(t){return 1!==this.scrollFactor.x||1!==this.scrollFactor.y?(this._dx=this.bounds.x-t.x*this.scrollFactor.x,this._dy=this.bounds.y-t.y*this.scrollFactor.x,this._dw=this.bounds.width*this.scale.x,this._dh=this.bounds.height*this.scale.y,t.right>this._dx&&t.x<this._dx+this._dw&&t.bottom>this._dy&&t.y<this._dy+this._dh):t.intersects(this.bounds)},i.prototype.render=function(t,e,n){if(this.type==i.UNASSIGNED||this.visible===!1||0==this.scale.x||0==this.scale.y||this.alpha<.1||0==this.inCamera(t.worldView))return!1;if(1!==this.alpha){var s=this._game.stage.context.globalAlpha;this._game.stage.context.globalAlpha=this.alpha}return this._dx=e+(this.bounds.x-t.worldView.x),this._dy=n+(this.bounds.y-t.worldView.y),this._dw=this.bounds.width*this.scale.x,this._dh=this.bounds.height*this.scale.y,this.type==i.CIRCLE&&(this._dx+=this.circle.radius,this._dy+=this.circle.radius),(1!==this.scrollFactor.x||1!==this.scrollFactor.y)&&(this._dx-=t.worldView.x*this.scrollFactor.x,this._dy-=t.worldView.y*this.scrollFactor.y),this._dx=Math.round(this._dx),this._dy=Math.round(this._dy),this._dw=Math.round(this._dw),this._dh=Math.round(this._dh),this._game.stage.saveCanvasValues(),this._game.stage.context.lineWidth=this.lineWidth,this._game.stage.context.strokeStyle=this.lineColor,this._game.stage.context.fillStyle=this.fillColor,this._game.stage.fillStyle!==this.fillColor,this.type==i.CIRCLE?(this._game.stage.context.beginPath(),this._game.stage.context.arc(this._dx,this._dy,this.circle.radius,0,2*Math.PI),this._game.stage.context.stroke(),this.renderFill&&this._game.stage.context.fill(),this._game.stage.context.closePath()):this.type==i.LINE?(this._game.stage.context.beginPath(),this._game.stage.context.moveTo(this._dx,this._dy),this._game.stage.context.lineTo(this.line.x2,this.line.y2),this._game.stage.context.stroke(),this._game.stage.context.closePath()):this.type==i.POINT?this._game.stage.context.fillRect(this._dx,this._dy,2,2):this.type==i.RECTANGLE&&(0==this.renderOutline?this._game.stage.context.fillRect(this._dx,this._dy,this.rect.width,this.rect.height):(this._game.stage.context.beginPath(),this._game.stage.context.rect(this._dx,this._dy,this.rect.width,this.rect.height),this._game.stage.context.stroke(),this.renderFill&&this._game.stage.context.fill(),this._game.stage.context.closePath()),this._game.stage.context.fillStyle="rgb(255,255,255)",this.renderPoint(this._dx,this._dy,this.rect.topLeft,2),this.renderPoint(this._dx,this._dy,this.rect.topCenter,2),this.renderPoint(this._dx,this._dy,this.rect.topRight,2),this.renderPoint(this._dx,this._dy,this.rect.leftCenter,2),this.renderPoint(this._dx,this._dy,this.rect.center,2),this.renderPoint(this._dx,this._dy,this.rect.rightCenter,2),this.renderPoint(this._dx,this._dy,this.rect.bottomLeft,2),this.renderPoint(this._dx,this._dy,this.rect.bottomCenter,2),this.renderPoint(this._dx,this._dy,this.rect.bottomRight,2)),this._game.stage.restoreCanvasValues(),0!==this.rotation&&(this._game.stage.context.translate(0,0),this._game.stage.context.restore()),s>-1&&(this._game.stage.context.globalAlpha=s),!0},i.prototype.renderPoint=function(t,e,i){t=0,e=0,this._game.stage.context.fillRect(t+i.x,e+i.y,1,1)},i.prototype.renderDebugInfo=function(t,e,i){"undefined"==typeof i&&(i="rgb(255,255,255)")},i.prototype.collide=function(e){return this.type==i.CIRCLE&&e.type==i.CIRCLE?t.Collision.circleToCircle(this.circle,e.circle).result:this.type==i.CIRCLE&&e.type==i.RECTANGLE?t.Collision.circleToRectangle(this.circle,e.rect).result:this.type==i.CIRCLE&&e.type==i.POINT?t.Collision.circleContainsPoint(this.circle,e.point).result:this.type==i.CIRCLE&&e.type==i.LINE?t.Collision.lineToCircle(e.line,this.circle).result:this.type==i.RECTANGLE&&e.type==i.RECTANGLE?t.Collision.rectangleToRectangle(this.rect,e.rect).result:this.type==i.RECTANGLE&&e.type==i.CIRCLE?t.Collision.circleToRectangle(e.circle,this.rect).result:this.type==i.RECTANGLE&&e.type==i.POINT?t.Collision.pointToRectangle(e.point,this.rect).result:this.type==i.RECTANGLE&&e.type==i.LINE?t.Collision.lineToRectangle(e.line,this.rect).result:this.type==i.POINT&&e.type==i.POINT?this.point.equals(e.point):this.type==i.POINT&&e.type==i.CIRCLE?t.Collision.circleContainsPoint(e.circle,this.point).result:this.type==i.POINT&&e.type==i.RECTANGLE?t.Collision.pointToRectangle(this.point,e.rect).result:this.type==i.POINT&&e.type==i.LINE?e.line.isPointOnLine(this.point.x,this.point.y):this.type==i.LINE&&e.type==i.LINE?t.Collision.lineSegmentToLineSegment(this.line,e.line).result:this.type==i.LINE&&e.type==i.CIRCLE?t.Collision.lineToCircle(this.line,e.circle).result:this.type==i.LINE&&e.type==i.RECTANGLE?t.Collision.lineSegmentToRectangle(this.line,e.rect).result:this.type==i.LINE&&e.type==i.POINT?this.line.isPointOnLine(e.point.x,e.point.y):!1},i}(t.GameObject);t.GeomSprite=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(e){function i(t){e.call(this,t),this.lifespan=0,this.friction=500}return __extends(i,e),i.prototype.update=function(){this.lifespan<=0||(this.lifespan-=this._game.time.elapsed,this.lifespan<=0&&this.kill(),this.touching&&0!=this.angularVelocity&&(this.angularVelocity=-this.angularVelocity),this.acceleration.y>0&&(this.touching&t.Collision.FLOOR?(this.drag.x=this.friction,this.wasTouching&t.Collision.FLOOR||(this.velocity.y<10*-this.elasticity?0!=this.angularVelocity&&(this.angularVelocity*=-this.elasticity):(this.velocity.y=0,this.angularVelocity=0))):this.drag.x=0))},i.prototype.onEmit=function(){},i}(t.Sprite);t.Particle=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(t){function e(e,i,n,s,o,h,r){t.call(this,e,0,0,s,o),this.immovable=!0,this.moves=!1,this.callback=null,this.filter=null,this.tilemap=i,this.index=n,this.visible=h,this.allowCollisions=r,this.mapIndex=0}return __extends(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null,this.tilemap=null},e}(t.GameObject);t.Tile=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t,e,i,n,s){this._startX=0,this._maxX=0,this._startY=0,this._maxY=0,this._tx=0,this._ty=0,this._dx=0,this._dy=0,this._oldCameraX=0,this._oldCameraY=0,this._dirty=!0,this._game=t,this.camera=e,this._tilemap=i,this._texture=n,this._tileOffsets=s}return t.prototype.createCanvas=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this._game.stage.width,this.canvas.height=this._game.stage.height,this.context=this.canvas.getContext("2d")},t.prototype.update=function(){},t.prototype.renderDebugInfo=function(t,e,i){"undefined"==typeof i&&(i="rgb(255,255,255)"),this._game.stage.context.fillStyle=i,this._game.stage.context.fillText("TilemapBuffer",t,e),this._game.stage.context.fillText("startX: "+this._startX+" endX: "+this._maxX,t,e+14),this._game.stage.context.fillText("startY: "+this._startY+" endY: "+this._maxY,t,e+28),this._game.stage.context.fillText("dx: "+this._dx+" dy: "+this._dy,t,e+42),this._game.stage.context.fillText("Dirty: "+this._dirty,t,e+56)},t.prototype.render=function(t,e){this._maxX=this._game.math.ceil(this.camera.width/this._tilemap.tileWidth)+1,this._maxY=this._game.math.ceil(this.camera.height/this._tilemap.tileHeight)+1,this._startX=this._game.math.floor(this.camera.worldView.x/this._tilemap.tileWidth),this._startY=this._game.math.floor(this.camera.worldView.y/this._tilemap.tileHeight),this._startX<0&&(this._startX=0),this._startY<0&&(this._startY=0),this._startX+this._maxX>this._tilemap.widthInTiles&&(this._startX=this._tilemap.widthInTiles-this._maxX),this._startY+this._maxY>this._tilemap.heightInTiles&&(this._startY=this._tilemap.heightInTiles-this._maxY),this._dx=t,this._dy=e,this._dx+=-(this.camera.worldView.x-this._startX*this._tilemap.tileWidth),this._dy+=-(this.camera.worldView.y-this._startY*this._tilemap.tileHeight),this._tx=this._dx,this._ty=this._dy;for(var i=this._startY;i<this._startY+this._maxY;i++){this._columnData=this._tilemap.mapData[i];for(var n=this._startX;n<this._startX+this._maxX;n++)this._tileOffsets[this._columnData[n]]&&(this._game.stage.context.drawImage(this._texture,this._tileOffsets[this._columnData[n]].x,this._tileOffsets[this._columnData[n]].y,this._tilemap.tileWidth,this._tilemap.tileHeight,this._tx,this._ty,this._tilemap.tileWidth,this._tilemap.tileHeight),this._tx+=this._tilemap.tileWidth);this._tx=this._dx,this._ty+=this._tilemap.tileHeight}return!0},t}();t.TilemapBuffer=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(e){function i(n,s,o,h,r,a){switch("undefined"==typeof r&&(r=0),"undefined"==typeof a&&(a=0),e.call(this,n),this._dx=0,this._dy=0,this.widthInTiles=0,this.heightInTiles=0,this.widthInPixels=0,this.heightInPixels=0,this.tileBoundary=10,this._texture=this._game.cache.getImage(s),this._tilemapBuffers=[],this.isGroup=!1,this.tileWidth=r,this.tileHeight=a,this.boundsInTiles=new t.Rectangle,this.mapFormat=h,h){case i.FORMAT_CSV:this.parseCSV(n.cache.getText(o));break;case i.FORMAT_TILED_JSON:this.parseTiledJSON(n.cache.getText(o))}this.parseTileOffsets(),this.createTilemapBuffers()}return __extends(i,e),i.FORMAT_CSV=0,i.FORMAT_TILED_JSON=1,i.prototype.parseCSV=function(t){this.mapData=[],t=t.trim();for(var e=t.split("\n"),i=0;i<e.length;i++){var n=e[i].split(","),s=[];if(n.length>0){0==this.widthInTiles&&(this.widthInTiles=n.length),this.heightInTiles++;for(var o=0;o<n.length;o++)s[o]=parseInt(n[o]);this.mapData.push(s)}}this.widthInTiles>0&&(this.widthInPixels=this.tileWidth*this.widthInTiles),this.heightInTiles>0&&(this.heightInPixels=this.tileHeight*this.heightInTiles),this.boundsInTiles.setTo(0,0,this.widthInTiles,this.heightInTiles)},i.prototype.parseTiledJSON=function(t){this.mapData=[],t=t.trim();var e=JSON.parse(t);this.tileWidth=e.tilewidth,this.tileHeight=e.tileheight,this.widthInTiles=e.layers[0].width,this.heightInTiles=e.layers[0].height,this.widthInPixels=this.widthInTiles*this.tileWidth,this.heightInPixels=this.heightInTiles*this.tileHeight,this.boundsInTiles.setTo(0,0,this.widthInTiles,this.heightInTiles);for(var i,n=0,s=0;s<e.layers[0].data.length;s++)0==n&&(i=[]),i.push(e.layers[0].data[s]),n++,n==this.widthInTiles&&(this.mapData.push(i),n=0)},i.prototype.getMapSegment=function(){},i.prototype.createTilemapBuffers=function(){for(var e=this._game.world.getAllCameras(),i=0;i<e.length;i++)this._tilemapBuffers[e[i].ID]=new t.TilemapBuffer(this._game,e[i],this,this._texture,this._tileOffsets)},i.prototype.parseTileOffsets=function(){this._tileOffsets=[];var t=0;this.mapFormat==i.FORMAT_TILED_JSON&&(this._tileOffsets[0]=null,t=1);for(var e=0;e<this._texture.height;e+=this.tileHeight)for(var n=0;n<this._texture.width;n+=this.tileWidth)this._tileOffsets[t]={x:n,y:e},t++},i.prototype.update=function(){this._tilemapBuffers[0].update()},i.prototype.renderDebugInfo=function(t,e,i){"undefined"==typeof i&&(i="rgb(255,255,255)"),this._tilemapBuffers[0].renderDebugInfo(t,e,i)},i.prototype.render=function(t,e,i){return this.visible===!1||0==this.scale.x||0==this.scale.y||this.alpha<.1?!1:(this._dx=e+(this.bounds.x-t.worldView.x),this._dy=i+(this.bounds.y-t.worldView.y),this._dx=Math.round(this._dx),this._dy=Math.round(this._dy),this._tilemapBuffers[t.ID]&&this._tilemapBuffers[t.ID].render(e,i),!0)},i}(t.GameObject);t.Tilemap=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t,e,i,n,s,o,h,r){"undefined"==typeof e&&(e=""),"undefined"==typeof i&&(i=800),"undefined"==typeof n&&(n=600),"undefined"==typeof s&&(s=null),"undefined"==typeof o&&(o=null),"undefined"==typeof h&&(h=null),"undefined"==typeof r&&(r=null);var a=this;this._maxAccumulation=32,this._accumulator=0,this._step=0,this._loadComplete=!1,this._paused=!1,this._pendingState=null,this.onInitCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onPausedCallback=null,this.isBooted=!1,this.callbackContext=t,this.onInitCallback=s,this.onCreateCallback=o,this.onUpdateCallback=h,this.onRenderCallback=r,"complete"===document.readyState||"interactive"===document.readyState?this.boot(e,i,n):document.addEventListener("DOMContentLoaded",function(){return a.boot(e,i,n)},!1)}return e.prototype.boot=function(e,i,n){var s=this;document.body?(this.device=new t.Device,this.motion=new t.Motion(this),this.math=new t.GameMath(this),this.stage=new t.Stage(this,e,i,n),this.world=new t.World(this,i,n),this.sound=new t.SoundManager(this),this.cache=new t.Cache(this),this.collision=new t.Collision(this),this.loader=new t.Loader(this,this.loadComplete),this.time=new t.Time(this),this.tweens=new t.TweenManager(this),this.input=new t.Input(this),this.rnd=new t.RandomDataGenerator([(Date.now()*Math.random()).toString()]),this.framerate=60,null==this.onInitCallback&&null==this.onCreateCallback&&null==this.onUpdateCallback&&null==this.onRenderCallback&&null==this._pendingState?(this.isBooted=!1,this.stage.drawInitScreen()):(this.isBooted=!0,this._loadComplete=!1,this._raf=new t.RequestAnimationFrame(this.loop,this),this._pendingState?this.switchState(this._pendingState,!1,!1):this.startState())):window.setTimeout(function(){return s.boot(e,i,n)},13)},e.prototype.loadComplete=function(){this._loadComplete=!0},e.prototype.loop=function(){if(this.time.update(),this.tweens.update(),1==this._paused)return void(null!==this.onPausedCallback&&this.onPausedCallback.call(this.callbackContext));for(this.input.update(),this.stage.update(),this._accumulator+=this.time.delta,this._accumulator>this._maxAccumulation&&(this._accumulator=this._maxAccumulation);this._accumulator>=this._step;)this.time.elapsed=this.time.timeScale*(this._step/1e3),this.world.update(),this._accumulator=this._accumulator-this._step;this._loadComplete&&this.onUpdateCallback&&this.onUpdateCallback.call(this.callbackContext),this.world.render(),this._loadComplete&&this.onRenderCallback&&this.onRenderCallback.call(this.callbackContext)},e.prototype.startState=function(){null!==this.onInitCallback?this.onInitCallback.call(this.callbackContext):(null!==this.onCreateCallback&&this.onCreateCallback.call(this.callbackContext),this._loadComplete=!0)},e.prototype.setCallbacks=function(t,e,i,n){"undefined"==typeof t&&(t=null),"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=null),this.onInitCallback=t,this.onCreateCallback=e,this.onUpdateCallback=i,this.onRenderCallback=n},e.prototype.switchState=function(t,e,i){if("undefined"==typeof e&&(e=!0),"undefined"==typeof i&&(i=!1),0==this.isBooted)return void(this._pendingState=t);if("function"==typeof t&&(t=new t(this)),!t.create&&!t.update)throw Error("Invalid State object given. Must contain at least a create or update function.");this.callbackContext=t,this.onInitCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onPausedCallback=null,t.init&&(this.onInitCallback=t.init),t.create&&(this.onCreateCallback=t.create),t.update&&(this.onUpdateCallback=t.update),t.render&&(this.onRenderCallback=t.render),t.paused&&(this.onPausedCallback=t.paused),e&&(this.world.destroy(),1==i&&this.cache.destroy()),this._loadComplete=!1,this.startState()},e.prototype.destroy=function(){this.callbackContext=null,this.onInitCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onPausedCallback=null,this.camera=null,this.cache=null,this.input=null,this.loader=null,this.sound=null,this.stage=null,this.time=null,this.world=null,this.isBooted=!1},Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){1==t&&0==this._paused?this._paused=!0:0==t&&1==this._paused&&(this._paused=!1,this.time.time=Date.now(),this.input.reset())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"framerate",{get:function(){return 1e3/this._step},set:function(t){this._step=1e3/t,this._maxAccumulation<this._step&&(this._maxAccumulation=this._step)},enumerable:!0,configurable:!0}),e.prototype.createCamera=function(t,e,i,n){return this.world.createCamera(t,e,i,n)},e.prototype.createGeomSprite=function(t,e){return this.world.createGeomSprite(t,e)},e.prototype.createSprite=function(t,e,i){return"undefined"==typeof i&&(i=""),this.world.createSprite(t,e,i)},e.prototype.createDynamicTexture=function(t,e,i){return this.world.createDynamicTexture(t,e,i)},e.prototype.createGroup=function(t){return"undefined"==typeof t&&(t=0),this.world.createGroup(t)},e.prototype.createParticle=function(){return this.world.createParticle()},e.prototype.createEmitter=function(t,e,i){return"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),this.world.createEmitter(t,e,i)},e.prototype.createTilemap=function(t,e,i,n,s){return this.world.createTilemap(t,e,i,n,s)},e.prototype.createTween=function(t){return this.tweens.create(t)},e.prototype.collide=function(e,i,n){return"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=null),this.collision.overlap(e,i,n,t.Collision.separate)},e}();t.Game=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function t(t,e,i){"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=null),this._x=t,this._y=e,this.parent=i}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this.parent&&this.parent.updateBounds()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this.parent&&this.parent.updateBounds()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){return this.setTo(t.x,t.y)},t.prototype.copyTo=function(t){return t.x=this._x,t.y=this._y,t},t.prototype.setTo=function(t,e,i){return"undefined"==typeof i&&(i=!0),this._x=t,this._y=e,null!=this.parent&&1==i&&this.parent.updateBounds(),this},t.prototype.equals=function(t){return this._x===t.x&&this._y===t.y?!0:!1},t.prototype.toString=function(){return"[{MicroPoint (x="+this._x+" y="+this._y+")}]"},t}();t.MicroPoint=e}(Phaser||(Phaser={}));var Phaser;!function(t){var e=function(){function e(t){this.game=t,this.camera=t.camera,this.cache=t.cache,this.collision=t.collision,this.input=t.input,this.loader=t.loader,this.math=t.math,this.motion=t.motion,this.sound=t.sound,this.stage=t.stage,this.time=t.time,this.tweens=t.tweens,this.world=t.world}return e.prototype.init=function(){},e.prototype.create=function(){},e.prototype.update=function(){},e.prototype.render=function(){},e.prototype.paused=function(){},e.prototype.createCamera=function(t,e,i,n){return this.game.world.createCamera(t,e,i,n)},e.prototype.createGeomSprite=function(t,e){return this.world.createGeomSprite(t,e)},e.prototype.createSprite=function(t,e,i){return"undefined"==typeof i&&(i=""),this.game.world.createSprite(t,e,i)},e.prototype.createDynamicTexture=function(t,e,i){return this.game.world.createDynamicTexture(t,e,i)},e.prototype.createGroup=function(t){return"undefined"==typeof t&&(t=0),this.game.world.createGroup(t)},e.prototype.createParticle=function(){return this.game.world.createParticle()},e.prototype.createEmitter=function(t,e,i){return"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),this.game.world.createEmitter(t,e,i)},e.prototype.createTilemap=function(t,e,i,n,s){return this.game.world.createTilemap(t,e,i,n,s)},e.prototype.createTween=function(t){return this.game.tweens.create(t)},e.prototype.collide=function(e,i,n){return"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=null),this.collision.overlap(e,i,n,t.Collision.separate)},e}();t.State=e}(Phaser||(Phaser={}));