(function(c){var b="mmenu",h="counters";var g,e,d,i,k=false;c[b].prototype["_addon_"+h]=function(){if(!k){j()}this.opts[h]=a(this.opts[h]);this.conf[h]=f(this.conf[h]);var o=this,n=this.opts[h],m=this.conf[h];this.__refactorClass(c("em",this.$menu),this.conf.classNames[h].counter,"counter");if(n.add){c("."+g.panel,this.$menu).each(function(){var s=c(this),p=s.data(e.parent);if(p){var q=c('<em class="'+g.counter+'" />'),r=p.find("> a."+g.subopen);if(!r.parent().find("em."+g.counter).length){r.before(q)}}})}if(n.update){var l=c("em."+g.counter,this.$menu);l.each(function(){var r=c(this),p=c(r.next().attr("href"),o.$menu);if(!p.is("."+g.list)){p=p.find("> ."+g.list)}if(p.length){var q=function(){var s=p.children().not("."+g.label).not("."+g.subtitle).not("."+g.hidden).not("."+g.search).not("."+g.noresultsmsg);r.html(s.length)};q();o._update(q)}})}};c[b].addons=c[b].addons||[];c[b].addons.push(h);c[b].defaults[h]={add:false,update:false};c[b].configuration.classNames[h]={counter:"Counter"};function a(l){if(typeof l=="boolean"){l={add:l,update:l}}if(typeof l!="object"){l={}}l=c.extend(true,{},c[b].defaults[h],l);if(l.count){c[b].deprecated('the option "count" for counters','the option "update"');l.update=l.count}return l}function f(l){return l}function j(){k=true;g=c[b]._c;e=c[b]._d;d=c[b]._e;g.add("counter search noresultsmsg");i=c[b].glbl}})(jQuery);