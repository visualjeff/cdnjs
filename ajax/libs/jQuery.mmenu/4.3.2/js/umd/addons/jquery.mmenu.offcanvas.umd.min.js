(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(a){!function(j){function d(i){return i}function q(i){return"string"!=typeof i.pageSelector&&(i.pageSelector="> "+i.pageNodetype),i}function f(){m=!0,v=j[b]._c,h=j[b]._d,k=j[b]._e,v.add("offcanvas modal background opening blocker page"),h.add("style"),k.add("opening opened closing closed setPage"),c=j[b].glbl,c.$allMenus=(c.$allMenus||j()).add(this.$menu),c.$wndw.on(k.keydown,function(i){return c.$html.hasClass(v.opened)&&9==i.keyCode?(i.preventDefault(),!1):void 0});var e=0;c.$wndw.on(k.resize,function(l,i){if(i||c.$html.hasClass(v.opened)){var o=c.$wndw.height();(i||o!=e)&&(e=o,c.$page.css("minHeight",o))}})}var v,h,k,c,b="mmenu",g="offCanvas",m=!1;j[b].prototype["_addon_"+g]=function(){if(!this.opts[g]){return this}m||f(),this.opts[g]=d(this.opts[g]),this.conf[g]=q(this.conf[g]),this.vars.opened=!1;var o=this.opts[g],n=this.conf[g],l=[v.offcanvas];"left"!=o.position&&l.push(v.mm(o.position)),"back"!=o.zposition&&l.push(v.mm(o.zposition)),this.$menu.addClass(l.join(" ")).parent().removeClass(v.wrapper),this[g+"_initPage"](c.$page),this[g+"_initBlocker"](),this[g+"_initOpenClose"](),this[g+"_bindCustomEvents"](),this.$menu[n.menuInjectMethod+"To"](n.menuWrapperSelector)},j[b].addons=j[b].addons||[],j[b].addons.push(g),j[b].defaults[g]={position:"left",zposition:"back",modal:!1,moveBackground:!0},j[b].configuration[g]={pageNodetype:"div",pageSelector:null,menuWrapperSelector:"body",menuInjectMethod:"prepend"},j[b].prototype.open=function(){if(this.vars.opened){return !1}var i=this;return this._openSetup(),setTimeout(function(){i._openFinish()},25),"open"},j[b].prototype._openSetup=function(){c.$allMenus.not(this.$menu).trigger(k.close),c.$page.data(h.style,c.$page.attr("style")||""),c.$wndw.trigger(k.resize,[!0]);var i=[v.opened];this.opts[g].modal&&i.push(v.modal),this.opts[g].moveBackground&&i.push(v.background),"left"!=this.opts[g].position&&i.push(v.mm(this.opts[g].position)),"back"!=this.opts[g].zposition&&i.push(v.mm(this.opts[g].zposition)),this.opts.classes&&i.push(this.opts.classes),c.$html.addClass(i.join(" ")),this.$menu.addClass(v.current+" "+v.opened)},j[b].prototype._openFinish=function(){var i=this;this.__transitionend(c.$page,function(){i.$menu.trigger(k.opened)},this.conf.transitionDuration),this.vars.opened=!0,c.$html.addClass(v.opening),this.$menu.trigger(k.opening)},j[b].prototype.close=function(){if(!this.vars.opened){return !1}var i=this;return this.__transitionend(c.$page,function(){i.$menu.removeClass(v.current).removeClass(v.opened),c.$html.removeClass(v.opened).removeClass(v.modal).removeClass(v.background).removeClass(v.mm(i.opts[g].position)).removeClass(v.mm(i.opts[g].zposition)),i.opts.classes&&c.$html.removeClass(i.opts.classes),c.$page.attr("style",c.$page.data(h.style)),i.vars.opened=!1,i.$menu.trigger(k.closed)},this.conf.transitionDuration),c.$html.removeClass(v.opening),this.$menu.trigger(k.closing),"close"},j[b].prototype[g+"_initBlocker"]=function(){var e=this;c.$blck||(c.$blck=j('<div id="'+v.blocker+'" />').appendTo(c.$body)),c.$blck.off(k.touchstart).on(k.touchstart,function(i){i.preventDefault(),i.stopPropagation(),c.$blck.trigger(k.mousedown)}).on(k.mousedown,function(i){i.preventDefault(),c.$html.hasClass(v.modal)||e.close()})},j[b].prototype[g+"_initPage"]=function(e){e||(e=j(this.conf[g].pageSelector,c.$body),e.length>1&&(j[b].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf[g].pageNodetype+">."),e=e.wrapAll("<"+this.conf[g].pageNodetype+" />").parent())),e.addClass(v.page),c.$page=e},j[b].prototype[g+"_initOpenClose"]=function(){var i=this,e=this.$menu.attr("id");e&&e.length&&(this.conf.clone&&(e=v.umm(e)),j('a[href="#'+e+'"]').off(k.click).on(k.click,function(l){l.preventDefault(),i.open()}));var e=c.$page.attr("id");e&&e.length&&j('a[href="#'+e+'"]').on(k.click,function(l){l.preventDefault(),i.close()})},j[b].prototype[g+"_bindCustomEvents"]=function(){var i=this,l=k.open+" "+k.opening+" "+k.opened+" "+k.close+" "+k.closing+" "+k.closed+" "+k.setPage;this.$menu.off(l).on(l,function(n){n.stopPropagation()}),this.$menu.on(k.open,function(){i.open()}).on(k.close,function(){i.close()}).on(k.setPage,function(n,e){i[g+"_initPage"](e),i[g+"_initOpenClose"]()})}}(a)}));