(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(a){!function(q){function g(c){return"boolean"==typeof c&&(c={add:c,update:c}),"object"!=typeof c&&(c={}),c=q.extend(!0,{},q[h].defaults[l],c),c.count&&(q[h].deprecated('the option "count" for counters','the option "update"'),c.update=c.count),c}function j(c){return c}function f(){k=!0,v=q[h]._c,m=q[h]._d,p=q[h]._e,v.add("counter search noresultsmsg"),b=q[h].glbl}var v,m,p,b,h="mmenu",l="counters",k=!1;q[h].prototype["_addon_"+l]=function(){k||f(),this.opts[l]=g(this.opts[l]),this.conf[l]=j(this.conf[l]);var c=this,e=this.opts[l];if(this.conf[l],this.__refactorClass(q("em",this.$menu),this.conf.classNames[l].counter,"counter"),e.add&&q("."+v.panel,this.$menu).each(function(){var t=q(this),r=t.data(m.parent);if(r){var s=q('<em class="'+v.counter+'" />'),i=r.find("> a."+v.subopen);i.parent().find("em."+v.counter).length||i.before(s)}}),e.update){var d=q("em."+v.counter,this.$menu);d.each(function(){var s=q(this),i=q(s.next().attr("href"),c.$menu);if(i.is("."+v.list)||(i=i.find("> ."+v.list)),i.length){var r=function(){var n=i.children().not("."+v.label).not("."+v.subtitle).not("."+v.hidden).not("."+v.search).not("."+v.noresultsmsg);s.html(n.length)};r(),c._update(r)}})}},q[h].addons=q[h].addons||[],q[h].addons.push(l),q[h].defaults[l]={add:!1,update:!1},q[h].configuration.classNames[l]={counter:"Counter"}}(a)}));