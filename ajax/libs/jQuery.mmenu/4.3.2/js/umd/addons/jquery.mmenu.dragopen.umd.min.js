(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(a){!function(q){function w(d){return"boolean"==typeof d&&(d={open:d}),"object"!=typeof d&&(d={}),d=q.extend(!0,{},q[c].defaults[l],d)}function v(d){return d}function h(){m=!0,x=q[c]._c,k=q[c]._d,b=q[c]._e,x.add("dragging"),b.add("dragleft dragright dragup dragdown dragend"),u=q[c].glbl}function j(g,f,d){return f>g&&(g=f),g>d&&(g=d),g}var x,k,b,u,c="mmenu",l="dragOpen",m=!1;q[c].prototype["_addon_"+l]=function(){if(q.fn.hammer){m||h(),this.opts[l]=w(this.opts[l]),this.conf[l]=v(this.conf[l]);var n=this,d=this.opts[l],o=this.conf[l];if(d.open){var r=0,f=!1,A=0,z=0,e="width";switch(this.opts.offCanvas.position){case"left":case"right":e="width";break;default:e="height"}switch(this.opts.offCanvas.position){case"left":var y={events:b.dragleft+" "+b.dragright,open_dir:"right",close_dir:"left",delta:"deltaX",page:"pageX",negative:!1};break;case"right":var y={events:b.dragleft+" "+b.dragright,open_dir:"left",close_dir:"right",delta:"deltaX",page:"pageX",negative:!0};break;case"top":var y={events:b.dragup+" "+b.dragdown,open_dir:"down",close_dir:"up",delta:"deltaY",page:"pageY",negative:!1};break;case"bottom":var y={events:b.dragup+" "+b.dragdown,open_dir:"up",close_dir:"down",delta:"deltaY",page:"pageY",negative:!0}}var t=this.__valueOrFn(d.pageNode,this.$menu,u.$page);"string"==typeof t&&(t=q(t));var s=u.$page.find("."+x.mm("fixed-top")+", ."+x.mm("fixed-bottom")),g=u.$page;switch(this.opts.offCanvas.zposition){case"back":g=g.add(s);break;case"front":g=this.$menu;break;case"next":g=g.add(this.$menu).add(s)}t.hammer().on(b.touchstart+" "+b.mousedown,function(B){if("touchstart"==B.type){var p=B.originalEvent.touches[0]||B.originalEvent.changedTouches[0],i=p[y.page]}else{if("mousedown"==B.type){var i=B[y.page]}}switch(n.opts.offCanvas.position){case"right":case"bottom":i>=u.$wndw[e]()-d.maxStartPos&&(r=1);break;default:i<=d.maxStartPos&&(r=1)}}).on(y.events+" "+b.dragend,function(i){r>0&&(i.gesture.preventDefault(),i.stopPropagation())}).on(y.events,function(p){var i=y.negative?-p.gesture[y.delta]:p.gesture[y.delta];if(f=i>A?y.open_dir:y.close_dir,A=i,A>d.threshold&&1==r){if(u.$html.hasClass(x.opened)){return}r=2,n._openSetup(),n.vars.opened=!0,u.$html.addClass(x.dragging),z=j(u.$wndw[e]()*o[e].perc,o[e].min,o[e].max)}2==r&&g.css(n.opts.offCanvas.position,j(A,10,z)-("front"==n.opts.offCanvas.zposition?z:0))}).on(b.dragend,function(){2==r&&(u.$html.removeClass(x.dragging),g.css(n.opts.offCanvas.position,""),f==y.open_dir?n._openFinish():n.close()),r=0})}}},q[c].addons=q[c].addons||[],q[c].addons.push(l),q[c].defaults[l]={open:!1,maxStartPos:100,threshold:50},q[c].configuration[l]={width:{perc:0.8,min:140,max:440},height:{perc:0.8,min:140,max:880}}}(a)}));