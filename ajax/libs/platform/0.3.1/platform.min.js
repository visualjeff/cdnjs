!function(e){function t(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function n(e){return String(e).replace(/([a-z\d]) +([a-z])/gi,"$1$2")}function i(e,t){var n=-1,i=e.length;if(i==i>>>0)for(;++n<i&&t(e[n],n,e)!==!1;);else r(e,t);return e}function r(e,t){for(var n in e)if(l(e,n)&&t(e[n],n,e)===!1)break;return e}function o(e){return e=c(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:t(e)}function a(e){return null==e?t(e):S.call(e).slice(8,-1)}function l(e,t){var n,i=(e.constructor||Object).prototype;return e=Object(e),"Function"==a(M)?n=M.call(e,t):{}.__proto__==Object.prototype?e.__proto__=[e.__proto__,e.__proto__=null,n=t in e][0]:n=t in e&&!(t in i&&e[t]===i[t]),n}function s(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"==n?!!e[t]:!0)}function u(e,t){var n=null;return i(e,function(i,r){n=t(n,i,r,e)}),n}function c(e){return String(e).replace(/^ +| +$/g,"")}function p(t){function i(e){return u(e,function(e,n){return e||RegExp("\\b"+("WebKit"==n?"AppleWebKit":n)+"\\b","i").exec(t)&&n})}function r(e){return u(e,function(e,i,r){return e||u([r,n(r)],function(e,n){return e||i[I]||i[/^[a-z]+/i.exec(I)]||RegExp("\\b"+n+"(?:\\b|\\w*\\d)","i").exec(t)})&&r})}function l(e){return u(e,function(e,i){return e||u([i,n(i)],function(e,n){return e||RegExp("\\b"+("Firefox"==n&&"(?:Firefox|Minefield)"||"IE"==n&&"MSIE"||"Silk"==n&&"(?:Cloud9|Silk)"||n)+"\\b","i").exec(t)})&&i})}function d(e){return u(e,function(e,i){return!e&&(e=u([i,n(i)],function(e,n){return e||RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t)}))&&(K={6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP","5.0":"2000","4.0":"NT",4.9:"ME"},/^Win/i.test(e)&&(K=K[/[456]\.\d/.exec(e)])&&(e="Windows "+K),e=o(String(e).replace(RegExp(i+"|"+n(i),"i"),i).replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/[ .]*fc[ \d.]+$/,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0])),e})}function M(e){return u(e,function(e,i){return!e&&(e=u([i,n(i)],function(e,n){return e||"Galaxy S"==n&&/\bGT-I9000\b/i.test(t)&&n||"Galaxy S2"==n&&/\bGT-I9100\b/i.test(t)&&n||"Kindle Fire"==n&&/\b(?:Cloud9|Silk)\b/i.test(t)&&n||RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t)}))&&((e=String(e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),e=o(e[0].replace(RegExp(i+"|"+n(i),"i"),i).replace(RegExp("; *(?:"+i+"[_-])?","i")," ").replace(RegExp("("+i+")(\\w)","i"),"$1 $2"))),e})}function E(e){return u(e,function(e,i){return e||u([i,n(i)],function(e,n){return e||(RegExp(("Firefox"==n&&"(?:Firefox|Minefield)"||"Silk"==n&&"(?:Cloud9|Silk)"||n)+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/-]*)","i").exec(t)||0)[1]||null})})}function R(){return e.platform=k,this}function _(){return this.description}t||(t=w);var K={},j=[],B=null,F=t==w,W=F&&v&&"function"==typeof v.version&&v.version(),C=i(["WebKit","iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]),T=l(["Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iron","K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","Raven","Rekonq","RockMelt","SeaMonkey","Silk","Sleipnir","SlimBrowser","Sunrise","Swiftfox","Opera Mini","Opera","Chrome","Firefox","IE","Safari"]),I=M(["BlackBerry","Galaxy S","Galaxy S2","iPad","iPod","iPhone","Kindle","Kindle Fire","Nook","PlayBook","TouchPad","Transformer","Xoom"]),$=r({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},HP:{TouchPad:1},LG:{},Motorola:{Xoom:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1}}),G=d(["Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(C&&(C=[C]),$&&!I&&(I=M([$])),/\bSimulator\b/i.test(t)&&(I=(I?I+" ":"")+"Simulator"),/^iP/.test(I)?(T||(T="Safari"),G="iOS"+((K=/ OS ([\d_]+)/i.exec(t))?" "+K[1].replace(/_/g,"."):"")):"Konqueror"!=T||/buntu/i.test(G)?"Chrome"==T&&$?(T="Android Browser",G=/Android/.test(G)?G:"Android"):(!T||(K=!/\bMinefield\b/i.test(t)&&/Firefox|Safari/.exec(T)))&&(T&&!I&&/[/,]/.test(t.slice(t.indexOf(K+"/")+8))&&(T=null),(K=I||$||G)&&(I||$||/Android|Symbian OS|Tablet OS|webOS/.test(G))&&(T=/[a-z]+(?: Hat)?/i.exec(/Android/.test(G)?G:K)+" Browser")):G="Kubuntu",W||(W=E([/Mini|Raven|Silk/.test(T)?T:"version",T,"AdobeAIR","Firefox","NetFront"])),"iCab"==C&&parseFloat(W)>3?C=["WebKit"]:"Konqueror"==T&&/\bKHTML\b/i.test(t)?C=["KHTML"]:(K=/Opera/.test(T)&&"Presto"||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&"WebKit"||!C&&/\bMSIE\b/i.test(t)&&(/^Mac/.test(G)?"Tasman":"Trident"))&&(C=[K]),F){if(s(b,"global"))if(g&&!G&&(K=g.lang.System,G=K.getProperty("os.name")+" "+K.getProperty("os.version")),"object"==typeof exports&&exports)if(b==f&&"object"==typeof system&&(K=[system])[0]){G||(G=K[0].os||null);try{K[1]=require("ringo/engine").version,W=K[1].join("."),T="RingoJS"}catch(N){K[0].global==x&&(T="Narwhal")}}else"object"==typeof process&&(K=process)&&(T="Node.js",W=/[\d.]+/.exec(K.version)[0],G=K.platform);else"Environment"==a(e.environment)&&(T="Rhino");else"ScriptBridgingProxyObject"==a(K=e.runtime)?(T="Adobe AIR",G=K.flash.system.Capabilities.os):"RuntimeObject"==a(K=e.phantom)?(T="PhantomJS",W=(K=K.version||null)&&K.major+"."+K.minor+"."+K.patch):"number"==typeof y.documentMode&&(K=/\bTrident\/(\d+)/i.exec(t))&&(W=[W,y.documentMode],(K=+K[1]+4)!=W[1]&&(j.push("IE "+W[1]+" mode"),C[1]="",W[1]=K),W="IE"==T?String(W[1].toFixed(1)):W[0]);G=G&&o(G)}return W&&(K=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(W)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(F&&O.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(B=/b/i.test(K)?"beta":"alpha",W=W.replace(RegExp(K+"\\+?$"),"")+("beta"==B?h:m)+(/\d+\+?/.exec(K)||"")),"Maxthon"==T&&W?W=W.replace(/\.[\d.]+/,".x"):"Silk"==T?(/Mobi/i.test(t)||(G="Android",j.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&j.unshift("accelerated")):"IE"==T&&(K=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(T+=" Mobile",G="Windows Phone OS "+K+".x",j.unshift("desktop mode")):("IE"==T||T&&!I)&&!/Browser/.test(T)&&/Mobi/i.test(t)?T+=" Mobile":"IE"!=T||"object"!=typeof external||external?/BlackBerry/.test(I)&&(K=(RegExp(I.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||W)?(G="Device Software "+K,W=null):F&&v&&(K=p(t.replace(P,"")+";")).name&&!P.test(K.name)&&(C=["Presto"],K="ing as "+K.name+((K=K.version)?" "+K:""),P.test(T)?K="identify"+K:(K="mask"+K,T=o(A.replace(/([a-z])([A-Z])/g,"$1 $2"))),j.push(K)):j.unshift("platform preview"),(K=(/AppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(K=[parseFloat(K),K],"+"==K[1].slice(-1)&&"Safari"==T&&(T="WebKit Nightly",B="alpha",W=K[1].slice(0,-1)),K=[K[0],(/Chrome\/([\d.]+)/i.exec(t)||0)[1]],!F||/internal|\n/i.test(S.toString())&&!K[1]?(C[1]="like Safari",K=K[0],K=400>K?1:500>K?2:526>K?3:533>K?4:534>K?"4+":535>K?5:"5"):(C[1]="like Chrome",K=K[1]||(K=K[0],530>K?1:532>K?2:532.5>K?3:533>K?4:534.3>K?5:534.7>K?6:534.1>K?7:534.13>K?8:534.16>K?9:534.24>K?10:534.3>K?11:535.1>K?12:535.2>K?"13+":535.5>K?15:535.7>K?16:"17")),C[1]+=" "+(K+="number"==typeof K?".x":/[.+]/.test(K)?"":"+"),"Safari"==T&&(!W||parseInt(W)>45)&&(W=K)),W&&0==W.indexOf(K=/[\d.]+$/.exec(G))&&t.indexOf("/"+K+"-")>-1&&(G=c(G.replace(K,""))),C&&!/Avant|Nook/.test(T)&&(/Browser|Lunascape|Maxthon/.test(T)||/Adobe|Arora|Midori|Phantom|Rekonq|RockMelt|Sleipnir|WebKit/.test(T)&&C[1])&&(K=C[C.length-1])&&j.push(K),j.length&&(j=["("+j.join("; ")+")"]),$&&I&&I.indexOf($)<0&&j.push("on "+$),I&&j.push((/^on /.test(j[j.length-1])?"":"on ")+I),(K=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i).test(t)&&!/\bi686\b/i.test(t)&&(G=G&&G+(K.test(G)?"":" 64-bit"),T&&(/WOW64/i.test(t)||F&&/\w(?:86|32)$/.test(O.cpuClass||O.platform))&&j.unshift("32-bit")),{version:T&&W&&(j.unshift(W),W),name:T&&(j.unshift(T),T),os:G&&(T&&!(G==G.split(" ")[0]&&(G==T.split(" ")[0]||I))&&j.push(I?"("+G+")":"on "+G),G),description:j.length?j.join(" "):t,layout:C&&C[0],manufacturer:$,prerelease:B,product:I,noConflict:R,parse:p,toString:_}}var f=e,b=this,d="object"==typeof exports&&exports,x="object"==typeof global&&global&&(global==global.global?e=global:global),S={}.toString,g=/Java/.test(a(e.java))&&e.java,m=g?"a":"α",h=g?"b":"β",y=e.document||{},M={}.hasOwnProperty,O=e.navigator||{},k=e.platform,w=O.userAgent||"unknown platform",v=e.operamini||e.opera,P=/Opera/,A=P.test(A=a(v))?A:v=null;d?r(p(),function(e,t){d[t]=e}):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return p()}):e.platform=p()}(this);