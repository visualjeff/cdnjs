!function(t){function e(){var e=a(this);return isNaN(e.datetime)||t(this).text(r(e.datetime)),this}function a(e){if(e=t(e),void 0===e.data("timeago")){e.data("timeago",{datetime:i.datetime(e)});var a=t.trim(e.text());a.length>0&&e.attr("title",a)}return e.data("timeago")}function r(t){return i.inWords(n(t))}function n(t){return(new Date).getTime()-t.getTime()}function o(e,a){var r=t.isFunction(e)?e(a):e;return r.replace(/%d/i,a)}t.timeago=function(e){return r(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):t.timeago.datetime(e))};var i=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",ago:null,fromNow:null,seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years"}},inWords:function(e){var a=this.settings.strings,r=a.prefixAgo,n=a.suffixAgo||a.ago;this.settings.allowFuture&&(0>e&&(r=a.prefixFromNow,n=a.suffixFromNow||a.fromNow),e=Math.abs(e));var i=e/1e3,s=i/60,u=s/60,m=u/24,d=m/365,f=45>i&&o(a.seconds,Math.round(i))||90>i&&o(a.minute,1)||45>s&&o(a.minutes,Math.round(s))||90>s&&o(a.hour,1)||24>u&&o(a.hours,Math.round(u))||48>u&&o(a.day,1)||30>m&&o(a.days,Math.floor(m))||60>m&&o(a.month,1)||365>m&&o(a.months,Math.floor(m/30))||2>d&&o(a.year,1)||o(a.years,Math.floor(d));return t.trim([r,f,n].join(" "))},parse:function(e){var a=t.trim(e);return a=a.replace(/-/,"/").replace(/-/,"/"),a=a.replace(/T/," ").replace(/Z/," UTC"),a=a.replace(/([\+-]\d\d)\:?(\d\d)/," $1$2"),new Date(a)},datetime:function(e){var a="time"==t(e).get(0).tagName.toLowerCase(),r=t(e).attr(a?"datetime":"title");return i.parse(r)}}),t.fn.timeago=function(){var t=this;t.each(e);var a=i.settings;return a.refreshMillis>0&&setInterval(function(){t.each(e)},a.refreshMillis),t},document.createElement("abbr"),document.createElement("time")}(jQuery);