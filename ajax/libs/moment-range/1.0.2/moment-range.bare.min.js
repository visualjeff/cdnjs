var DateRange,INTERVALS;INTERVALS={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},DateRange=function(){function t(t,n){this.start=moment(t),this.end=moment(n)}return t.prototype.contains=function(n){return n instanceof t?this.start<=n.start&&this.end>=n.end:this.start<=n&&n<=this.end},t.prototype._by_string=function(t,n){var e,s;for(e=moment(this.start),s=[];this.contains(e);)n.call(this,e.clone()),s.push(e.add(t,1));return s},t.prototype._by_range=function(t,n){var e,s,r,i;if(s=Math.round(this/t),1/0===s)return this;for(i=[],e=r=0;s>=0?s>=r:r>=s;e=s>=0?++r:--r)i.push(n.call(this,moment(this.start.valueOf()+t.valueOf()*e)));return i},t.prototype.overlaps=function(t){return null!==this.intersect(t)},t.prototype.intersect=function(n){var e,s,r,i,a,o,h,u;return this.start<=(s=n.start)&&s<(e=this.end)&&e<n.end?new t(n.start,this.end):n.start<(i=this.start)&&i<(r=n.end)&&r<=this.end?new t(this.start,n.end):n.start<(o=this.start)&&o<(a=this.end)&&a<n.end?this:this.start<=(u=n.start)&&u<(h=n.end)&&h<=this.end?n:null},t.prototype.subtract=function(n){var e,s,r,i,a,o,h,u;return null===this.intersect(n)?[this]:n.start<=(s=this.start)&&s<(e=this.end)&&e<=n.end?[]:n.start<=(i=this.start)&&i<(r=n.end)&&r<this.end?[new t(n.end,this.end)]:this.start<(o=n.start)&&o<(a=this.end)&&a<=n.end?[new t(this.start,n.start)]:this.start<(u=n.start)&&u<(h=n.end)&&h<this.end?[new t(this.start,n.start),new t(n.end,this.end)]:void 0},t.prototype.by=function(t,n){return"string"==typeof t?this._by_string(t,n):this._by_range(t,n),this},t.prototype.valueOf=function(){return this.end-this.start},t.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},t.prototype.isSame=function(t){return this.start.isSame(t.start)&&this.end.isSame(t.end)},t.prototype.diff=function(t){return null==t&&(t=void 0),this.end.diff(this.start,t)},t}(),moment.fn.range=function(t,n){return t in INTERVALS?new DateRange(moment(this).startOf(t),moment(this).endOf(t)):new DateRange(t,n)},moment.range=function(t,n){return new DateRange(t,n)},moment.fn.within=function(t){return t.contains(this._d)};