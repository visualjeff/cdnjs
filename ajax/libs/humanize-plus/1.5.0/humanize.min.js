(function(){var n,e,t,r,l,u,i;l=new function(){},i=l.toString,r=function(n){return n!==n},t=function(n){return(("undefined"!=typeof window&&null!==window?window.isFinite:void 0)||global.isFinite)(n)&&!r(parseFloat(n))},e=function(n){return"[object Array]"===i.call(n)},u=[{name:"second",value:1e3},{name:"minute",value:6e4},{name:"hour",value:36e5},{name:"day",value:864e5},{name:"week",value:6048e5}],n={},n.intword=function(e,t,r){return null==r&&(r=2),n.compactInteger(e,r)},n.compactInteger=function(n,e){var t,r,l,u,i,a,o,c,f,s,d,p,m,h,b,g,v,w,z;if(null==e&&(e=0),e=Math.max(e,0),a=parseInt(n,10),d=0>a?"-":"",p=Math.abs(a),h=""+p,o=h.length,c=[13,10,7,4],t=["T","B","M","k"],1e3>p)return""+d+h;if(o>c[0]+3)return a.toExponential(e).replace("e+","x10^");for(v=0,w=c.length;w>v;v++)if(z=c[v],o>=z){i=z;break}return r=o-i+1,m=h.split(""),g=m.slice(0,r),u=m.slice(r,r+e+1),b=g.join(""),l=u.join(""),l.length<e&&(l+=""+Array(e-l.length+1).join("0")),0===e?f=""+d+b+t[c.indexOf(i)]:(s=(+(""+b+"."+l)).toFixed(e),f=""+d+s+t[c.indexOf(i)]),f},n.intcomma=n.intComma=function(e,t){return null==t&&(t=0),n.formatNumber(e,t)},n.filesize=n.fileSize=function(e){var t;return t=e>=1073741824?n.formatNumber(e/1073741824,2,"")+" GB":e>=1048576?n.formatNumber(e/1048576,2,"")+" MB":e>=1024?n.formatNumber(e/1024,0)+" KB":n.formatNumber(e,0)+n.pluralize(e," byte")},n.formatNumber=function(e,t,r,l){var u,i,a,o,c,f,s;return null==t&&(t=0),null==r&&(r=","),null==l&&(l="."),o=function(n,e,t){return t?n.substr(0,t)+e:""},i=function(n,e,t){return n.substr(t).replace(/(\d{3})(?=\d)/g,"$1"+e)},a=function(e,t,r){return r?t+n.toFixed(Math.abs(e),r).split(".")[1]:""},s=n.normalizePrecision(t),f=0>e&&"-"||"",u=parseInt(n.toFixed(Math.abs(e||0),s),10)+"",c=u.length>3?u.length%3:0,f+o(u,r,c)+i(u,r,c)+a(e,l,s)},n.toFixed=function(e,t){var r;return null==t&&(t=n.normalizePrecision(t,0)),r=Math.pow(10,t),(Math.round(e*r)/r).toFixed(t)},n.normalizePrecision=function(n,e){return n=Math.round(Math.abs(n)),r(n)?e:n},n.ordinal=function(n){var e,t,r,l;if(r=parseInt(n,10),0===r)return n;if(l=r%100,11===l||12===l||13===l)return""+r+"th";switch(t=r%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break;default:e="th"}return""+r+e},n.times=function(n,e){var r,l,u;return null==e&&(e={}),t(n)&&n>=0?(r=parseFloat(n),l=["never","once","twice"],null!=e[r]?""+e[r]:""+((null!=(u=l[r])?u.toString():void 0)||r.toString()+" times")):void 0},n.pluralize=function(n,e,t){return null!=n&&null!=e?(null==t&&(t=e+"s"),1===parseInt(n,10)?e:t):void 0},n.truncate=function(n,e,t){return null==e&&(e=100),null==t&&(t="..."),n.length>e?n.substring(0,e-t.length)+t:n},n.truncatewords=n.truncateWords=function(n,e){var t,r,l;for(t=n.split(" "),l="",r=0;e>r;)null!=t[r]&&(l+=""+t[r]+" "),r++;return t.length>e?l+="...":void 0},n.truncatenumber=n.boundedNumber=function(n,e,r){var l;return null==e&&(e=100),null==r&&(r="+"),l=null,t(n)&&t(e)&&n>e&&(l=e+r),(l||n).toString()},n.oxford=function(e,t,r){var l,u,i;return i=e.length,2>i?""+e:2===i?e.join(" and "):(null!=t&&i>t?(l=i-t,u=t,null==r&&(r=", and "+l+" "+n.pluralize(l,"other"))):(u=-1,r=", and "+e[i-1]),e.slice(0,u).join(", ")+r)},n.dictionary=function(n,e,t){var r,l,u,i;if(null==e&&(e=" is "),null==t&&(t=", "),u="",null!=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)){r=[];for(l in n)i=n[l],r.push(""+l+e+i);u=r.join(t)}return u},n.frequency=function(t,r){var l,u,i;if(e(t))return l=t.length,i=n.times(l),u=0===l?""+i+" "+r:""+r+" "+i},n.pace=function(e,t,r){var l,i,a,o,c,f,s,d;if(null==r&&(r="time"),0===e||0===t)return"No "+n.pluralize(r);for(i="Approximately",f=null,a=e/t,s=0,d=u.length;d>s;s++)if(l=u[s],o=a*l.value,o>1){f=l.name;break}return f||(i="Less than",o=1,f=u[u.length-1].name),c=Math.round(o),r=n.pluralize(c,r),""+i+" "+c+" "+r+" per "+f},n.nl2br=function(n,e){return null==e&&(e="<br/>"),n.replace(/\n/g,e)},n.br2nl=function(n,e){return null==e&&(e="\r\n"),n.replace(/\<br\s*\/?\>/g,e)},n.capitalize=function(n,e){return null==e&&(e=!1),""+n.charAt(0).toUpperCase()+(e?n.slice(1).toLowerCase():n.slice(1))},n.capitalizeAll=function(n){return n.replace(/(?:^|\s)\S/g,function(n){return n.toUpperCase()})},n.titlecase=n.titleCase=function(e){var t,r,l,u,i;return l=/\b(a|an|and|at|but|by|de|en|for|if|in|of|on|or|the|to|via|vs?\.?)\b/i,r=/\S+[A-Z]+\S*/,i=/\s+/,u=/-/,(t=function(e,a,o){var c,f,s,d,p,m;for(null==a&&(a=!1),null==o&&(o=!0),s=[],f=e.split(a?u:i),c=p=0,m=f.length;m>p;c=++p)d=f[c],s.push(-1===d.indexOf("-")?!o||0!==c&&c!==f.length-1?r.test(d)?d:l.test(d)?d.toLowerCase():n.capitalize(d):r.test(d)?d:n.capitalize(d):t(d,!0,0===c||c===f.length-1));return s.join(a?"-":" ")})(e)},this.Humanize=n,"undefined"!=typeof module&&null!==module&&(module.exports=n)}).call(this);