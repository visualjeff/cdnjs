{"version":3,"file":"ZeroClipboard.min.js","sources":["ZeroClipboard.js"],"names":["window","undefined","_currentElement","_window","_document","document","_navigator","navigator","_setTimeout","setTimeout","_parseInt","Number","parseInt","_parseFloat","parseFloat","_isNaN","isNaN","_encodeURIComponent","encodeURIComponent","_slice","Array","prototype","slice","_keys","Object","keys","_hasOwn","hasOwnProperty","_defineProperty","defineProperty","_Math","Math","_Date","Date","_ActiveXObject","ActiveXObject","_args","argumentsObj","call","_inArray","item","array","fromIndex","indexOf","i","len","length","_extend","arg","prop","src","copy","args","arguments","target","_deepCopy","source","_pick","obj","newObj","_omit","_objectKeys","push","_deleteOwnProperties","_makeReadOnly","value","writable","configurable","enumerable","_now","time","now","getTime","_flashState","bridge","version","pluginType","disabled","outdated","unavailable","deactivated","overdue","ready","_minimumFlashVersion","_handlers","_clipData","_clipDataFormatMap","_eventMessages","error","flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue","_swfPath","jsDir","tmpJsPath","jsPath","swfPath","currentScript","scripts","getElementsByTagName","readyState","split","lastIndexOf","_globalConfig","trustedDomains","location","host","cacheBust","forceEnhancedClipboard","flashLoadTimeout","forceHandCursor","title","zIndex","hoverClass","activeClass","_config","options","_state","browser","flash","zeroclipboard","ZeroClipboard","config","_isFlashUnusable","_on","eventType","listener","events","added","toLowerCase","on","replace","emit","type","errorTypes","name","_off","foundIndex","perEventHandlers","off","splice","_listeners","_emit","event","eventCopy","returnVal","tmp","_createEvent","_preprocessEvent","_dispatchCallbacks","_mapClipDataToFlash","data","formatMap","_create","isFlashUnusable","maxWait","_embedSwf","_destroy","clearData","deactivate","_unembedSwf","_setData","format","dataObj","dataFormat","_clearData","_activate","element","nodeType","_removeClass","_addClass","_reposition","newTitle","getAttribute","htmlBridge","_getHtmlBridge","setAttribute","useHandCursor","_getStyle","_setHandCursor","_deactivate","removeAttribute","style","left","top","width","relatedTarget","currentTarget","timeStamp","msg","message","test","minimumVersion","clipboardData","setData","_mapClipResultsFromFlash","_getRelatedTarget","targetEl","relatedTargetId","getElementById","_shouldPerformAsync","_dispatchCallback","func","context","async","apply","wildcardTypeHandlers","specificTypeHandlers","handlers","concat","originalContext","this","handleEvent","wasDeactivated","textContent","htmlContent","outerHTML","innerHTML","innerText","_safeActiveElement","focus","_createHtmlBridge","container","createElement","id","className","position","height","_getSafeZIndex","flashBridge","parentNode","nodeName","allowScriptAccess","_determineScriptAccess","allowNetworking","flashvars","_vars","swfUrl","_cacheBust","divToBeReplaced","appendChild","body","tmpDiv","oldIE","firstChild","replaceChild","display","removeSwfFromIE","removeChild","clipData","newClipData","text","html","rtf","clipResults","newResults","tmpHash","path","domain","domains","str","trustedOriginsExpanded","_extractDomain","protocol","join","originOrUrl","protocolIndex","pathIndex","_extractAllDomains","origins","resultsArray","currentDomain","configOptions","swfDomain","trustedOrigins","activeElement","err","classList","contains","add","classNames","setClass","c","cl","remove","_camelizeCssPropName","matcherRegex","replacerFn","match","group","toUpperCase","el","camelProp","tagName","getComputedStyle","getPropertyValue","currentStyle","_getZoomFactor","rect","physicalWidth","logicalWidth","zoomFactor","getBoundingClientRect","right","offsetWidth","round","_getDOMObjectPosition","info","pageXOffset","pageYOffset","documentElement","scrollLeft","scrollTop","leftBorderWidth","clientLeft","topBorderWidth","clientTop","bottom","pos","enabled","setHandCursor","val","_detectFlashSupport","parseFlashVersion","desc","matches","isPepperFlash","flashPlayerFileName","inspectPlugin","plugin","hasFlash","flashVersion","description","filename","isPPAPI","ax","mimeType","isActiveX","plugins","mimeTypes","enabledPlugin","GetVariable","e1","e2","e3","_createClient","state","create","destroy","activate","_clientIdCounter","_clientMeta","_elementIdCounter","_elementMeta","_mouseHandlers","autoActivate","_clientConstructor","elements","client","instance","clip","_clientOn","_clientOff","_clientListeners","_clientEmit","_clientShouldEmit","_clientDispatchCallbacks","_clientClip","_prepClip","zcClippingId","_addMouseHandlers","clippedElements","_clientUnclip","meta","arrayIndex","clientIds","_removeMouseHandlers","_clientElements","_clientDestroy","unclip","clippedEls","hasClippedEls","goodTarget","goodRelTarget","goodClient","_addEventHandler","method","addEventListener","attachEvent","_removeEventHandler","removeEventListener","detachEvent","_elementMouseOver","_elementMouseDown","_elementMouseUp","_elementMouseOut","relTarget","toElement","mouseover","mouseout","mousedown","mouseup","mouseHandlers","setText","setHtml","setRichText","richText","define","amd","module","exports"],"mappings":"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","sourcesContent":["/*!\n * ZeroClipboard\n * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.\n * Copyright (c) 2014 Jon Rohan, James M. Greene\n * Licensed MIT\n * http://zeroclipboard.org/\n * v2.0.0-beta.6\n */\n(function(window, undefined) {\n  \"use strict\";\n  /**\n * Store references to critically important global functions that may be\n * overridden on certain web pages.\n */\n  var _window = window, _document = _window.document, _navigator = _window.navigator, _setTimeout = _window.setTimeout, _parseInt = _window.Number.parseInt || _window.parseInt, _parseFloat = _window.Number.parseFloat || _window.parseFloat, _isNaN = _window.Number.isNaN || _window.isNaN, _encodeURIComponent = _window.encodeURIComponent, _slice = _window.Array.prototype.slice, _keys = _window.Object.keys, _hasOwn = _window.Object.prototype.hasOwnProperty, _defineProperty = _window.Object.defineProperty, _Math = _window.Math, _Date = _window.Date, _ActiveXObject = _window.ActiveXObject;\n  /**\n * Convert an `arguments` object into an Array.\n *\n * @returns The arguments as an Array\n * @private\n */\n  var _args = function(argumentsObj) {\n    return _slice.call(argumentsObj, 0);\n  };\n  /**\n * Get the index of an item in an Array.\n *\n * @returns The index of an item in the Array, or `-1` if not found.\n * @private\n */\n  var _inArray = function(item, array, fromIndex) {\n    if (typeof array.indexOf === \"function\") {\n      return array.indexOf(item, fromIndex);\n    }\n    var i, len = array.length;\n    if (typeof fromIndex === \"undefined\") {\n      fromIndex = 0;\n    } else if (fromIndex < 0) {\n      fromIndex = len + fromIndex;\n    }\n    for (i = fromIndex; i < len; i++) {\n      if (_hasOwn.call(array, i) && array[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  /**\n * Shallow-copy the owned, enumerable properties of one object over to another, similar to jQuery's `$.extend`.\n *\n * @returns The target object, augmented\n * @private\n */\n  var _extend = function() {\n    var i, len, arg, prop, src, copy, args = _args(arguments), target = args[0] || {};\n    for (i = 1, len = args.length; i < len; i++) {\n      if ((arg = args[i]) != null) {\n        for (prop in arg) {\n          if (_hasOwn.call(arg, prop)) {\n            src = target[prop];\n            copy = arg[prop];\n            if (target === copy) {\n              continue;\n            }\n            if (copy !== undefined) {\n              target[prop] = copy;\n            }\n          }\n        }\n      }\n    }\n    return target;\n  };\n  /**\n * Return a deep copy of the source object or array.\n *\n * @returns Object or Array\n * @private\n */\n  var _deepCopy = function(source) {\n    var copy, i, len, prop;\n    if (typeof source !== \"object\" || source == null) {\n      copy = source;\n    } else if (typeof source.length === \"number\") {\n      copy = [];\n      for (i = 0, len = source.length; i < len; i++) {\n        if (_hasOwn.call(source, i)) {\n          copy[i] = _deepCopy(source[i]);\n        }\n      }\n    } else {\n      copy = {};\n      for (prop in source) {\n        if (_hasOwn.call(source, prop)) {\n          copy[prop] = _deepCopy(source[prop]);\n        }\n      }\n    }\n    return copy;\n  };\n  /**\n * Makes a shallow copy of `obj` (like `_extend`) but filters its properties based on a list of `keys` to keep.\n * The inverse of `_omit`, mostly. The big difference is that these properties do NOT need to be enumerable to\n * be kept.\n *\n * @returns A new filtered object.\n * @private\n */\n  var _pick = function(obj, keys) {\n    var newObj = {};\n    for (var i = 0, len = keys.length; i < len; i++) {\n      if (keys[i] in obj) {\n        newObj[keys[i]] = obj[keys[i]];\n      }\n    }\n    return newObj;\n  };\n  /**\n * Makes a shallow copy of `obj` (like `_extend`) but filters its properties based on a list of `keys` to omit.\n * The inverse of `_pick`.\n *\n * @returns A new filtered object.\n * @private\n */\n  var _omit = function(obj, keys) {\n    var newObj = {};\n    for (var prop in obj) {\n      if (_inArray(prop, keys) === -1) {\n        newObj[prop] = obj[prop];\n      }\n    }\n    return newObj;\n  };\n  /**\n * Get all of an object's owned, enumerable property names. Does NOT include prototype properties.\n *\n * @returns An Array of property names.\n * @private\n */\n  var _objectKeys = function(obj) {\n    if (obj == null) {\n      return [];\n    }\n    if (_keys) {\n      return _keys(obj);\n    }\n    var keys = [];\n    for (var prop in obj) {\n      if (_hasOwn.call(obj, prop)) {\n        keys.push(prop);\n      }\n    }\n    return keys;\n  };\n  /**\n * Remove all owned, enumerable properties from an object.\n *\n * @returns The original object without its owned, enumerable properties.\n * @private\n */\n  var _deleteOwnProperties = function(obj) {\n    if (obj) {\n      for (var prop in obj) {\n        if (_hasOwn.call(obj, prop)) {\n          delete obj[prop];\n        }\n      }\n    }\n    return obj;\n  };\n  /**\n * Mark an existing property as read-only.\n * @private\n */\n  var _makeReadOnly = function(obj, prop) {\n    if (prop in obj && typeof _defineProperty === \"function\") {\n      _defineProperty(obj, prop, {\n        value: obj[prop],\n        writable: false,\n        configurable: true,\n        enumerable: true\n      });\n    }\n  };\n  /**\n * Get the current time in milliseconds since the epoch.\n *\n * @returns Number\n * @private\n */\n  var _now = function(Date) {\n    return function() {\n      var time;\n      if (Date.now) {\n        time = Date.now();\n      } else {\n        time = new Date().getTime();\n      }\n      return time;\n    };\n  }(_Date);\n  /**\n * Keep track of the state of the Flash object.\n * @private\n */\n  var _flashState = {\n    bridge: null,\n    version: \"0.0.0\",\n    pluginType: \"unknown\",\n    disabled: null,\n    outdated: null,\n    unavailable: null,\n    deactivated: null,\n    overdue: null,\n    ready: null\n  };\n  /**\n * \n * @private\n */\n  var _minimumFlashVersion = \"11.0.0\";\n  /**\n * Keep track of all event listener registrations.\n * @private\n */\n  var _handlers = {};\n  /**\n * Keep track of the currently activated element.\n * @private\n */\n  var _currentElement;\n  /**\n * Keep track of data for the pending clipboard transaction.\n * @private\n */\n  var _clipData = {};\n  /**\n * Keep track of data formats for the pending clipboard transaction.\n * @private\n */\n  var _clipDataFormatMap = null;\n  /**\n * The `message` store for events\n * @private\n */\n  var _eventMessages = {\n    ready: \"Flash communication is established\",\n    error: {\n      \"flash-disabled\": \"Flash is disabled or not installed\",\n      \"flash-outdated\": \"Flash is too outdated to support ZeroClipboard\",\n      \"flash-unavailable\": \"Flash is unable to communicate bidirectionally with JavaScript\",\n      \"flash-deactivated\": \"Flash is too outdated for your browser and/or is configured as click-to-activate\",\n      \"flash-overdue\": \"Flash communication was established but NOT within the acceptable time limit\"\n    }\n  };\n  /**\n * The presumed location of the \"ZeroClipboard.swf\" file, based on the location\n * of the executing JavaScript file (e.g. \"ZeroClipboard.js\", etc.).\n * @private\n */\n  var _swfPath = function() {\n    var i, jsDir, tmpJsPath, jsPath, swfPath = \"ZeroClipboard.swf\";\n    if (!(_document.currentScript && (jsPath = _document.currentScript.src))) {\n      var scripts = _document.getElementsByTagName(\"script\");\n      if (\"readyState\" in scripts[0]) {\n        for (i = scripts.length; i--; ) {\n          if (scripts[i].readyState === \"interactive\" && (jsPath = scripts[i].src)) {\n            break;\n          }\n        }\n      } else if (_document.readyState === \"loading\") {\n        jsPath = scripts[scripts.length - 1].src;\n      } else {\n        for (i = scripts.length; i--; ) {\n          tmpJsPath = scripts[i].src;\n          if (!tmpJsPath) {\n            jsDir = null;\n            break;\n          }\n          tmpJsPath = tmpJsPath.split(\"#\")[0].split(\"?\")[0];\n          tmpJsPath = tmpJsPath.slice(0, tmpJsPath.lastIndexOf(\"/\") + 1);\n          if (jsDir == null) {\n            jsDir = tmpJsPath;\n          } else if (jsDir !== tmpJsPath) {\n            jsDir = null;\n            break;\n          }\n        }\n        if (jsDir !== null) {\n          jsPath = jsDir;\n        }\n      }\n    }\n    if (jsPath) {\n      jsPath = jsPath.split(\"#\")[0].split(\"?\")[0];\n      swfPath = jsPath.slice(0, jsPath.lastIndexOf(\"/\") + 1) + swfPath;\n    }\n    return swfPath;\n  }();\n  /**\n * ZeroClipboard configuration defaults for the Core module.\n * @private\n */\n  var _globalConfig = {\n    swfPath: _swfPath,\n    trustedDomains: _window.location.host ? [ _window.location.host ] : [],\n    cacheBust: true,\n    forceEnhancedClipboard: false,\n    flashLoadTimeout: 3e4,\n    forceHandCursor: false,\n    title: null,\n    zIndex: 999999999,\n    /**\n   * @deprecated in [v1.3.0], slated for removal in [v2.0.0]. See docs for alternatives.\n   */\n    hoverClass: \"zeroclipboard-is-hover\",\n    /**\n   * @deprecated in [v1.3.0], slated for removal in [v2.0.0]. See docs for alternatives.\n   */\n    activeClass: \"zeroclipboard-is-active\"\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.config`.\n * @private\n */\n  var _config = function(options) {\n    if (typeof options === \"object\" && options !== null) {\n      _extend(_globalConfig, options);\n    }\n    if (typeof options === \"string\" && options) {\n      if (_hasOwn.call(_globalConfig, options)) {\n        return _globalConfig[options];\n      }\n      return;\n    }\n    return _deepCopy(_globalConfig);\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.state`.\n * @private\n */\n  var _state = function() {\n    return {\n      browser: _pick(_navigator, [ \"userAgent\", \"platform\", \"appName\" ]),\n      flash: _omit(_flashState, [ \"bridge\" ]),\n      zeroclipboard: {\n        version: ZeroClipboard.version,\n        config: ZeroClipboard.config()\n      }\n    };\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.isFlashUnusable`.\n * @private\n */\n  var _isFlashUnusable = function() {\n    return !!(_flashState.disabled || _flashState.outdated || _flashState.unavailable || _flashState.deactivated);\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.on`.\n * @private\n */\n  var _on = function(eventType, listener) {\n    var i, len, events, added = {};\n    if (typeof eventType === \"string\" && eventType) {\n      events = eventType.toLowerCase().split(/\\s+/);\n    } else if (typeof eventType === \"object\" && eventType && typeof listener === \"undefined\") {\n      for (i in eventType) {\n        if (_hasOwn.call(eventType, i) && typeof i === \"string\" && i && typeof eventType[i] === \"function\") {\n          ZeroClipboard.on(i, eventType[i]);\n        }\n      }\n    }\n    if (events && events.length) {\n      for (i = 0, len = events.length; i < len; i++) {\n        eventType = events[i].replace(/^on/, \"\");\n        added[eventType] = true;\n        if (!_handlers[eventType]) {\n          _handlers[eventType] = [];\n        }\n        _handlers[eventType].push(listener);\n      }\n      if (added.ready && _flashState.ready) {\n        ZeroClipboard.emit({\n          type: \"ready\"\n        });\n      }\n      if (added.error) {\n        var errorTypes = [ \"disabled\", \"outdated\", \"unavailable\", \"deactivated\", \"overdue\" ];\n        for (i = 0, len = errorTypes.length; i < len; i++) {\n          if (_flashState[errorTypes[i]] === true) {\n            ZeroClipboard.emit({\n              type: \"error\",\n              name: \"flash-\" + errorTypes[i]\n            });\n            break;\n          }\n        }\n      }\n    }\n    return ZeroClipboard;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.off`.\n * @private\n */\n  var _off = function(eventType, listener) {\n    var i, len, foundIndex, events, perEventHandlers;\n    if (arguments.length === 0) {\n      events = _objectKeys(_handlers);\n    } else if (typeof eventType === \"string\" && eventType) {\n      events = eventType.split(/\\s+/);\n    } else if (typeof eventType === \"object\" && eventType && typeof listener === \"undefined\") {\n      for (i in eventType) {\n        if (_hasOwn.call(eventType, i) && typeof i === \"string\" && i && typeof eventType[i] === \"function\") {\n          ZeroClipboard.off(i, eventType[i]);\n        }\n      }\n    }\n    if (events && events.length) {\n      for (i = 0, len = events.length; i < len; i++) {\n        eventType = events[i].toLowerCase().replace(/^on/, \"\");\n        perEventHandlers = _handlers[eventType];\n        if (perEventHandlers && perEventHandlers.length) {\n          if (listener) {\n            foundIndex = _inArray(listener, perEventHandlers);\n            while (foundIndex !== -1) {\n              perEventHandlers.splice(foundIndex, 1);\n              foundIndex = _inArray(listener, perEventHandlers, foundIndex);\n            }\n          } else {\n            perEventHandlers.length = 0;\n          }\n        }\n      }\n    }\n    return ZeroClipboard;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.handlers`.\n * @private\n */\n  var _listeners = function(eventType) {\n    var copy;\n    if (typeof eventType === \"string\" && eventType) {\n      copy = _deepCopy(_handlers[eventType]) || null;\n    } else {\n      copy = _deepCopy(_handlers);\n    }\n    return copy;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.emit`.\n * @private\n */\n  var _emit = function(event) {\n    var eventCopy, returnVal, tmp;\n    event = _createEvent(event);\n    if (!event) {\n      return;\n    }\n    _preprocessEvent(event);\n    if (event.type === \"ready\" && _flashState.overdue === true) {\n      return ZeroClipboard.emit({\n        type: \"error\",\n        name: \"flash-overdue\"\n      });\n    }\n    eventCopy = _extend({}, event);\n    _dispatchCallbacks(eventCopy);\n    if (event.type === \"copy\") {\n      tmp = _mapClipDataToFlash(_clipData);\n      returnVal = tmp.data;\n      _clipDataFormatMap = tmp.formatMap;\n    }\n    return returnVal;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.create`.\n * @private\n */\n  var _create = function() {\n    if (typeof _flashState.ready !== \"boolean\") {\n      _flashState.ready = false;\n    }\n    if (!ZeroClipboard.isFlashUnusable() && _flashState.bridge === null) {\n      var maxWait = _globalConfig.flashLoadTimeout;\n      if (typeof maxWait === \"number\" && maxWait >= 0) {\n        _setTimeout(function() {\n          if (typeof _flashState.deactivated !== \"boolean\") {\n            _flashState.deactivated = true;\n          }\n          if (_flashState.deactivated === true) {\n            ZeroClipboard.emit({\n              type: \"error\",\n              name: \"flash-deactivated\"\n            });\n          }\n        }, maxWait);\n      }\n      _flashState.overdue = false;\n      _embedSwf();\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.destroy`.\n * @private\n */\n  var _destroy = function() {\n    ZeroClipboard.clearData();\n    ZeroClipboard.deactivate();\n    ZeroClipboard.emit(\"destroy\");\n    _unembedSwf();\n    ZeroClipboard.off();\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.setData`.\n * @private\n */\n  var _setData = function(format, data) {\n    var dataObj;\n    if (typeof format === \"object\" && format && typeof data === \"undefined\") {\n      dataObj = format;\n      ZeroClipboard.clearData();\n    } else if (typeof format === \"string\" && format) {\n      dataObj = {};\n      dataObj[format] = data;\n    } else {\n      return;\n    }\n    for (var dataFormat in dataObj) {\n      if (typeof dataFormat === \"string\" && dataFormat && _hasOwn.call(dataObj, dataFormat) && typeof dataObj[dataFormat] === \"string\" && dataObj[dataFormat]) {\n        _clipData[dataFormat] = dataObj[dataFormat];\n      }\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.clearData`.\n * @private\n */\n  var _clearData = function(format) {\n    if (typeof format === \"undefined\") {\n      _deleteOwnProperties(_clipData);\n      _clipDataFormatMap = null;\n    } else if (typeof format === \"string\" && _hasOwn.call(_clipData, format)) {\n      delete _clipData[format];\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.activate`.\n * @private\n */\n  var _activate = function(element) {\n    if (!(element && element.nodeType === 1)) {\n      return;\n    }\n    if (_currentElement) {\n      _removeClass(_currentElement, _globalConfig.hoverClass);\n      _removeClass(_currentElement, _globalConfig.activeClass);\n    }\n    _currentElement = element;\n    _addClass(element, _globalConfig.hoverClass);\n    _reposition();\n    var newTitle = element.getAttribute(\"title\") || _globalConfig.title;\n    if (typeof newTitle === \"string\" && newTitle) {\n      var htmlBridge = _getHtmlBridge(_flashState.bridge);\n      if (htmlBridge) {\n        htmlBridge.setAttribute(\"title\", newTitle);\n      }\n    }\n    var useHandCursor = _globalConfig.forceHandCursor === true || _getStyle(element, \"cursor\") === \"pointer\";\n    _setHandCursor(useHandCursor);\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.deactivate`.\n * @private\n */\n  var _deactivate = function() {\n    var htmlBridge = _getHtmlBridge(_flashState.bridge);\n    if (htmlBridge) {\n      htmlBridge.removeAttribute(\"title\");\n      htmlBridge.style.left = \"0px\";\n      htmlBridge.style.top = \"-9999px\";\n      htmlBridge.style.width = \"1px\";\n      htmlBridge.style.top = \"1px\";\n    }\n    if (_currentElement) {\n      _removeClass(_currentElement, _globalConfig.hoverClass);\n      _removeClass(_currentElement, _globalConfig.activeClass);\n      _currentElement = null;\n    }\n  };\n  /**\n * Create or update an `event` object, based on the `eventType`.\n * @private\n */\n  var _createEvent = function(event) {\n    var eventType;\n    if (typeof event === \"string\" && event) {\n      eventType = event;\n      event = {};\n    } else if (typeof event === \"object\" && event && typeof event.type === \"string\" && event.type) {\n      eventType = event.type;\n    }\n    if (!eventType) {\n      return;\n    }\n    _extend(event, {\n      type: eventType.toLowerCase(),\n      target: event.target || _currentElement || null,\n      relatedTarget: event.relatedTarget || null,\n      currentTarget: _flashState && _flashState.bridge || null,\n      timeStamp: event.timeStamp || _now() || null\n    });\n    var msg = _eventMessages[event.type];\n    if (event.type === \"error\" && event.name && msg) {\n      msg = msg[event.name];\n    }\n    if (msg) {\n      event.message = msg;\n    }\n    if (event.type === \"ready\") {\n      _extend(event, {\n        target: null,\n        version: _flashState.version\n      });\n    }\n    if (event.type === \"error\") {\n      if (/^flash-(outdated|unavailable|deactivated|overdue)$/.test(event.name)) {\n        _extend(event, {\n          target: null,\n          version: _flashState.version,\n          minimumVersion: _minimumFlashVersion\n        });\n      }\n    }\n    if (event.type === \"copy\") {\n      event.clipboardData = {\n        setData: ZeroClipboard.setData,\n        clearData: ZeroClipboard.clearData\n      };\n    }\n    if (event.type === \"aftercopy\") {\n      event = _mapClipResultsFromFlash(event, _clipDataFormatMap);\n    }\n    if (event.target && !event.relatedTarget) {\n      event.relatedTarget = _getRelatedTarget(event.target);\n    }\n    return event;\n  };\n  /**\n * Get a relatedTarget from the target's `data-clipboard-target` attribute\n * @private\n */\n  var _getRelatedTarget = function(targetEl) {\n    var relatedTargetId = targetEl && targetEl.getAttribute && targetEl.getAttribute(\"data-clipboard-target\");\n    return relatedTargetId ? _document.getElementById(relatedTargetId) : null;\n  };\n  /**\n * Determine if an event's registered handlers should be execute synchronously or asynchronously. \n *\n * @returns {boolean}\n * @private\n */\n  var _shouldPerformAsync = function(event) {\n    var eventType = event && typeof event.type === \"string\" && event.type || \"\";\n    return !/^(?:(?:before)?copy|destroy)$/.test(eventType);\n  };\n  /**\n * Control if a callback should be executed asynchronously or not.\n *\n * @returns `undefined`\n * @private\n */\n  var _dispatchCallback = function(func, context, args, async) {\n    if (async) {\n      _setTimeout(function() {\n        func.apply(context, args);\n      }, 0);\n    } else {\n      func.apply(context, args);\n    }\n  };\n  /**\n * Handle the actual dispatching of events to client instances.\n *\n * @returns `undefined`\n * @private\n */\n  var _dispatchCallbacks = function(event) {\n    if (!(typeof event === \"object\" && event && event.type)) {\n      return;\n    }\n    var async = _shouldPerformAsync(event);\n    var wildcardTypeHandlers = _handlers[\"*\"] || [];\n    var specificTypeHandlers = _handlers[event.type] || [];\n    var handlers = wildcardTypeHandlers.concat(specificTypeHandlers);\n    if (handlers && handlers.length) {\n      var i, len, func, context, eventCopy, originalContext = this;\n      for (i = 0, len = handlers.length; i < len; i++) {\n        func = handlers[i];\n        context = originalContext;\n        if (typeof func === \"string\" && typeof _window[func] === \"function\") {\n          func = _window[func];\n        }\n        if (typeof func === \"object\" && func && typeof func.handleEvent === \"function\") {\n          context = func;\n          func = func.handleEvent;\n        }\n        if (typeof func === \"function\") {\n          eventCopy = _extend({}, event);\n          _dispatchCallback(func, context, [ eventCopy ], async);\n        }\n      }\n    }\n    return this;\n  };\n  /**\n * Preprocess any special behaviors, reactions, or state changes after receiving this event.\n * Executes only once per event emitted, NOT once per client.\n * @private\n */\n  var _preprocessEvent = function(event) {\n    var element = event.target || _currentElement || null;\n    switch (event.type) {\n     case \"error\":\n      if (_inArray(event.name, [ \"flash-disabled\", \"flash-outdated\", \"flash-deactivated\", \"flash-overdue\" ])) {\n        _extend(_flashState, {\n          disabled: event.name === \"flash-disabled\",\n          outdated: event.name === \"flash-outdated\",\n          unavailable: event.name === \"flash-unavailable\",\n          deactivated: event.name === \"flash-deactivated\",\n          overdue: event.name === \"flash-overdue\",\n          ready: false\n        });\n      }\n      break;\n\n     case \"ready\":\n      var wasDeactivated = _flashState.deactivated === true;\n      _extend(_flashState, {\n        disabled: false,\n        outdated: false,\n        unavailable: false,\n        deactivated: false,\n        overdue: wasDeactivated,\n        ready: !wasDeactivated\n      });\n      break;\n\n     case \"copy\":\n      var textContent, htmlContent, targetEl = event.relatedTarget;\n      if (!(_clipData[\"text/html\"] || _clipData[\"text/plain\"]) && targetEl && (htmlContent = targetEl.value || targetEl.outerHTML || targetEl.innerHTML) && (textContent = targetEl.value || targetEl.textContent || targetEl.innerText)) {\n        event.clipboardData.clearData();\n        event.clipboardData.setData(\"text/plain\", textContent);\n        if (htmlContent !== textContent) {\n          event.clipboardData.setData(\"text/html\", htmlContent);\n        }\n      } else if (!_clipData[\"text/plain\"] && event.target && (textContent = event.target.getAttribute(\"data-clipboard-text\"))) {\n        event.clipboardData.clearData();\n        event.clipboardData.setData(\"text/plain\", textContent);\n      }\n      break;\n\n     case \"aftercopy\":\n      ZeroClipboard.clearData();\n      if (element && element !== _safeActiveElement() && element.focus) {\n        element.focus();\n      }\n      break;\n    }\n  };\n  /**\n * Create the HTML bridge element to embed the Flash object into.\n * @private\n */\n  var _createHtmlBridge = function() {\n    var container = _document.createElement(\"div\");\n    container.id = \"global-zeroclipboard-html-bridge\";\n    container.className = \"global-zeroclipboard-container\";\n    container.style.position = \"absolute\";\n    container.style.left = \"0px\";\n    container.style.top = \"-9999px\";\n    container.style.width = \"1px\";\n    container.style.height = \"1px\";\n    container.style.zIndex = \"\" + _getSafeZIndex(_globalConfig.zIndex);\n    return container;\n  };\n  /**\n * Get the HTML element container that wraps the Flash bridge object/element.\n * @private\n */\n  var _getHtmlBridge = function(flashBridge) {\n    var htmlBridge = flashBridge && flashBridge.parentNode;\n    while (htmlBridge && htmlBridge.nodeName === \"OBJECT\" && htmlBridge.parentNode) {\n      htmlBridge = htmlBridge.parentNode;\n    }\n    return htmlBridge || null;\n  };\n  /**\n * Create the SWF object.\n *\n * @returns The SWF object reference.\n * @private\n */\n  var _embedSwf = function() {\n    var len, container = _document.getElementById(\"global-zeroclipboard-html-bridge\"), flashBridge = _flashState.bridge;\n    if (!flashBridge) {\n      var allowScriptAccess = _determineScriptAccess(_window.location.host, _globalConfig);\n      var allowNetworking = allowScriptAccess === \"never\" ? \"none\" : \"all\";\n      var flashvars = _vars(_globalConfig);\n      var swfUrl = _globalConfig.swfPath + _cacheBust(_globalConfig.swfPath, _globalConfig);\n      container = _createHtmlBridge();\n      var divToBeReplaced = _document.createElement(\"div\");\n      container.appendChild(divToBeReplaced);\n      _document.body.appendChild(container);\n      var tmpDiv = _document.createElement(\"div\");\n      var oldIE = _flashState.pluginType === \"activex\";\n      tmpDiv.innerHTML = '<object id=\"global-zeroclipboard-flash-bridge\" name=\"global-zeroclipboard-flash-bridge\" ' + 'width=\"100%\" height=\"100%\" ' + (oldIE ? 'classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"' : 'type=\"application/x-shockwave-flash\" data=\"' + swfUrl + '\"') + \">\" + (oldIE ? '<param name=\"movie\" value=\"' + swfUrl + '\"/>' : \"\") + '<param name=\"allowScriptAccess\" value=\"' + allowScriptAccess + '\"/>' + '<param name=\"allowNetworking\" value=\"' + allowNetworking + '\"/>' + '<param name=\"menu\" value=\"false\"/>' + '<param name=\"wmode\" value=\"transparent\"/>' + '<param name=\"flashvars\" value=\"' + flashvars + '\"/>' + \"</object>\";\n      flashBridge = tmpDiv.firstChild;\n      tmpDiv = null;\n      flashBridge.ZeroClipboard = ZeroClipboard;\n      container.replaceChild(flashBridge, divToBeReplaced);\n    }\n    if (!flashBridge) {\n      flashBridge = _document[\"global-zeroclipboard-flash-bridge\"];\n      if (flashBridge && (len = flashBridge.length)) {\n        flashBridge = flashBridge[len - 1];\n      }\n      if (!flashBridge && container) {\n        flashBridge = container.firstChild;\n      }\n    }\n    _flashState.bridge = flashBridge || null;\n    return flashBridge;\n  };\n  /**\n * Destroy the SWF object.\n * @private\n */\n  var _unembedSwf = function() {\n    var flashBridge = _flashState.bridge;\n    if (flashBridge) {\n      var htmlBridge = _getHtmlBridge(flashBridge);\n      if (htmlBridge) {\n        if (_flashState.pluginType === \"activex\" && \"readyState\" in flashBridge) {\n          flashBridge.style.display = \"none\";\n          (function removeSwfFromIE() {\n            if (flashBridge.readyState === 4) {\n              for (var prop in flashBridge) {\n                if (typeof flashBridge[prop] === \"function\") {\n                  flashBridge[prop] = null;\n                }\n              }\n              if (flashBridge.parentNode) {\n                flashBridge.parentNode.removeChild(flashBridge);\n              }\n              if (htmlBridge.parentNode) {\n                htmlBridge.parentNode.removeChild(htmlBridge);\n              }\n            } else {\n              _setTimeout(removeSwfFromIE, 10);\n            }\n          })();\n        } else {\n          if (flashBridge.parentNode) {\n            flashBridge.parentNode.removeChild(flashBridge);\n          }\n          if (htmlBridge.parentNode) {\n            htmlBridge.parentNode.removeChild(htmlBridge);\n          }\n        }\n      }\n      _flashState.ready = null;\n      _flashState.bridge = null;\n      _flashState.deactivated = null;\n    }\n  };\n  /**\n * Map the data format names of the \"clipData\" to Flash-friendly names.\n *\n * @returns A new transformed object.\n * @private\n */\n  var _mapClipDataToFlash = function(clipData) {\n    var newClipData = {}, formatMap = {};\n    if (!(typeof clipData === \"object\" && clipData)) {\n      return;\n    }\n    for (var dataFormat in clipData) {\n      if (dataFormat && _hasOwn.call(clipData, dataFormat) && typeof clipData[dataFormat] === \"string\" && clipData[dataFormat]) {\n        switch (dataFormat.toLowerCase()) {\n         case \"text/plain\":\n         case \"text\":\n         case \"air:text\":\n         case \"flash:text\":\n          newClipData.text = clipData[dataFormat];\n          formatMap.text = dataFormat;\n          break;\n\n         case \"text/html\":\n         case \"html\":\n         case \"air:html\":\n         case \"flash:html\":\n          newClipData.html = clipData[dataFormat];\n          formatMap.html = dataFormat;\n          break;\n\n         case \"application/rtf\":\n         case \"text/rtf\":\n         case \"rtf\":\n         case \"richtext\":\n         case \"air:rtf\":\n         case \"flash:rtf\":\n          newClipData.rtf = clipData[dataFormat];\n          formatMap.rtf = dataFormat;\n          break;\n\n         default:\n          break;\n        }\n      }\n    }\n    return {\n      data: newClipData,\n      formatMap: formatMap\n    };\n  };\n  /**\n * Map the data format names from Flash-friendly names back to their original \"clipData\" names (via a format mapping).\n *\n * @returns A new transformed object.\n * @private\n */\n  var _mapClipResultsFromFlash = function(clipResults, formatMap) {\n    if (!(typeof clipResults === \"object\" && clipResults && typeof formatMap === \"object\" && formatMap)) {\n      return clipResults;\n    }\n    var newResults = {};\n    for (var prop in clipResults) {\n      if (_hasOwn.call(clipResults, prop)) {\n        if (prop !== \"success\" && prop !== \"data\") {\n          newResults[prop] = clipResults[prop];\n          continue;\n        }\n        newResults[prop] = {};\n        var tmpHash = clipResults[prop];\n        for (var dataFormat in tmpHash) {\n          if (dataFormat && _hasOwn.call(tmpHash, dataFormat) && _hasOwn.call(formatMap, dataFormat)) {\n            newResults[prop][formatMap[dataFormat]] = tmpHash[dataFormat];\n          }\n        }\n      }\n    }\n    return newResults;\n  };\n  /**\n * Will look at a path, and will create a \"?noCache={time}\" or \"&noCache={time}\"\n * query param string to return. Does NOT append that string to the original path.\n * This is useful because ExternalInterface often breaks when a Flash SWF is cached.\n *\n * @returns The `noCache` query param with necessary \"?\"/\"&\" prefix.\n * @private\n */\n  var _cacheBust = function(path, options) {\n    var cacheBust = options == null || options && options.cacheBust === true;\n    if (cacheBust) {\n      return (path.indexOf(\"?\") === -1 ? \"?\" : \"&\") + \"noCache=\" + _now();\n    } else {\n      return \"\";\n    }\n  };\n  /**\n * Creates a query string for the FlashVars param.\n * Does NOT include the cache-busting query param.\n *\n * @returns FlashVars query string\n * @private\n */\n  var _vars = function(options) {\n    var i, len, domain, domains, str = \"\", trustedOriginsExpanded = [];\n    if (options.trustedDomains) {\n      if (typeof options.trustedDomains === \"string\") {\n        domains = [ options.trustedDomains ];\n      } else if (typeof options.trustedDomains === \"object\" && \"length\" in options.trustedDomains) {\n        domains = options.trustedDomains;\n      }\n    }\n    if (domains && domains.length) {\n      for (i = 0, len = domains.length; i < len; i++) {\n        if (_hasOwn.call(domains, i) && domains[i] && typeof domains[i] === \"string\") {\n          domain = _extractDomain(domains[i]);\n          if (!domain) {\n            continue;\n          }\n          if (domain === \"*\") {\n            trustedOriginsExpanded = [ domain ];\n            break;\n          }\n          trustedOriginsExpanded.push.apply(trustedOriginsExpanded, [ domain, \"//\" + domain, _window.location.protocol + \"//\" + domain ]);\n        }\n      }\n    }\n    if (trustedOriginsExpanded.length) {\n      str += \"trustedOrigins=\" + _encodeURIComponent(trustedOriginsExpanded.join(\",\"));\n    }\n    if (options.forceEnhancedClipboard === true) {\n      str += (str ? \"&\" : \"\") + \"forceEnhancedClipboard=true\";\n    }\n    return str;\n  };\n  /**\n * Extract the domain (e.g. \"github.com\") from an origin (e.g. \"https://github.com\") or\n * URL (e.g. \"https://github.com/zeroclipboard/zeroclipboard/\").\n *\n * @returns the domain\n * @private\n */\n  var _extractDomain = function(originOrUrl) {\n    if (originOrUrl == null || originOrUrl === \"\") {\n      return null;\n    }\n    originOrUrl = originOrUrl.replace(/^\\s+|\\s+$/g, \"\");\n    if (originOrUrl === \"\") {\n      return null;\n    }\n    var protocolIndex = originOrUrl.indexOf(\"//\");\n    originOrUrl = protocolIndex === -1 ? originOrUrl : originOrUrl.slice(protocolIndex + 2);\n    var pathIndex = originOrUrl.indexOf(\"/\");\n    originOrUrl = pathIndex === -1 ? originOrUrl : protocolIndex === -1 || pathIndex === 0 ? null : originOrUrl.slice(0, pathIndex);\n    if (originOrUrl && originOrUrl.slice(-4).toLowerCase() === \".swf\") {\n      return null;\n    }\n    return originOrUrl || null;\n  };\n  /**\n * Set `allowScriptAccess` based on `trustedDomains` and `window.location.host` vs. `swfPath`.\n *\n * @returns The appropriate script access level.\n * @private\n */\n  var _determineScriptAccess = function() {\n    var _extractAllDomains = function(origins, resultsArray) {\n      var i, len, tmp;\n      if (origins == null || resultsArray[0] === \"*\") {\n        return;\n      }\n      if (typeof origins === \"string\") {\n        origins = [ origins ];\n      }\n      if (!(typeof origins === \"object\" && typeof origins.length === \"number\")) {\n        return;\n      }\n      for (i = 0, len = origins.length; i < len; i++) {\n        if (_hasOwn.call(origins, i) && (tmp = _extractDomain(origins[i]))) {\n          if (tmp === \"*\") {\n            resultsArray.length = 0;\n            resultsArray.push(\"*\");\n            break;\n          }\n          if (_inArray(tmp, resultsArray) === -1) {\n            resultsArray.push(tmp);\n          }\n        }\n      }\n    };\n    return function(currentDomain, configOptions) {\n      var swfDomain = _extractDomain(configOptions.swfPath);\n      if (swfDomain === null) {\n        swfDomain = currentDomain;\n      }\n      var trustedDomains = [];\n      _extractAllDomains(configOptions.trustedOrigins, trustedDomains);\n      _extractAllDomains(configOptions.trustedDomains, trustedDomains);\n      var len = trustedDomains.length;\n      if (len > 0) {\n        if (len === 1 && trustedDomains[0] === \"*\") {\n          return \"always\";\n        }\n        if (_inArray(currentDomain, trustedDomains) !== -1) {\n          if (len === 1 && currentDomain === swfDomain) {\n            return \"sameDomain\";\n          }\n          return \"always\";\n        }\n      }\n      return \"never\";\n    };\n  }();\n  /**\n * Get the currently active/focused DOM element.\n *\n * @returns the currently active/focused element, or `null`\n * @private\n */\n  var _safeActiveElement = function() {\n    try {\n      return _document.activeElement;\n    } catch (err) {\n      return null;\n    }\n  };\n  /**\n * @deprecated\n *\n * Add a class to an element, if it doesn't already have it.\n *\n * @returns The element, with its new class added.\n * @private\n */\n  var _addClass = function(element, value) {\n    if (!element || element.nodeType !== 1) {\n      return element;\n    }\n    if (element.classList) {\n      if (!element.classList.contains(value)) {\n        element.classList.add(value);\n      }\n      return element;\n    }\n    if (value && typeof value === \"string\") {\n      var classNames = (value || \"\").split(/\\s+/);\n      if (element.nodeType === 1) {\n        if (!element.className) {\n          element.className = value;\n        } else {\n          var className = \" \" + element.className + \" \", setClass = element.className;\n          for (var c = 0, cl = classNames.length; c < cl; c++) {\n            if (className.indexOf(\" \" + classNames[c] + \" \") < 0) {\n              setClass += \" \" + classNames[c];\n            }\n          }\n          element.className = setClass.replace(/^\\s+|\\s+$/g, \"\");\n        }\n      }\n    }\n    return element;\n  };\n  /**\n * @deprecated\n *\n * Remove a class from an element, if it has it.\n *\n * @returns The element, with its class removed.\n * @private\n */\n  var _removeClass = function(element, value) {\n    if (!element || element.nodeType !== 1) {\n      return element;\n    }\n    if (element.classList) {\n      if (element.classList.contains(value)) {\n        element.classList.remove(value);\n      }\n      return element;\n    }\n    if (typeof value === \"string\" && value) {\n      var classNames = value.split(/\\s+/);\n      if (element.nodeType === 1 && element.className) {\n        var className = (\" \" + element.className + \" \").replace(/[\\n\\t]/g, \" \");\n        for (var c = 0, cl = classNames.length; c < cl; c++) {\n          className = className.replace(\" \" + classNames[c] + \" \", \" \");\n        }\n        element.className = className.replace(/^\\s+|\\s+$/g, \"\");\n      }\n    }\n    return element;\n  };\n  /**\n * Convert standard CSS property names into the equivalent CSS property names\n * for use by oldIE and/or `el.style.{prop}`.\n *\n * NOTE: oldIE has other special cases that are not accounted for here,\n * e.g. \"float\" -> \"styleFloat\"\n *\n * @example _camelizeCssPropName(\"z-index\") -> \"zIndex\"\n *\n * @returns The CSS property name for oldIE and/or `el.style.{prop}`\n * @private\n */\n  var _camelizeCssPropName = function() {\n    var matcherRegex = /\\-([a-z])/g, replacerFn = function(match, group) {\n      return group.toUpperCase();\n    };\n    return function(prop) {\n      return prop.replace(matcherRegex, replacerFn);\n    };\n  }();\n  /**\n * Attempt to interpret the element's CSS styling. If `prop` is `\"cursor\"`,\n * then we assume that it should be a hand (\"pointer\") cursor if the element\n * is an anchor element (\"a\" tag).\n *\n * @returns The computed style property.\n * @private\n */\n  var _getStyle = function(el, prop) {\n    var value, camelProp, tagName;\n    if (_window.getComputedStyle) {\n      value = _window.getComputedStyle(el, null).getPropertyValue(prop);\n    } else {\n      camelProp = _camelizeCssPropName(prop);\n      if (el.currentStyle) {\n        value = el.currentStyle[camelProp];\n      } else {\n        value = el.style[camelProp];\n      }\n    }\n    if (prop === \"cursor\") {\n      if (!value || value === \"auto\") {\n        tagName = el.tagName.toLowerCase();\n        if (tagName === \"a\") {\n          return \"pointer\";\n        }\n      }\n    }\n    return value;\n  };\n  /**\n * Get the zoom factor of the browser. Always returns `1.0`, except at\n * non-default zoom levels in IE<8 and some older versions of WebKit.\n *\n * @returns Floating unit percentage of the zoom factor (e.g. 150% = `1.5`).\n * @private\n */\n  var _getZoomFactor = function() {\n    var rect, physicalWidth, logicalWidth, zoomFactor = 1;\n    if (typeof _document.body.getBoundingClientRect === \"function\") {\n      rect = _document.body.getBoundingClientRect();\n      physicalWidth = rect.right - rect.left;\n      logicalWidth = _document.body.offsetWidth;\n      zoomFactor = _Math.round(physicalWidth / logicalWidth * 100) / 100;\n    }\n    return zoomFactor;\n  };\n  /**\n * Get the DOM positioning info of an element.\n *\n * @returns Object containing the element's position, width, and height.\n * @private\n */\n  var _getDOMObjectPosition = function(obj) {\n    var info = {\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0\n    };\n    if (obj.getBoundingClientRect) {\n      var rect = obj.getBoundingClientRect();\n      var pageXOffset, pageYOffset, zoomFactor;\n      if (\"pageXOffset\" in _window && \"pageYOffset\" in _window) {\n        pageXOffset = _window.pageXOffset;\n        pageYOffset = _window.pageYOffset;\n      } else {\n        zoomFactor = _getZoomFactor();\n        pageXOffset = _Math.round(_document.documentElement.scrollLeft / zoomFactor);\n        pageYOffset = _Math.round(_document.documentElement.scrollTop / zoomFactor);\n      }\n      var leftBorderWidth = _document.documentElement.clientLeft || 0;\n      var topBorderWidth = _document.documentElement.clientTop || 0;\n      info.left = rect.left + pageXOffset - leftBorderWidth;\n      info.top = rect.top + pageYOffset - topBorderWidth;\n      info.width = \"width\" in rect ? rect.width : rect.right - rect.left;\n      info.height = \"height\" in rect ? rect.height : rect.bottom - rect.top;\n    }\n    return info;\n  };\n  /**\n * Reposition the Flash object to cover the currently activated element.\n *\n * @returns `undefined`\n * @private\n */\n  var _reposition = function() {\n    var htmlBridge;\n    if (_currentElement && (htmlBridge = _getHtmlBridge(_flashState.bridge))) {\n      var pos = _getDOMObjectPosition(_currentElement);\n      htmlBridge.style.width = pos.width + \"px\";\n      htmlBridge.style.height = pos.height + \"px\";\n      htmlBridge.style.top = pos.top + \"px\";\n      htmlBridge.style.left = pos.left + \"px\";\n      htmlBridge.style.zIndex = \"\" + _getSafeZIndex(_globalConfig.zIndex);\n    }\n  };\n  /**\n * Sends a signal to the Flash object to display the hand cursor if `true`.\n *\n * @returns `undefined`\n * @private\n */\n  var _setHandCursor = function(enabled) {\n    if (_flashState.ready === true) {\n      if (_flashState.bridge && typeof _flashState.bridge.setHandCursor === \"function\") {\n        _flashState.bridge.setHandCursor(enabled);\n      } else {\n        _flashState.ready = false;\n      }\n    }\n  };\n  /**\n * Get a safe value for `zIndex`\n *\n * @returns an integer, or \"auto\"\n * @private\n */\n  var _getSafeZIndex = function(val) {\n    if (/^(?:auto|inherit)$/.test(val)) {\n      return val;\n    }\n    var zIndex;\n    if (typeof val === \"number\" && !_isNaN(val)) {\n      zIndex = val;\n    } else if (typeof val === \"string\") {\n      zIndex = _getSafeZIndex(_parseInt(val, 10));\n    }\n    return typeof zIndex === \"number\" ? zIndex : \"auto\";\n  };\n  /**\n * Detect the Flash Player status, version, and plugin type.\n *\n * @see {@link https://code.google.com/p/doctype-mirror/wiki/ArticleDetectFlash#The_code}\n * @see {@link http://stackoverflow.com/questions/12866060/detecting-pepper-ppapi-flash-with-javascript}\n *\n * @returns `undefined`\n * @private\n */\n  var _detectFlashSupport = function(ActiveXObject) {\n    var plugin, ax, mimeType, hasFlash = false, isActiveX = false, isPPAPI = false, flashVersion = \"\";\n    /**\n   * Derived from Apple's suggested sniffer.\n   * @param {String} desc e.g. \"Shockwave Flash 7.0 r61\"\n   * @returns {String} \"7.0.61\"\n   * @private\n   */\n    function parseFlashVersion(desc) {\n      var matches = desc.match(/[\\d]+/g);\n      matches.length = 3;\n      return matches.join(\".\");\n    }\n    function isPepperFlash(flashPlayerFileName) {\n      return !!flashPlayerFileName && (flashPlayerFileName = flashPlayerFileName.toLowerCase()) && (/^(pepflashplayer\\.dll|libpepflashplayer\\.so|pepperflashplayer\\.plugin)$/.test(flashPlayerFileName) || flashPlayerFileName.slice(-13) === \"chrome.plugin\");\n    }\n    function inspectPlugin(plugin) {\n      if (plugin) {\n        hasFlash = true;\n        if (plugin.version) {\n          flashVersion = parseFlashVersion(plugin.version);\n        }\n        if (!flashVersion && plugin.description) {\n          flashVersion = parseFlashVersion(plugin.description);\n        }\n        if (plugin.filename) {\n          isPPAPI = isPepperFlash(plugin.filename);\n        }\n      }\n    }\n    if (_navigator.plugins && _navigator.plugins.length) {\n      plugin = _navigator.plugins[\"Shockwave Flash\"];\n      inspectPlugin(plugin);\n      if (_navigator.plugins[\"Shockwave Flash 2.0\"]) {\n        hasFlash = true;\n        flashVersion = \"2.0.0.11\";\n      }\n    } else if (_navigator.mimeTypes && _navigator.mimeTypes.length) {\n      mimeType = _navigator.mimeTypes[\"application/x-shockwave-flash\"];\n      plugin = mimeType && mimeType.enabledPlugin;\n      inspectPlugin(plugin);\n    } else if (typeof ActiveXObject !== \"undefined\") {\n      isActiveX = true;\n      try {\n        ax = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.7\");\n        hasFlash = true;\n        flashVersion = parseFlashVersion(ax.GetVariable(\"$version\"));\n      } catch (e1) {\n        try {\n          ax = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.6\");\n          hasFlash = true;\n          flashVersion = \"6.0.21\";\n        } catch (e2) {\n          try {\n            ax = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");\n            hasFlash = true;\n            flashVersion = parseFlashVersion(ax.GetVariable(\"$version\"));\n          } catch (e3) {\n            isActiveX = false;\n          }\n        }\n      }\n    }\n    _flashState.disabled = hasFlash !== true;\n    _flashState.outdated = flashVersion && _parseFloat(flashVersion) < _parseFloat(_minimumFlashVersion);\n    _flashState.version = flashVersion || \"0.0.0\";\n    _flashState.pluginType = isPPAPI ? \"pepper\" : isActiveX ? \"activex\" : hasFlash ? \"netscape\" : \"unknown\";\n  };\n  /**\n * Invoke the Flash detection algorithms immediately upon inclusion so we're not waiting later.\n */\n  _detectFlashSupport(_ActiveXObject);\n  /**\n * A shell constructor for `ZeroClipboard` client instances.\n *\n * @constructor\n */\n  var ZeroClipboard = function() {\n    if (!(this instanceof ZeroClipboard)) {\n      return new ZeroClipboard();\n    }\n    if (typeof ZeroClipboard._createClient === \"function\") {\n      ZeroClipboard._createClient.apply(this, _args(arguments));\n    }\n  };\n  /**\n * The ZeroClipboard library's version number.\n *\n * @static\n * @readonly\n * @property {string}\n */\n  ZeroClipboard.version = \"2.0.0-beta.6\";\n  _makeReadOnly(ZeroClipboard, \"version\");\n  /**\n * Update or get a copy of the ZeroClipboard global configuration.\n * Returns a copy of the current/updated configuration.\n *\n * @returns Object\n * @static\n */\n  ZeroClipboard.config = function() {\n    return _config.apply(this, _args(arguments));\n  };\n  /**\n * Diagnostic method that describes the state of the browser, Flash Player, and ZeroClipboard.\n *\n * @returns Object\n * @static\n */\n  ZeroClipboard.state = function() {\n    return _state.apply(this, _args(arguments));\n  };\n  /**\n * Check if Flash is unusable for any reason: disabled, outdated, deactivated, etc.\n *\n * @returns Boolean\n * @static\n */\n  ZeroClipboard.isFlashUnusable = function() {\n    return _isFlashUnusable.apply(this, _args(arguments));\n  };\n  /**\n * Register an event listener.\n *\n * @returns `ZeroClipboard`\n * @static\n */\n  ZeroClipboard.on = function() {\n    return _on.apply(this, _args(arguments));\n  };\n  /**\n * Unregister an event listener.\n * If no `listener` function/object is provided, it will unregister all listeners for the provided `eventType`.\n * If no `eventType` is provided, it will unregister all listeners for every event type.\n *\n * @returns `ZeroClipboard`\n * @static\n */\n  ZeroClipboard.off = function() {\n    return _off.apply(this, _args(arguments));\n  };\n  /**\n * Retrieve event listeners for an `eventType`.\n * If no `eventType` is provided, it will retrieve all listeners for every event type.\n *\n * @returns array of listeners for the `eventType`; if no `eventType`, then a map/hash object of listeners for all event types; or `null`\n */\n  ZeroClipboard.handlers = function() {\n    return _listeners.apply(this, _args(arguments));\n  };\n  /**\n * Event emission receiver from the Flash object, forwarding to any registered JavaScript event listeners.\n *\n * @returns For the \"copy\" event, returns the Flash-friendly \"clipData\" object; otherwise `undefined`.\n * @static\n */\n  ZeroClipboard.emit = function() {\n    return _emit.apply(this, _args(arguments));\n  };\n  /**\n * Create and embed the Flash object.\n *\n * @returns The Flash object\n * @static\n */\n  ZeroClipboard.create = function() {\n    return _create.apply(this, _args(arguments));\n  };\n  /**\n * Self-destruct and clean up everything, including the embedded Flash object.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.destroy = function() {\n    return _destroy.apply(this, _args(arguments));\n  };\n  /**\n * Set the pending data for clipboard injection.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.setData = function() {\n    return _setData.apply(this, _args(arguments));\n  };\n  /**\n * Clear the pending data for clipboard injection.\n * If no `format` is provided, all pending data formats will be cleared.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.clearData = function() {\n    return _clearData.apply(this, _args(arguments));\n  };\n  /**\n * Sets the current HTML object that the Flash object should overlay. This will put the global\n * Flash object on top of the current element; depending on the setup, this may also set the\n * pending clipboard text data as well as the Flash object's wrapping element's title attribute\n * based on the underlying HTML element and ZeroClipboard configuration.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.activate = function() {\n    return _activate.apply(this, _args(arguments));\n  };\n  /**\n * Un-overlays the Flash object. This will put the global Flash object off-screen; depending on\n * the setup, this may also unset the Flash object's wrapping element's title attribute based on\n * the underlying HTML element and ZeroClipboard configuration.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.deactivate = function() {\n    return _deactivate.apply(this, _args(arguments));\n  };\n  /**\n * Keep track of the ZeroClipboard client instance counter.\n */\n  var _clientIdCounter = 0;\n  /**\n * Keep track of the state of the client instances.\n *\n * Entry structure:\n *   _clientMeta[client.id] = {\n *     instance: client,\n *     elements: [],\n *     handlers: {}\n *   };\n */\n  var _clientMeta = {};\n  /**\n * Keep track of the ZeroClipboard clipped elements counter.\n */\n  var _elementIdCounter = 0;\n  /**\n * Keep track of the state of the clipped element relationships to clients.\n *\n * Entry structure:\n *   _elementMeta[element.zcClippingId] = [client1.id, client2.id];\n */\n  var _elementMeta = {};\n  /**\n * Keep track of the state of the mouse event handlers for clipped elements.\n *\n * Entry structure:\n *   _mouseHandlers[element.zcClippingId] = {\n *     mouseover: function(event) {},\n *     mouseout:  function(event) {}\n *   };\n */\n  var _mouseHandlers = {};\n  /**\n * Extending the ZeroClipboard configuration defaults for the Client module.\n */\n  _extend(_globalConfig, {\n    autoActivate: true\n  });\n  /**\n * The real constructor for `ZeroClipboard` client instances.\n * @private\n */\n  var _clientConstructor = function(elements) {\n    var client = this;\n    client.id = \"\" + _clientIdCounter++;\n    _clientMeta[client.id] = {\n      instance: client,\n      elements: [],\n      handlers: {}\n    };\n    if (elements) {\n      client.clip(elements);\n    }\n    ZeroClipboard.on(\"*\", function(event) {\n      return client.emit(event);\n    });\n    ZeroClipboard.on(\"destroy\", function() {\n      client.destroy();\n    });\n    ZeroClipboard.create();\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.on`.\n * @private\n */\n  var _clientOn = function(eventType, listener) {\n    var i, len, events, added = {}, handlers = _clientMeta[this.id] && _clientMeta[this.id].handlers;\n    if (typeof eventType === \"string\" && eventType) {\n      events = eventType.toLowerCase().split(/\\s+/);\n    } else if (typeof eventType === \"object\" && eventType && typeof listener === \"undefined\") {\n      for (i in eventType) {\n        if (_hasOwn.call(eventType, i) && typeof i === \"string\" && i && typeof eventType[i] === \"function\") {\n          this.on(i, eventType[i]);\n        }\n      }\n    }\n    if (events && events.length) {\n      for (i = 0, len = events.length; i < len; i++) {\n        eventType = events[i].replace(/^on/, \"\");\n        added[eventType] = true;\n        if (!handlers[eventType]) {\n          handlers[eventType] = [];\n        }\n        handlers[eventType].push(listener);\n      }\n      if (added.ready && _flashState.ready) {\n        this.emit({\n          type: \"ready\",\n          client: this\n        });\n      }\n      if (added.error) {\n        var errorTypes = [ \"disabled\", \"outdated\", \"unavailable\", \"deactivated\", \"overdue\" ];\n        for (i = 0, len = errorTypes.length; i < len; i++) {\n          if (_flashState[errorTypes[i]]) {\n            this.emit({\n              type: \"error\",\n              name: \"flash-\" + errorTypes[i],\n              client: this\n            });\n            break;\n          }\n        }\n      }\n    }\n    return this;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.off`.\n * @private\n */\n  var _clientOff = function(eventType, listener) {\n    var i, len, foundIndex, events, perEventHandlers, handlers = _clientMeta[this.id] && _clientMeta[this.id].handlers;\n    if (arguments.length === 0) {\n      events = _objectKeys(handlers);\n    } else if (typeof eventType === \"string\" && eventType) {\n      events = eventType.split(/\\s+/);\n    } else if (typeof eventType === \"object\" && eventType && typeof listener === \"undefined\") {\n      for (i in eventType) {\n        if (_hasOwn.call(eventType, i) && typeof i === \"string\" && i && typeof eventType[i] === \"function\") {\n          this.off(i, eventType[i]);\n        }\n      }\n    }\n    if (events && events.length) {\n      for (i = 0, len = events.length; i < len; i++) {\n        eventType = events[i].toLowerCase().replace(/^on/, \"\");\n        perEventHandlers = handlers[eventType];\n        if (perEventHandlers && perEventHandlers.length) {\n          if (listener) {\n            foundIndex = _inArray(listener, perEventHandlers);\n            while (foundIndex !== -1) {\n              perEventHandlers.splice(foundIndex, 1);\n              foundIndex = _inArray(listener, perEventHandlers, foundIndex);\n            }\n          } else {\n            perEventHandlers.length = 0;\n          }\n        }\n      }\n    }\n    return this;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.handlers`.\n * @private\n */\n  var _clientListeners = function(eventType) {\n    var copy = null, handlers = _clientMeta[this.id] && _clientMeta[this.id].handlers;\n    if (handlers) {\n      if (typeof eventType === \"string\" && eventType) {\n        copy = handlers[eventType] ? handlers[eventType].slice(0) : [];\n      } else {\n        copy = _deepCopy(handlers);\n      }\n    }\n    return copy;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.emit`.\n * @private\n */\n  var _clientEmit = function(event) {\n    if (_clientShouldEmit.call(this, event)) {\n      if (typeof event === \"object\" && event && typeof event.type === \"string\" && event.type) {\n        event = _extend({}, event);\n      }\n      var eventCopy = _extend({}, _createEvent(event), {\n        client: this\n      });\n      _clientDispatchCallbacks.call(this, eventCopy);\n    }\n    return this;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.clip`.\n * @private\n */\n  var _clientClip = function(elements) {\n    elements = _prepClip(elements);\n    for (var i = 0; i < elements.length; i++) {\n      if (_hasOwn.call(elements, i) && elements[i] && elements[i].nodeType === 1) {\n        if (!elements[i].zcClippingId) {\n          elements[i].zcClippingId = \"zcClippingId_\" + _elementIdCounter++;\n          _elementMeta[elements[i].zcClippingId] = [ this.id ];\n          if (_globalConfig.autoActivate === true) {\n            _addMouseHandlers(elements[i]);\n          }\n        } else if (_inArray(this.id, _elementMeta[elements[i].zcClippingId]) === -1) {\n          _elementMeta[elements[i].zcClippingId].push(this.id);\n        }\n        var clippedElements = _clientMeta[this.id] && _clientMeta[this.id].elements;\n        if (_inArray(elements[i], clippedElements) === -1) {\n          clippedElements.push(elements[i]);\n        }\n      }\n    }\n    return this;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.unclip`.\n * @private\n */\n  var _clientUnclip = function(elements) {\n    var meta = _clientMeta[this.id];\n    if (!meta) {\n      return this;\n    }\n    var clippedElements = meta.elements;\n    var arrayIndex;\n    if (typeof elements === \"undefined\") {\n      elements = clippedElements.slice(0);\n    } else {\n      elements = _prepClip(elements);\n    }\n    for (var i = elements.length; i--; ) {\n      if (_hasOwn.call(elements, i) && elements[i] && elements[i].nodeType === 1) {\n        arrayIndex = 0;\n        while ((arrayIndex = _inArray(elements[i], clippedElements, arrayIndex)) !== -1) {\n          clippedElements.splice(arrayIndex, 1);\n        }\n        var clientIds = _elementMeta[elements[i].zcClippingId];\n        if (clientIds) {\n          arrayIndex = 0;\n          while ((arrayIndex = _inArray(this.id, clientIds, arrayIndex)) !== -1) {\n            clientIds.splice(arrayIndex, 1);\n          }\n          if (clientIds.length === 0) {\n            if (_globalConfig.autoActivate === true) {\n              _removeMouseHandlers(elements[i]);\n            }\n            delete elements[i].zcClippingId;\n          }\n        }\n      }\n    }\n    return this;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.elements`.\n * @private\n */\n  var _clientElements = function() {\n    var meta = _clientMeta[this.id];\n    return meta && meta.elements ? meta.elements.slice(0) : [];\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.destroy`.\n * @private\n */\n  var _clientDestroy = function() {\n    this.unclip();\n    this.off();\n    delete _clientMeta[this.id];\n  };\n  /**\n * Inspect an Event to see if the Client (`this`) should honor it for emission.\n * @private\n */\n  var _clientShouldEmit = function(event) {\n    if (!(event && event.type)) {\n      return false;\n    }\n    if (event.client && event.client !== this) {\n      return false;\n    }\n    var clippedEls = _clientMeta[this.id] && _clientMeta[this.id].elements;\n    var hasClippedEls = !!clippedEls && clippedEls.length > 0;\n    var goodTarget = !event.target || hasClippedEls && _inArray(event.target, clippedEls) !== -1;\n    var goodRelTarget = event.relatedTarget && hasClippedEls && _inArray(event.relatedTarget, clippedEls) !== -1;\n    var goodClient = event.client && event.client === this;\n    if (!(goodTarget || goodRelTarget || goodClient)) {\n      return false;\n    }\n    return true;\n  };\n  /**\n * Handle the actual dispatching of events to a client instance.\n *\n * @returns `this`\n * @private\n */\n  var _clientDispatchCallbacks = function(event) {\n    if (!(typeof event === \"object\" && event && event.type)) {\n      return;\n    }\n    var async = _shouldPerformAsync(event);\n    var wildcardTypeHandlers = _clientMeta[this.id] && _clientMeta[this.id].handlers[\"*\"] || [];\n    var specificTypeHandlers = _clientMeta[this.id] && _clientMeta[this.id].handlers[event.type] || [];\n    var handlers = wildcardTypeHandlers.concat(specificTypeHandlers);\n    if (handlers && handlers.length) {\n      var i, len, func, context, eventCopy, originalContext = this;\n      for (i = 0, len = handlers.length; i < len; i++) {\n        func = handlers[i];\n        context = originalContext;\n        if (typeof func === \"string\" && typeof _window[func] === \"function\") {\n          func = _window[func];\n        }\n        if (typeof func === \"object\" && func && typeof func.handleEvent === \"function\") {\n          context = func;\n          func = func.handleEvent;\n        }\n        if (typeof func === \"function\") {\n          eventCopy = _extend({}, event);\n          _dispatchCallback(func, context, [ eventCopy ], async);\n        }\n      }\n    }\n    return this;\n  };\n  /**\n * Prepares the elements for clipping/unclipping.\n *\n * @returns An Array of elements.\n * @private\n */\n  var _prepClip = function(elements) {\n    if (typeof elements === \"string\") {\n      elements = [];\n    }\n    return typeof elements.length !== \"number\" ? [ elements ] : elements;\n  };\n  /**\n * Add an event listener to a DOM element (because IE<9 sucks).\n *\n * @returns The element.\n * @private\n */\n  var _addEventHandler = function(element, method, func) {\n    if (!element || element.nodeType !== 1) {\n      return element;\n    }\n    if (element.addEventListener) {\n      element.addEventListener(method, func, false);\n    } else if (element.attachEvent) {\n      element.attachEvent(\"on\" + method, func);\n    }\n    return element;\n  };\n  /**\n * Remove an event listener from a DOM element (because IE<9 sucks).\n *\n * @returns The element.\n * @private\n */\n  var _removeEventHandler = function(element, method, func) {\n    if (!element || element.nodeType !== 1) {\n      return element;\n    }\n    if (element.removeEventListener) {\n      element.removeEventListener(method, func, false);\n    } else if (element.detachEvent) {\n      element.detachEvent(\"on\" + method, func);\n    }\n    return element;\n  };\n  /**\n * Add `mouseover`, `mousedown`, `mouseup`, and `mouseout` handler functions for a clipped element.\n *\n * @returns `undefined`\n * @private\n */\n  var _addMouseHandlers = function(element) {\n    if (!(element && element.nodeType === 1)) {\n      return;\n    }\n    var _elementMouseOver, _elementMouseDown, _elementMouseUp, _elementMouseOut;\n    _elementMouseDown = function() {\n      _addClass(element, _globalConfig.activeClass);\n    };\n    _elementMouseUp = function() {\n      _removeClass(element, _globalConfig.activeClass);\n    };\n    _elementMouseOut = function(event) {\n      if (!event) {\n        event = _window.event;\n      }\n      if (!event) {\n        return;\n      }\n      var relTarget = event.relatedTarget || event.toElement || null;\n      if (!(relTarget && relTarget.nodeType === 1)) {\n        return;\n      }\n      var htmlBridge;\n      if (_flashState.bridge != null && (relTarget === _flashState.bridge || (htmlBridge = _getHtmlBridge(_flashState.bridge)) && relTarget === htmlBridge)) {\n        return;\n      }\n      ZeroClipboard.deactivate();\n      _removeEventHandler(element, \"mouseup\", _elementMouseUp);\n      _removeEventHandler(element, \"mousedown\", _elementMouseDown);\n      _removeEventHandler(element, \"mouseout\", _elementMouseOut);\n      ZeroClipboard.off(\"mouseup\", _elementMouseUp);\n      ZeroClipboard.off(\"mousedown\", _elementMouseDown);\n      ZeroClipboard.off(\"mouseout\", _elementMouseOut);\n    };\n    _elementMouseOver = function(event) {\n      if (!event) {\n        event = _window.event;\n      }\n      if (!event) {\n        return;\n      }\n      ZeroClipboard.activate(element);\n      _addEventHandler(element, \"mouseout\", _elementMouseOut);\n      _addEventHandler(element, \"mousedown\", _elementMouseDown);\n      _addEventHandler(element, \"mouseup\", _elementMouseUp);\n      ZeroClipboard.on(\"mouseout\", _elementMouseOut);\n      ZeroClipboard.on(\"mousedown\", _elementMouseDown);\n      ZeroClipboard.on(\"mouseup\", _elementMouseUp);\n    };\n    _addEventHandler(element, \"mouseover\", _elementMouseOver);\n    ZeroClipboard.on(\"mouseover\", _elementMouseOver);\n    _mouseHandlers[element.zcClippingId] = {\n      mouseover: _elementMouseOver,\n      mouseout: _elementMouseOut,\n      mousedown: _elementMouseDown,\n      mouseup: _elementMouseUp\n    };\n  };\n  /**\n * Remove `mouseover`, `mousedown`, `mouseup`, and `mouseout` handler functions for a clipped element.\n *\n * @returns `undefined`\n * @private\n */\n  var _removeMouseHandlers = function(element) {\n    if (!(element && element.nodeType === 1)) {\n      return;\n    }\n    var mouseHandlers = _mouseHandlers[element.zcClippingId];\n    if (!(typeof mouseHandlers === \"object\" && mouseHandlers)) {\n      return;\n    }\n    if (typeof mouseHandlers.mouseup === \"function\") {\n      _removeEventHandler(element, \"mouseup\", mouseHandlers.mouseup);\n    }\n    if (typeof mouseHandlers.mousedown === \"function\") {\n      _removeEventHandler(element, \"mousedown\", mouseHandlers.mousedown);\n    }\n    if (typeof mouseHandlers.mouseout === \"function\") {\n      _removeEventHandler(element, \"mouseout\", mouseHandlers.mouseout);\n    }\n    if (typeof mouseHandlers.mouseover === \"function\") {\n      _removeEventHandler(element, \"mouseover\", mouseHandlers.mouseover);\n    }\n    ZeroClipboard.off(\"mouseup\", mouseHandlers.mouseup);\n    ZeroClipboard.off(\"mousedown\", mouseHandlers.mousedown);\n    ZeroClipboard.off(\"mouseout\", mouseHandlers.mouseout);\n    ZeroClipboard.off(\"mouseover\", mouseHandlers.mouseover);\n    delete _mouseHandlers[element.zcClippingId];\n  };\n  /**\n * Creates a new ZeroClipboard client instance.\n * Optionally, auto-`clip` an element or collection of elements.\n *\n * @constructor\n */\n  ZeroClipboard._createClient = function() {\n    _clientConstructor.apply(this, _args(arguments));\n  };\n  /**\n * Register an event listener to the client.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.on = function() {\n    return _clientOn.apply(this, _args(arguments));\n  };\n  /**\n * Unregister an event handler from the client.\n * If no `listener` function/object is provided, it will unregister all handlers for the provided `eventType`.\n * If no `eventType` is provided, it will unregister all handlers for every event type.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.off = function() {\n    return _clientOff.apply(this, _args(arguments));\n  };\n  /**\n * Retrieve event listeners for an `eventType` from the client.\n * If no `eventType` is provided, it will retrieve all listeners for every event type.\n *\n * @returns array of listeners for the `eventType`; if no `eventType`, then a map/hash object of listeners for all event types; or `null`\n */\n  ZeroClipboard.prototype.handlers = function() {\n    return _clientListeners.apply(this, _args(arguments));\n  };\n  /**\n * Event emission receiver from the Flash object for this client's registered JavaScript event listeners.\n *\n * @returns For the \"copy\" event, returns the Flash-friendly \"clipData\" object; otherwise `undefined`.\n */\n  ZeroClipboard.prototype.emit = function() {\n    return _clientEmit.apply(this, _args(arguments));\n  };\n  /**\n * Register clipboard actions for new element(s) to the client.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.clip = function() {\n    return _clientClip.apply(this, _args(arguments));\n  };\n  /**\n * Unregister the clipboard actions of previously registered element(s) on the page.\n * If no elements are provided, ALL registered elements will be unregistered.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.unclip = function() {\n    return _clientUnclip.apply(this, _args(arguments));\n  };\n  /**\n * Get all of the elements to which this client is clipped.\n *\n * @returns array of clipped elements\n */\n  ZeroClipboard.prototype.elements = function() {\n    return _clientElements.apply(this, _args(arguments));\n  };\n  /**\n * Self-destruct and clean up everything for a single client.\n * This will NOT destroy the embedded Flash object.\n *\n * @returns `undefined`\n */\n  ZeroClipboard.prototype.destroy = function() {\n    return _clientDestroy.apply(this, _args(arguments));\n  };\n  /**\n * Stores the pending plain text to inject into the clipboard.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.setText = function(text) {\n    ZeroClipboard.setData(\"text/plain\", text);\n    return this;\n  };\n  /**\n * Stores the pending HTML text to inject into the clipboard.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.setHtml = function(html) {\n    ZeroClipboard.setData(\"text/html\", html);\n    return this;\n  };\n  /**\n * Stores the pending rich text (RTF) to inject into the clipboard.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.setRichText = function(richText) {\n    ZeroClipboard.setData(\"application/rtf\", richText);\n    return this;\n  };\n  /**\n * Stores the pending data to inject into the clipboard.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.setData = function() {\n    ZeroClipboard.setData.apply(this, _args(arguments));\n    return this;\n  };\n  /**\n * Clears the pending data to inject into the clipboard.\n * If no `format` is provided, all pending data formats will be cleared.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.clearData = function() {\n    ZeroClipboard.clearData.apply(this, _args(arguments));\n    return this;\n  };\n  if (typeof define === \"function\" && define.amd) {\n    define(function() {\n      return ZeroClipboard;\n    });\n  } else if (typeof module === \"object\" && module && typeof module.exports === \"object\" && module.exports) {\n    module.exports = ZeroClipboard;\n  } else {\n    window.ZeroClipboard = ZeroClipboard;\n  }\n})(function() {\n  return this;\n}());"]}