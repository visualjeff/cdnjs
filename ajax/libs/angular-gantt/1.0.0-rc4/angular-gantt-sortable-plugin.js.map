{"version":3,"sources":["../src/plugins/sortable.js"],"names":[],"mappings":"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","file":"angular-gantt-sortable-plugin.js","sourcesContent":["(function(){\n    'use strict';\n    angular.module('gantt.sortable', ['gantt', 'ang-drag-drop']).directive('ganttSortable', ['ganttUtils', '$compile', function(utils, $compile) {\n        // Provides the row sort functionality to any Gantt row\n        // Uses the sortableState to share the current row\n\n        return {\n            restrict: 'E',\n            require: '^gantt',\n            scope: {\n                enabled: '=?'\n            },\n            link: function(scope, element, attrs, ganttCtrl) {\n                var api = ganttCtrl.gantt.api;\n\n                // Load options from global options attribute.\n                if (scope.options && typeof(scope.options.sortable) === 'object') {\n                    for (var option in scope.options.sortable) {\n                        scope[option] = scope.options[option];\n                    }\n                }\n\n                if (scope.enabled === undefined) {\n                    scope.enabled = true;\n                }\n\n                api.directives.on.new(scope, function(directiveName, rowScope, rowElement) {\n                    if (directiveName === 'ganttRowLabel') {\n                        rowScope.checkDraggable = function() {\n                            return utils.firstProperty([rowScope.row.model.sortable], 'enabled', scope.enabled);\n                        };\n\n                        rowScope.onDropSuccess = function() {\n                            rowScope.$evalAsync();\n                        };\n\n                        rowScope.onDrop = function(evt, data) {\n                            var row = rowScope.row.rowsManager.rowsMap[data.id];\n                            if (row !== rowScope) {\n                                rowScope.row.rowsManager.moveRow(row, rowScope.row);\n                                rowScope.$evalAsync();\n                            }\n                        };\n\n                        rowElement.attr('ui-draggable', '{{checkDraggable()}}');\n                        rowElement.attr('drag-channel', '\\'sortable\\'');\n                        rowElement.attr('ui-on-drop', 'onDrop($event, $data)');\n                        rowElement.attr('on-drop-success', 'onDropSuccess()');\n\n                        rowElement.attr('drop-channel', '\\'sortable\\'');\n                        rowElement.attr('drag', 'row.model');\n\n                        $compile(rowElement)(rowScope);\n                    }\n                });\n\n            }\n        };\n    }]);\n}());\n\n"]}