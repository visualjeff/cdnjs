{"version":3,"file":"angular-gantt-movable-plugin.min.js","sources":["../src/plugins/movable.js","../src/plugins/movable/movableOptions.factory.js"],"names":["angular","module","directive","mouseButton","mouseOffset","smartEvent","movableOptions","utils","$window","$document","$timeout","restrict","require","scope","enabled","allowMoving","allowResizing","allowRowSwitching","link","element","attrs","ganttCtrl","api","gantt","options","option","movable","initialize","registerEvent","mouseStartOffsetX","moveStartX","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","taskWithSmallWidth","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","directives","on","new","directiveName","taskScope","taskElement","scrollInterval","windowElement","ganttBodyElement","row","rowsManager","body","$element","ganttScrollElement","scroll","taskHasBeenChanged","evt","preventDefault","getTouch","firstProperty","task","model","taskOffsetX","getOffset","x","mode","getMoveMode","getButton","bodyOffsetX","getOffsetForElement","enableMoveMode","$digest","isMoving","css","getCursor","handleMove","moveTask","scrollScreen","mousePos","mouseOffsetX","taskOutOfRange","value","moveMode","targetRow","scrollRect","getBoundingClientRect","rowCenterLeft","left","width","targetRowElement","findElementFromPoint","clientY","hasClass","rows","i","l","length","sourceRow","undefined","moveTaskToRow","$scope","moveTo","tasks","raise","move","setGlobalCursor","setTo","resize","setFrom","leftScreenBorder","scrollLeft","screenWidth","offsetWidth","scrollWidth","rightScreenBorder","keepOnScrolling","right","clearScrollInterval","cancel","distance","cursor","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","originalModel","originalRow","copy","addClass","moveBegin","resizeBegin","isResizing","modelLeft","active","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","bind","unbind","disableMoveMode","bindOnce","removeClass","extend","id","removeTask","$apply","moveEnd","resizeEnd","sortTasks","change","factory"],"mappings":"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"}