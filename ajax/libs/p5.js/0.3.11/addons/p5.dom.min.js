var p5DOM=function(){function t(t,e,i){var n=e._userNode?e._userNode:document.body;n.appendChild(t);var o=i?new p5.MediaElement(t):new p5.Element(t);return e._elements.push(o),o}function e(e,i,n,o){var r=document.createElement(i);"string"==typeof n&&(n=[n]);for(var s=0;s<n.length;s++){var p=document.createElement("source");p.src=n[s],r.appendChild(p)}"undefined"!=typeof o&&r.addEventListener("canplaythrough",function(){o()});var a=t(r,e,!0);return a.loadedmetadata=!1,r.addEventListener("loadedmetadata",function(){a.width=r.videoWidth,a.height=r.videoHeight,a.loadedmetadata=!0}),a}p5.prototype.getElement=function(t){var e=document.getElementById(t);return e?new p5.Element(e):null},p5.prototype.getElements=function(t){var e=[],i=document.getElementsByClassName(t);if(i)for(var n=0;n<i.length;n++){var o=new p5.Element(i[n]);e.push(o)}return e},p5.prototype.removeElements=function(){for(var t=0;t<this._elements.length;t++)this._elements[t].elt instanceof HTMLCanvasElement||this._elements[t].remove()};var i=["div","p","span"];i.forEach(function(e){var i="create"+e.charAt(0).toUpperCase()+e.slice(1);p5.prototype[i]=function(i){var n=document.createElement(e);return n.innerHTML=i,t(n,this)}}),p5.prototype.createImg=function(e,i){var n=document.createElement("img");return n.src=e,"undefined"!=typeof i&&(n.alt=i),t(n,this)},p5.prototype.createA=function(e,i,n){var o=document.createElement("a");return o.href=e,o.innerHTML=i,n&&(o.target=n),t(o,this)},p5.prototype.createSlider=function(e,i,n){var o=document.createElement("input");return o.type="range",o.min=e,o.max=i,n&&(o.value=n),t(o,this)},p5.prototype.createButton=function(e,i){var n=document.createElement("button");return n.innerHTML=e,n.value=i,i&&(n.value=i),t(n,this)},p5.prototype.createInput=function(e){var i=document.createElement("input");return i.type="text",e&&(i.value=e),t(i,this)},p5.prototype.createVideo=function(t,i){return e(this,"video",t,i)},p5.prototype.createAudio=function(t,i){return e(this,"audio",t,i)},p5.prototype.VIDEO="video",p5.prototype.AUDIO="audio",navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,p5.prototype.createCapture=function(e){var i,n;if(e?e===p5.prototype.VIDEO?i=!0:e===p5.prototype.AUDIO&&(n=!0):(i=!0,n=!0),!navigator.getUserMedia)throw"getUserMedia not supported in this browser";var o=document.createElement("video");return navigator.getUserMedia({video:i,audio:n},function(t){o.src=window.URL.createObjectURL(t),o.play()},function(t){console.log(t)}),t(o,this)},p5.prototype.createElement=function(e,i){var n=document.createElement(e);return"undefined"!=typeof i&&(n.innerHTML=i),t(n,this)},p5.Element.prototype.addClass=function(t){return this.elt.className=this.elt.className?this.elt.className+" "+t:t,this},p5.Element.prototype.removeClass=function(t){var e=new RegExp("(?:^|\\s)"+t+"(?!\\S)");return this.elt.className=this.elt.className.replace(e,""),this.elt.className=this.elt.className.replace(/^\s+|\s+$/g,""),this},p5.Element.prototype.child=function(t){return"string"==typeof t?t=document.getElementById(t):t instanceof p5.Element&&(t=t.elt),this.elt.appendChild(t),this},p5.Element.prototype.html=function(t){return"undefined"!=typeof t?(this.elt.innerHTML=t,this):this.elt.innerHTML},p5.Element.prototype.position=function(t,e){return this.elt.style.position="absolute",this.elt.style.left=t+"px",this.elt.style.top=e+"px",this},p5.Element.prototype.style=function(t,e){if("undefined"==typeof e){for(var i=t.split(";"),n=0;n<i.length;n++){var o=i[n].split(":");o[0]&&o[1]&&(this.elt.style[o[0].trim()]=o[1].trim())}console.log(this.elt.style)}else this.elt.style[t]=e;return this},p5.Element.prototype.attribute=function(t,e){return"undefined"==typeof e?this.elt.getAttribute(t):(this.elt.setAttribute(t,e),this)},p5.Element.prototype.value=function(){return arguments.length>0?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},p5.Element.prototype.show=function(){return this.elt.style.display="block",this},p5.Element.prototype.hide=function(){return this.elt.style.display="none",this},p5.Element.prototype.size=function(t,e){var i=t,n=e,o=p5.prototype.AUTO;if(i!==o||n!==o){if(i===o?i=e*this.elt.width/this.elt.height:n===o&&(n=t*this.elt.height/this.elt.width),this.elt instanceof HTMLCanvasElement){var r={},s=this.elt.getContext("2d");for(var p in s)r[p]=s[p];this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",n*this._pInst._pixelDensity),this.elt.setAttribute("style","width:"+i+"px !important; height:"+n+"px !important;"),this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity);for(var p in r)this.elt.getContext("2d")[p]=r[p]}else this.elt.style.width=i+"px",this.elt.style.height=n+"px";this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},p5.Element.prototype.remove=function(){for(var t in this._events)this.elt.removeEventListener(t,this._events[t]);this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt),delete this},p5.MediaElement=function(t,e){p5.Element.call(this,t,e)},p5.MediaElement.prototype=Object.create(p5.Element.prototype),p5.MediaElement.prototype.play=function(){return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),this.elt.play(),this},p5.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},p5.MediaElement.prototype.pause=function(){return this.elt.pause(),this},p5.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},p5.MediaElement.prototype.noLoop=function(){return this.elt.setAttribute("loop",!1),this},p5.MediaElement.prototype.autoplay=function(t){return this.elt.setAttribute("autoplay",t),this},p5.MediaElement.prototype.volume=function(t){return"undefined"==typeof t?this.elt.volume:void(this.elt.volume=t)},p5.MediaElement.prototype.time=function(t){return"undefined"==typeof t?this.elt.currentTime:void(this.elt.currentTime=t)},p5.MediaElement.prototype.duration=function(){return this.elt.duration},p5.MediaElement.prototype.pixels=[],p5.MediaElement.prototype.loadPixels=function(){return this.loadedmetadata&&(this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d")),this.drawingContext.drawImage(this.elt,0,0),p5.prototype.loadPixels.call(this)),this},p5.MediaElement.prototype.updatePixels=function(t,e,i,n){return this.loadedmetadata&&p5.prototype.updatePixels.call(this,t,e,i,n),this},p5.MediaElement.prototype.get=function(t,e,i,n){return this.loadedmetadata?p5.prototype.get.call(this,t,e,i,n):[0,0,0,255]},p5.MediaElement.prototype.set=function(t,e,i){this.loadedmetadata&&p5.prototype.set.call(this,t,e,i)}}();